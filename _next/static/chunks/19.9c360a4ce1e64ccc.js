"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[19],{17397:(e,t,a)=>{a.d(t,{FcD:()=>r.FcD,XL1:()=>r.XL1,azJ:()=>r.azJ});var r=a(39324)},12078:(e,t,a)=>{a.d(t,{k:()=>n.kH,v:()=>r.v});var r=a(54700),n=a(64077)},3960:(e,t,a)=>{a.d(t,{A:()=>d});var r=a(74848),n=a(17397),i=a(56332),o=a(45052),s=a(22671);let d=e=>{let{action:t}=e,a=(0,i._J)(),d=(0,s.A)();return a&&d?(0,r.jsxs)(n.FcD,{severity:"warning",children:[(0,r.jsx)(n.XL1,{sx:{fontWeight:700},children:"Change your wallet network"}),"You are trying to"," ",t||"sign or execute a transaction"," on ",a.chainName,". Make sure that your wallet is set to the same network.",(0,r.jsx)(n.azJ,{sx:{mt:2},children:(0,r.jsx)(o.A,{})})]}):null}},31251:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var r=a(74848),n=a(78562),i=a(8109),o=a(96540),s=a(39324),d=a(79301),l=a(21886),c=a(15032),u=a(20781),h=a(6459),v=a(36420),f=a(96389),x=a(50988),E=a(3960),A=a(20863),S=a(14573);function y(e){let{item:t}=e,{submitError:a}=(0,o.useContext)(S.C),[,n]=(0,A.rt)(t),[,i]=(0,A.Rp)(t),s=null!=n?n:i;return a||s?(0,r.jsxs)(r.Fragment,{children:[s&&(0,r.jsx)(v.A,{error:s,children:"This transaction will most likely fail. To save gas costs, avoid executing the transaction."}),a&&(0,r.jsx)(v.A,{error:a,children:"Error submitting the transaction. Please try again."})]}):null}var w=a(74566),g=a(56680),p=a(46748),m=a(73536),C=a(68130);let I=e=>{let{item:t}=e,{asyncCallback:a,isLoading:n,error:i}=(0,g.V)(c._L),A=(0,u.Ay)(),{safe:S}=(0,h.A)(),{setTxFlow:I}=(0,o.useContext)(x.P),{setNonceNeeded:b}=(0,o.useContext)(C.H),G=(0,o.useCallback)(async e=>{if(e.preventDefault(),A)try{await a({provider:A.provider,chainId:S.chainId,args:t.args,delayModifierAddress:t.address,signerAddress:A.address}),I(void 0)}catch(e){(0,l.Oz)(l.I._812,e)}},[a,I,A,S,t.address,t.args]);return(0,o.useEffect)(()=>{b(!1)},[b]),(0,r.jsx)(f.A,{children:(0,r.jsxs)("form",{onSubmit:G,children:[(0,r.jsxs)(s.BJc,{sx:{gap:3,mb:2},children:[(0,r.jsx)(s.o5u,{children:"Execute this transaction to finalize the recovery."}),(0,r.jsx)(p.A,{title:"Initiator",children:(0,r.jsx)(m.A,{address:t.executor,showName:!0,showCopyButton:!0,hasExplorer:!0})}),(0,r.jsx)(s.cGx,{sx:{mx:-3}}),(0,r.jsx)(w.E,{item:t}),(0,r.jsx)(E.A,{}),(0,r.jsx)(y,{item:t}),i&&(0,r.jsx)(v.A,{error:i,children:"Error submitting the transaction."})]}),(0,r.jsx)(s.cGx,{sx:{mx:-3,my:3.5}}),(0,r.jsx)(s.waF,{children:(0,r.jsx)(d.A,{allowNonOwner:!0,children:e=>(0,r.jsx)(s.$nd,{"data-testid":"execute-through-role-form-btn",variant:"contained",type:"submit",disabled:!e||n,sx:{minWidth:"112px"},children:n?(0,r.jsx)(s.PaH,{size:20}):"Execute"})})})]})})},b=e=>{let{item:t}=e;return(0,r.jsx)(n.A,{title:"Recovery",subtitle:"Execute recovery",icon:i.A,step:0,hideNonce:!0,children:(0,r.jsx)(I,{item:t})})}},74566:(e,t,a)=>{a.d(t,{E:()=>A});var r=a(74848),n=a(71395),i=a(96540),o=a(73536),s=a(1436),d=a(36420),l=a(28575),c=a(6459),u=a(21886),h=a(49276),v=a(43241),f=a(45787),x=a(26393),E=a(52331);function A(e){let{item:t}=e,{args:a,isMalicious:A}=t,{safe:S}=(0,c.A)(),y=(0,l.f)(),w=(0,i.useMemo)(()=>{try{var e;return e={to:a.to,value:a.value.toString(),data:a.data},((0,v.cb)(e.data)?(0,E.decodeMultiSendData)(e.data):[e]).reduce((e,t)=>(function(e,t){var a;let r=(0,f.getSafeSingletonDeployment)({network:e.chainId,version:null!==(a=e.version)&&void 0!==a?a:void 0});if(!r)throw Error("No Safe deployment found");let n=new x.KA(r.abi),i=e.owners,o=e.threshold;if((0,v.fp)(t.data)){let[,a,r]=n.decodeFunctionData("swapOwner",t.data);i=e.owners.map(e=>(0,h.xU)(e.value,a)?{value:r}:e)}else if((0,v.ib)(t.data)){let[e,a]=n.decodeFunctionData("addOwnerWithThreshold",t.data);i=i.concat({value:e}),o=Number(a)}else if((0,v.YN)(t.data)){let[,a,r]=n.decodeFunctionData("removeOwner",t.data);i=e.owners.filter(e=>!(0,h.xU)(e.value,a)),o=Number(r)}else if((0,v.KU)(t.data)){let[e]=n.decodeFunctionData("changeThreshold",t.data);o=Number(e)}else throw Error("Unexpected transaction");return{...e,owners:i,threshold:o}})(e,t),S)}catch(e){(0,u.vV)(u.I._811,e)}},[a.data,a.to,a.value,S.threshold,S.owners]);return A?(0,r.jsx)(d.A,{children:"This transaction potentially calls malicious actions. We recommend cancelling it."}):w&&0!==w.owners.length?(0,r.jsxs)(s.d,{title:"Add signer(s):",children:[w.owners.map(e=>(0,r.jsx)(o.A,{address:e.value,shortAddress:!1,showCopyButton:!0,hasExplorer:!0},e.value)),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.o5u,{fontWeight:700,gutterBottom:!0,children:"Required confirmations for new transactions:"}),(0,r.jsxs)(n.o5u,{children:[w.threshold," out of ",w.owners.length," owner(s)"]})]})]}):(0,r.jsxs)(d.A,{children:["This recovery proposal will fail as the owner structure has since been modified. We recommend cancelling it",y?" and trying again":"","."]})}},14573:(e,t,a)=>{a.d(t,{C:()=>i,S:()=>o});var r=a(74848),n=a(96540);let i=(0,n.createContext)({submitError:void 0,setSubmitError:()=>{}});function o(e){let{children:t}=e,[a,o]=(0,n.useState)(void 0);return(0,r.jsx)(i.Provider,{value:{submitError:a,setSubmitError:o},children:t})}},28575:(e,t,a)=>{a.d(t,{f:()=>o});var r=a(77413),n=a(20781),i=a(29025);function o(){let[e]=(0,i.A)(),t=(0,n.Ay)();return!!((null==t?void 0:t.address)&&e&&(0,r.pd)(e,t.address))}},20863:(e,t,a)=>{a.d(t,{Cw:()=>u,Rp:()=>v,rt:()=>h});var r=a(12078),n=a(20781),i=a(28213),o=a(56680),s=a(6459),d=a(31088),l=a(99126),c=a(28575);function u(e,t){let a=(0,n.Ay)(),{safe:l}=(0,s.A)(),u=(0,i.vH)(),h=(0,c.f)();return(0,o.A)(async()=>{if(!h||!t||!a||!u||!e)return;let n=(0,d.b)(a,l.chainId,u),i=(0,r.k)(r.v.DELAY,e,n),o=await n.getSigner();return i.connect(o).execTransactionFromModule.staticCall(t.data.to,t.data.value,t.data.data,t.data.operation)},[h,t,a,u,l.chainId,e])}function h(e){let t=(0,n.Ay)(),{safe:a}=(0,s.A)(),c=(0,i.vH)(),{isExecutable:u}=(0,l.y)(e);return(0,o.A)(async()=>{if(!u||!(null==t?void 0:t.address)||!c)return;let n=(0,d.b)(t,a.chainId,c),i=(0,r.k)(r.v.DELAY,e.address,n),o=await n.getSigner(),s=i.connect(o),{to:l,value:h,data:v,operation:f}=e.args;return await s.executeNextTx.staticCall(l,h,v,f),!0},[u,e.address,e.args,a.chainId,t,c])}function v(e){let t=(0,n.Ay)(),{safe:a}=(0,s.A)(),c=(0,i.vH)(),{isExpired:u}=(0,l.y)(e);return(0,o.A)(async()=>{if(!u||!(null==t?void 0:t.address)||!c)return;let n=(0,d.b)(t,a.chainId,c),i=(0,r.k)(r.v.DELAY,e.address,n),o=await n.getSigner(),s=i.connect(o);return await s.skipExpired.staticCall(),!0},[u,e.address,a.chainId,t,c])}},99126:(e,t,a)=>{a.d(t,{y:()=>s});var r=a(96540),n=a(77413),i=a(65878),o=a(49276);function s(e){let{validFrom:t,expiresAt:a,transactionHash:s,args:d,address:l}=e,{state:c,pending:u}=i.A.useStore()||{},h=null==c?void 0:c[0],v=h&&(0,n.sp)(h,s),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,[t,a]=(0,r.useState)(Date.now());return(0,r.useEffect)(()=>{let t=setInterval(()=>{a(t=>t+e)},e);return()=>{clearInterval(t)}},[e]),t}(6e4),x=Number(t)-f,E=x<=0,A=null!==a&&Number(a)<=Date.now(),S=!v||(0,o.xU)(v.address,l)&&BigInt(d.queueNonce)===BigInt(v.txNonce),y=!!(null==u?void 0:u[d.txHash]),w=E?0:Math.ceil(x/1e3);return{isNext:S,isExecutable:S&&E&&!A,isExpired:A,remainingSeconds:w,isPending:y}}},15032:(e,t,a)=>{a.d(t,{_:()=>v,_L:()=>h,wQ:()=>u});var r=a(12078),n=a(77555),i=a(84949),o=a(55155),s=a(42309),d=a(44894);async function l(e){let{provider:t,chainId:a,delayModifierAddress:n,signerAddress:i}=e,o=await (0,d.tA)(a,i),l=await (0,s.RF)(t);return{isUnchecked:o,delayModifier:(0,r.k)(r.v.DELAY,n,l).connect(l)}}function c(e){let{tx:t,...a}=e,r={...a,txHash:t.hash};(0,i.aG)(i.E8.PROCESSING,r),t.wait().then(e=>{(0,n.EB)(e)?(0,i.aG)(i.E8.REVERTED,{...r,error:Error("Transaction reverted by EVM")}):(0,i.aG)(i.E8.PROCESSED,r)}).catch(e=>{(0,n.w1)(e)?(0,i.aG)(i.E8.PROCESSED,r):(0,i.aG)(i.E8.FAILED,{...r,error:(0,o.z)(e)})})}async function u(e){let t,{provider:a,safe:r,safeTx:n,delayModifierAddress:s,signerAddress:d}=e,{delayModifier:u,isUnchecked:h}=await l({provider:a,chainId:r.chainId,delayModifierAddress:s,signerAddress:d}),v=i.M8.PROPOSAL;try{t=await u.getTransactionHash(n.data.to,n.data.value,n.data.data,n.data.operation);let e=await u.execTransactionFromModule(n.data.to,n.data.value,n.data.data,n.data.operation);h?(0,i.aG)(i.E8.PROCESSING_BY_SMART_CONTRACT_WALLET,{moduleAddress:s,recoveryTxHash:t,txType:v,txHash:e.hash}):c({moduleAddress:s,recoveryTxHash:t,txType:v,tx:e})}catch(e){throw(0,i.aG)(i.E8.FAILED,{moduleAddress:s,recoveryTxHash:t,txType:v,error:(0,o.z)(e)}),e}}async function h(e){let{provider:t,chainId:a,args:r,delayModifierAddress:n,signerAddress:s}=e,{delayModifier:d,isUnchecked:u}=await l({provider:t,chainId:a,delayModifierAddress:n,signerAddress:s}),h=i.M8.EXECUTION;try{let e=await d.executeNextTx(r.to,r.value,r.data,r.operation);u?(0,i.aG)(i.E8.PROCESSING_BY_SMART_CONTRACT_WALLET,{moduleAddress:n,recoveryTxHash:r.txHash,txType:h,txHash:e.hash}):c({moduleAddress:n,recoveryTxHash:r.txHash,txType:h,tx:e})}catch(e){throw(0,i.aG)(i.E8.FAILED,{moduleAddress:n,recoveryTxHash:r.txHash,txType:h,error:(0,o.z)(e)}),e}}async function v(e){let{provider:t,chainId:a,delayModifierAddress:r,recoveryTxHash:n,signerAddress:s}=e,{delayModifier:d,isUnchecked:u}=await l({provider:t,chainId:a,delayModifierAddress:r,signerAddress:s}),h=i.M8.SKIP_EXPIRED;try{let e=await d.skipExpired();u?(0,i.aG)(i.E8.PROCESSING_BY_SMART_CONTRACT_WALLET,{moduleAddress:r,recoveryTxHash:n,txType:h,txHash:e.hash}):c({moduleAddress:r,recoveryTxHash:n,txType:h,tx:e})}catch(e){throw(0,i.aG)(i.E8.FAILED,{moduleAddress:r,recoveryTxHash:n,txType:h,error:(0,o.z)(e)}),e}}},84949:(e,t,a)=>{a.d(t,{E8:()=>n,M8:()=>i,aG:()=>s,uF:()=>d});var r=a(80821),n=function(e){return e.PROCESSING_BY_SMART_CONTRACT_WALLET="PROCESSING_BY_SMART_CONTRACT_WALLET",e.PROCESSING="PROCESSING",e.PROCESSED="PROCESSED",e.SUCCESS="SUCCESS",e.FAILED="FAILED",e.REVERTED="REVERTED",e}({}),i=function(e){return e.PROPOSAL="PROPOSAL",e.EXECUTION="EXECUTION",e.SKIP_EXPIRED="SKIP_EXPIRED",e}({});let o=new r.A,s=o.dispatch.bind(o),d=o.subscribe.bind(o);Object.values(n).forEach(e=>{d(e,t=>{console.info("Recovery ".concat(e," event received"),t)})})},31088:(e,t,a)=>{a.d(t,{A:()=>f,b:()=>v});var r=a(56680),n=function(e){return e.GS000="Could not finish initialization",e.GS001="Threshold needs to be defined",e.GS010="Not enough gas to execute Safe transaction",e.GS011="Could not pay gas costs with ether",e.GS012="Could not pay gas costs with token",e.GS013="Safe transaction failed when gasPrice and safeTxGas were 0",e.GS020="Signatures data too short",e.GS021="Invalid contract signature location = inside static part",e.GS022="Invalid contract signature location = length not present",e.GS023="Invalid contract signature location = data not complete",e.GS024="Invalid contract signature provided",e.GS025="Hash has not been approved",e.GS026="Invalid owner provided",e.GS030="Only owners can approve a hash",e.GS031="Method can only be called from this contract",e.GS100="Modules have already been initialized",e.GS101="Invalid module address provided",e.GS102="Module has already been added",e.GS103="Invalid prevModule, module pair provided",e.GS104="Method can only be called from an enabled module",e.GS200="Owners have already been set up",e.GS201="Threshold cannot exceed owner count",e.GS202="Threshold needs to be greater than 0",e.GS203="Invalid owner address provided",e.GS204="Address is already an owner",e.GS205="Invalid prevOwner, owner pair provided",e.GS300="Guard does not implement IERC165",e}({}),i=a(28213),o=a(68699),s=a(6459),d=a(20781),l=a(13011),c=a(72040),u=a(61685);let h=e=>!!e.reason&&Object.keys(n).includes(e.reason),v=(e,t,a)=>{(0,u.SJ)(e.provider);let r=(0,i.U6)(e.provider);if(e.chainId!==t){let e=["eth_chainId","eth_call"],t=r.send;r.send=function(n){for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(e.includes(n))return a.send.call(a,n,...o);if("eth_accounts"===n)return t.call(r,n,...o);throw Error("Invalid execution validity request")}}return r},f=(e,t)=>{let a=(0,d.ix)(),{safe:u}=(0,s.A)(),v=(0,i.vH)(),f=(0,c.A)(),x=u.threshold,[E,A,S]=(0,r.A)(async()=>{if(e&&a&&void 0!==t&&v)try{return(await (0,o.a)(u,v._getConnection().url)).contract.execTransaction.staticCall(e.data.to,e.data.value,e.data.data,e.data.operation,e.data.safeTxGas,e.data.baseGas,e.data.gasPrice,e.data.gasToken,e.data.refundReceiver,(0,l.e)(e,f?a.address:void 0,e.signatures.size<x),{from:a.address,gasLimit:t.toString()})}catch(e){throw h(e)&&(e.reason+=": ".concat(n[e.reason])),e}},[e,a,t,u,v,f,x]);return{isValidExecution:E,executionValidationError:A,isValidExecutionLoading:S}}},13011:(e,t,a)=>{a.d(t,{e:()=>n});var r=a(63239);let n=(e,t,a)=>{let n=null==t?void 0:t.toLowerCase(),i=a&&void 0!==n&&!e.signatures.has(n);if(i){let t=(0,r.generatePreValidatedSignature)(n);e.addSignature(t)}let o=e.encodedSignatures();return i&&e.signatures.delete(n),o}},87243:(e,t,a)=>{a.d(t,{HV:()=>o,Hk:()=>s,g:()=>l,rX:()=>c});var r=a(8442),n=a(31291),i=a(49276);let o=e=>d(s(e)),s=e=>e.reduce((e,t)=>{if((0,n.z7)(t))return e.concat([[]]);let a=e[e.length-1];return Array.isArray(a)&&(0,n.yI)(t)&&!(0,n.$X)(t)?(a.push(t),e):e.concat(t)},[]).map(e=>Array.isArray(e)?e.sort((e,t)=>t.transaction.timestamp-e.transaction.timestamp):e),d=e=>e.reduce((e,t)=>{if(Array.isArray(t)||!(0,n.yI)(t))return e.concat([t]);let a=t.transaction.txHash,r=e[e.length-1];if(!Array.isArray(r))return e.concat([[t]]);let i=r[0].transaction.txHash;return a&&a===i?(r.push(t),e):e.concat([[t]])},[]).map(e=>Array.isArray(e)&&1===e.length?e[0]:e);function l(e,t){let a=e.filter(n.yI);return t.reduce((e,t)=>{var n;let o=(n=t.address,a.filter(e=>{let{transaction:t}=e,{txInfo:a}=t;return a.type===r.TransactionInfoType.CUSTOM&&(0,i.xU)(a.to.value,n)&&"setTxNonce"===a.methodName}));return 0===o.length?e.push(t):e.push([t,...o]),e},[])}let c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s(e).map(e=>Array.isArray(e)?e[0]:e).filter(n.yI)}},57147:(e,t,a)=>{a.d(t,{A:()=>s});var r,n=a(96540),i=["title","titleId"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(null,arguments)}let s=function(e){var t=e.title,a=e.titleId,s=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(t.includes(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.includes(a)||({}).propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,i);return n.createElement("svg",o({width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":a},s),t?n.createElement("title",{id:a},t):null,r||(r=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.47717 7.69172L13.7585 12.832C14.1467 13.2098 14.1467 13.8275 13.7585 14.2052C13.3694 14.583 12.7358 14.583 12.3476 14.2052L7.06626 9.06494L1.7849 14.2052C1.39575 14.583 0.76214 14.583 0.373991 14.2052C-0.0151556 13.8275 -0.0151556 13.2098 0.373991 12.832L5.65536 7.69172L0.373891 2.55133C-0.0152554 2.17354 -0.0152554 1.55589 0.373891 1.17811C0.76204 0.799355 1.39565 0.799355 1.7848 1.17811L7.06626 6.3185L12.3477 1.17811C12.7359 0.799355 13.3695 0.799355 13.7586 1.17811C14.1468 1.55589 14.1468 2.17354 13.7586 2.55133L8.47717 7.69172Z",fill:"currentColor"})))}}}]);
//# sourceMappingURL=19.9c360a4ce1e64ccc.js.map