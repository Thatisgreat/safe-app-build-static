{"version":3,"file":"static/chunks/5596.4d83bee2a92c1a05.js","mappings":"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","sources":["webpack://_N_E/./src/components/tx-flow/common/constants.ts","webpack://_N_E/./src/components/tx-flow/flows/RemoveOwner/ReviewRemoveOwner.tsx","webpack://_N_E/./src/components/common/Mui/index.tsx","webpack://_N_E/./src/components/tx-flow/flows/RemoveOwner/SetThreshold.tsx","webpack://_N_E/./src/components/tx-flow/flows/RemoveOwner/index.tsx","webpack://_N_E/./src/components/tx-flow/useTxStepper.tsx"],"sourcesContent":["export const TOOLTIP_TITLES = {\n  THRESHOLD:\n    'The threshold of a Safe Account specifies how many signers need to confirm a Safe Account transaction before it can be executed.',\n  REVIEW_WINDOW:\n    'A period that begins after a recovery is submitted on-chain, during which the Safe Account signers can review the proposal and cancel it before it is executable.',\n  PROPOSAL_EXPIRY: 'A period after which the recovery proposal will expire and can no longer be executed.',\n} as const\n","import { useContext, useEffect } from 'react'\nimport { Typography, Divider, Box, Paper, SvgIcon } from '@mui/material'\nimport type { ReactElement } from 'react'\n\nimport SignOrExecuteForm from '@/components/tx/SignOrExecuteForm'\nimport useAddressBook from '@/hooks/useAddressBook'\nimport useSafeInfo from '@/hooks/useSafeInfo'\nimport { trackEvent, SETTINGS_EVENTS } from '@/services/analytics'\nimport { createRemoveOwnerTx } from '@/services/tx/tx-sender'\nimport MinusIcon from '@/public/images/common/minus.svg'\nimport { SafeTxContext } from '../../SafeTxProvider'\nimport type { RemoveOwnerFlowProps } from '.'\nimport EthHashInfo from '@/components/common/EthHashInfo'\n\nimport commonCss from '@/components/tx-flow/common/styles.module.css'\nimport { ChangeSignerSetupWarning } from '@/features/multichain/components/SignerSetupWarning/ChangeSignerSetupWarning'\nimport { maybePlural } from '@/utils/formatters'\n\nexport const ReviewRemoveOwner = ({ params }: { params: RemoveOwnerFlowProps }): ReactElement => {\n  const addressBook = useAddressBook()\n  const { setSafeTx, setSafeTxError } = useContext(SafeTxContext)\n  const { safe } = useSafeInfo()\n  const { removedOwner, threshold } = params\n\n  useEffect(() => {\n    createRemoveOwnerTx({ ownerAddress: removedOwner.address, threshold }).then(setSafeTx).catch(setSafeTxError)\n  }, [removedOwner.address, setSafeTx, setSafeTxError, threshold])\n\n  const newOwnerLength = safe.owners.length - 1\n\n  const onFormSubmit = () => {\n    trackEvent({ ...SETTINGS_EVENTS.SETUP.THRESHOLD, label: safe.threshold })\n    trackEvent({ ...SETTINGS_EVENTS.SETUP.OWNERS, label: safe.owners.length })\n  }\n\n  return (\n    <SignOrExecuteForm onSubmit={onFormSubmit}>\n      <Paper sx={{ backgroundColor: ({ palette }) => palette.warning.background, p: 2 }}>\n        <Typography color=\"text.secondary\" mb={2} display=\"flex\" alignItems=\"center\">\n          <SvgIcon component={MinusIcon} inheritViewBox fontSize=\"small\" sx={{ mr: 1 }} />\n          Selected signer\n        </Typography>\n        <EthHashInfo\n          address={removedOwner.address}\n          name={addressBook[removedOwner.address]}\n          shortAddress={false}\n          showCopyButton\n          hasExplorer\n        />\n      </Paper>\n      <ChangeSignerSetupWarning />\n\n      <Divider className={commonCss.nestedDivider} />\n      <Box m={1}>\n        <Typography variant=\"body2\" color=\"text.secondary\" mb={0.5}>\n          Any transaction requires the confirmation of:\n        </Typography>\n        <Typography>\n          <b>{threshold}</b> out of <b>{newOwnerLength}</b> signer{maybePlural(newOwnerLength)}\n        </Typography>\n      </Box>\n      <Divider className={commonCss.nestedDivider} />\n    </SignOrExecuteForm>\n  )\n}\n","export * from \"/Users/liuxiaolin/Documents/other/safe-wallet-monorepo/apps/web/src/components/common/Mui/index.tsx\"","import { useState } from 'react'\nimport { Button, Box, CardActions, Divider, Grid, MenuItem, Select, Typography, SvgIcon, Tooltip } from '@mui/material'\nimport type { ReactElement, SyntheticEvent } from 'react'\nimport type { SelectChangeEvent } from '@mui/material'\n\nimport EthHashInfo from '@/components/common/EthHashInfo'\nimport useSafeInfo from '@/hooks/useSafeInfo'\nimport TxCard from '../../common/TxCard'\nimport InfoIcon from '@/public/images/notifications/info.svg'\nimport { TOOLTIP_TITLES } from '@/components/tx-flow/common/constants'\nimport type { RemoveOwnerFlowProps } from '.'\n\nimport commonCss from '@/components/tx-flow/common/styles.module.css'\nimport { maybePlural } from '@/utils/formatters'\n\nexport const SetThreshold = ({\n  params,\n  onSubmit,\n}: {\n  params: RemoveOwnerFlowProps\n  onSubmit: (data: RemoveOwnerFlowProps) => void\n}): ReactElement => {\n  const { safe } = useSafeInfo()\n  const [selectedThreshold, setSelectedThreshold] = useState<number>(params.threshold ?? 1)\n\n  const handleChange = (event: SelectChangeEvent<number>) => {\n    setSelectedThreshold(parseInt(event.target.value.toString()))\n  }\n\n  const onSubmitHandler = (e: SyntheticEvent) => {\n    e.preventDefault()\n    onSubmit({ ...params, threshold: selectedThreshold })\n  }\n\n  const newNumberOfOwners = safe ? safe.owners.length - 1 : 1\n\n  return (\n    <TxCard>\n      <form onSubmit={onSubmitHandler}>\n        <Box\n          sx={{\n            mb: 3,\n          }}\n        >\n          <Typography\n            sx={{\n              mb: 2,\n            }}\n          >\n            Review the signer you want to remove from the active Safe Account:\n          </Typography>\n          {/* TODO: Update the EthHashInfo style from the replace owner PR */}\n          <EthHashInfo address={params.removedOwner.address} shortAddress={false} showCopyButton hasExplorer />\n        </Box>\n\n        <Divider className={commonCss.nestedDivider} />\n\n        <Box\n          sx={{\n            my: 3,\n          }}\n        >\n          <Typography\n            variant=\"h4\"\n            sx={{\n              fontWeight: 700,\n            }}\n          >\n            Threshold\n            <Tooltip title={TOOLTIP_TITLES.THRESHOLD} arrow placement=\"top\">\n              <span>\n                <SvgIcon\n                  component={InfoIcon}\n                  inheritViewBox\n                  color=\"border\"\n                  fontSize=\"small\"\n                  sx={{\n                    verticalAlign: 'middle',\n                    ml: 0.5,\n                  }}\n                />\n              </span>\n            </Tooltip>\n          </Typography>\n          <Typography>Any transaction requires the confirmation of:</Typography>\n          <Grid\n            container\n            direction=\"row\"\n            sx={{\n              alignItems: 'center',\n              gap: 1,\n              mt: 2,\n            }}\n          >\n            <Grid item xs={1.5}>\n              <Select data-testid=\"threshold-selector\" value={selectedThreshold} onChange={handleChange} fullWidth>\n                {safe.owners.slice(1).map((_, idx) => (\n                  <MenuItem key={idx + 1} value={idx + 1}>\n                    {idx + 1}\n                  </MenuItem>\n                ))}\n              </Select>\n            </Grid>\n            <Grid item>\n              <Typography>\n                out of {newNumberOfOwners} signer{maybePlural(newNumberOfOwners)}\n              </Typography>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Divider className={commonCss.nestedDivider} />\n\n        <CardActions>\n          <Button data-testid=\"next-btn\" variant=\"contained\" type=\"submit\">\n            Next\n          </Button>\n        </CardActions>\n      </form>\n    </TxCard>\n  )\n}\n","import TxLayout from '@/components/tx-flow/common/TxLayout'\nimport useSafeInfo from '@/hooks/useSafeInfo'\nimport useTxStepper from '../../useTxStepper'\nimport { ReviewRemoveOwner } from './ReviewRemoveOwner'\nimport SaveAddressIcon from '@/public/images/common/save-address.svg'\nimport { SetThreshold } from './SetThreshold'\n\ntype Owner = {\n  address: string\n  name?: string\n}\n\nexport type RemoveOwnerFlowProps = {\n  removedOwner: Owner\n  threshold: number\n}\n\nconst RemoveOwnerFlow = (props: Owner) => {\n  const { safe } = useSafeInfo()\n\n  const defaultValues: RemoveOwnerFlowProps = {\n    removedOwner: props,\n    threshold: Math.min(safe.threshold, safe.owners.length - 1),\n  }\n\n  const { data, step, nextStep, prevStep } = useTxStepper<RemoveOwnerFlowProps>(defaultValues)\n\n  const steps = [\n    <SetThreshold key={0} params={data} onSubmit={(formData: any) => nextStep({ ...data, ...formData })} />,\n    <ReviewRemoveOwner key={1} params={data} />,\n  ]\n\n  return (\n    <TxLayout\n      title={step === 0 ? 'New transaction' : 'Confirm transaction'}\n      subtitle=\"Remove signer\"\n      icon={SaveAddressIcon}\n      step={step}\n      onBack={prevStep}\n    >\n      {steps}\n    </TxLayout>\n  )\n}\n\nexport default RemoveOwnerFlow\n","import { MODAL_NAVIGATION, trackEvent } from '@/services/analytics'\nimport { useCallback, useState } from 'react'\n\nconst useTxStepper = <T extends unknown>(initialData: T, eventCategory?: string) => {\n  const [step, setStep] = useState(0)\n  const [data, setData] = useState<T>(initialData)\n\n  const nextStep = useCallback(\n    (entireData: T) => {\n      setData(entireData)\n      setStep((prevStep) => {\n        if (eventCategory) {\n          trackEvent({ action: MODAL_NAVIGATION.Next, category: eventCategory, label: prevStep })\n        }\n\n        return prevStep + 1\n      })\n    },\n    [eventCategory],\n  )\n\n  const prevStep = useCallback(() => {\n    setStep((prevStep) => {\n      if (eventCategory) {\n        trackEvent({ action: MODAL_NAVIGATION.Back, category: eventCategory, label: prevStep })\n      }\n      return prevStep - 1\n    })\n  }, [eventCategory])\n\n  return { step, data, nextStep, prevStep }\n}\n\nexport default useTxStepper\n"],"names":["TOOLTIP_TITLES","THRESHOLD","REVIEW_WINDOW","PROPOSAL_EXPIRY","ReviewRemoveOwner","params","addressBook","useAddressBook","setSafeTx","setSafeTxError","useContext","SafeTxContext","safe","useSafeInfo","removedOwner","threshold","useEffect","createRemoveOwnerTx","ownerAddress","address","then","catch","newOwnerLength","owners","length","SignOrExecuteForm","onSubmit","onFormSubmit","trackEvent","SETTINGS_EVENTS","SETUP","label","OWNERS","Paper","sx","backgroundColor","palette","warning","background","p","Typography","color","mb","display","alignItems","SvgIcon","component","MinusIcon","inheritViewBox","fontSize","mr","EthHashInfo","name","shortAddress","showCopyButton","hasExplorer","ChangeSignerSetupWarning","Divider","className","commonCss","Box","m","variant","b","maybePlural","SetThreshold","selectedThreshold","setSelectedThreshold","useState","newNumberOfOwners","TxCard","form","e","onSubmitHandler","preventDefault","my","fontWeight","Tooltip","title","arrow","placement","span","InfoIcon","verticalAlign","ml","Grid","container","direction","gap","mt","item","xs","Select","data-testid","value","onChange","event","handleChange","parseInt","target","toString","fullWidth","slice","map","_","idx","MenuItem","CardActions","Button","type","RemoveOwnerFlow","defaultValues","props","Math","min","data","step","nextStep","prevStep","useTxStepper","steps","formData","TxLayout","subtitle","icon","SaveAddressIcon","onBack","initialData","eventCategory","setStep","setData","useCallback","entireData","action","MODAL_NAVIGATION","Next","category","Back"],"sourceRoot":"","ignoreList":[]}