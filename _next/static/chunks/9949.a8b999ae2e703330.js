(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9949],{80063:(e,n,s)=>{"use strict";s.d(n,{A:()=>f});var r=s(74848),t=s(96540),a=s(49785),d=s(33680),o=s(85511),l=s(47168),i=s(18705),c=s(93639),h=s(73536),u=s(15542),x=s(43106),m=s(83392),p=s.n(m),w=s(98251),j=s.n(w),b=s(74525),A=s(49276);let v=(0,o.Z)({stringify:e=>e.name+" "+e.label}),f=e=>{let{name:n,canAdd:s,...o}=e,m=(0,i.A)(),{setValue:w,control:f}=(0,a.xW)(),g=(0,a.FH)({name:n,control:f}),[y,O]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),C=Object.entries(m).map(e=>{let[n,s]=e;return{label:n,name:s}}),E=(0,t.useMemo)(()=>!!C.filter(e=>e.label.includes(g)).length,[C,g]),N=(0,t.useMemo)(()=>C.some(e=>(0,A.xU)(e.label,g)),[C,g]),_=(e,n)=>(0,b.$m)(g)?[]:v(e,n),I=()=>{O(e=>!e)},P=s?()=>{k(!0)}:void 0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.xI,{name:n,control:f,render:e=>{var a;let{field:{ref:i,...u}}=e;return(0,r.jsx)(l.A,{...u,className:j().input,disableClearable:!0,disabled:o.disabled,readOnly:null===(a=o.InputProps)||void 0===a?void 0:a.readOnly,freeSolo:!0,options:C,onChange:(e,n)=>"string"==typeof n?u.onChange(n):u.onChange(n.label),onInputChange:(e,s)=>w(n,s),filterOptions:_,componentsProps:{paper:{elevation:2}},renderOption:(e,n)=>{let{key:s,...a}=e;return(0,t.createElement)(d.o5u,{"data-testid":"address-item",component:"li",variant:"body2",...a,key:s},(0,r.jsx)(h.A,{address:n.label,name:n.name,shortAddress:!1,copyAddress:!1}))},renderInput:e=>(0,r.jsx)(c.A,{"data-testid":"address-item",...e,...o,focused:o.focused||!g,name:n,onOpenListClick:E?I:void 0,isAutocompleteOpen:y,onAddressBookClick:s&&!N?P:void 0})})}}),s&&!N?(0,r.jsxs)(d.o5u,{variant:"body2",className:p().unknownAddress,children:[(0,r.jsx)(d.Ahz,{component:u.A,fontSize:"small"}),(0,r.jsxs)("span",{children:["This is an unknown address. You can"," ",(0,r.jsx)("a",{role:"button",onClick:P,children:"add it to your address book"}),"."]})]}):null,S&&(0,r.jsx)(x.A,{handleClose:()=>k(!1),defaultValues:{name:"",address:g}})]})}},38400:(e,n,s)=>{"use strict";s.d(n,{a:()=>r});let r={THRESHOLD:"The threshold of a Safe Account specifies how many signers need to confirm a Safe Account transaction before it can be executed.",REVIEW_WINDOW:"A period that begins after a recovery is submitted on-chain, during which the Safe Account signers can review the proposal and cancel it before it is executable.",PROPOSAL_EXPIRY:"A period after which the recovery proposal will expire and can no longer be executed."}},88425:(e,n,s)=>{"use strict";s.d(n,{Z:()=>A,_:()=>b});var r=s(74848),t=s(39324),a=s(49785),d=s(80063),o=s(40017),l=s(13986),i=s(6459),c=s(74525),h=s(96389),u=s(15542),x=s(66946),m=s.n(x),p=s(38400),w=s(73536),j=s(31243),b=function(e){return e[e.REPLACE=0]="REPLACE",e[e.ADD=1]="ADD",e}({});let A=e=>{let{params:n,onSubmit:s,mode:x}=e,{safe:b,safeAddress:A}=(0,i.A)(),v=(0,a.mN)({defaultValues:n,mode:"onChange"}),{handleSubmit:f,formState:g,watch:y,control:O}=v,S=0===Object.keys(g.errors).length,k=(0,c.UI)(b.owners.map(e=>e.value)),C=(0,c.SM)(A),E=y("newOwner.address"),{name:N,ens:_,resolving:I}=(0,l.M)(E),P=N||_,D=f(e=>{s({...e,newOwner:{...e.newOwner,name:e.newOwner.name||P},threshold:e.threshold})}),H=b.owners.length+(n.removedOwner?0:1);return(0,r.jsx)(h.A,{children:(0,r.jsx)(a.Op,{...v,children:(0,r.jsxs)("form",{onSubmit:D,className:m().form,children:[n.removedOwner&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.o5u,{variant:"body2",sx:{mb:1},children:n.removedOwner&&"Review the signer you want to replace in the active Safe Account, then specify the new signer you want to replace it with:"}),(0,r.jsxs)(t.azJ,{sx:{my:3},children:[(0,r.jsx)(t.o5u,{variant:"body2",sx:{color:"text.secondary",mb:1},children:"Current signer"}),(0,r.jsx)(w.A,{address:n.removedOwner.address,showCopyButton:!0,shortAddress:!1,hasExplorer:!0})]})]}),(0,r.jsx)(t.MJN,{fullWidth:!0,children:(0,r.jsx)(o.A,{label:"New signer",name:"newOwner.name",placeholder:P||"Signer name",InputLabelProps:{shrink:!0},InputProps:{endAdornment:I&&(0,r.jsx)(t.jC1,{position:"end",children:(0,r.jsx)(t.PaH,{size:20})})}})}),(0,r.jsx)(t.MJN,{fullWidth:!0,children:(0,r.jsx)(d.A,{name:"newOwner.address",label:"Signer address or ENS",validate:e=>k(e)||C(e),required:!0})}),(0,r.jsx)(t.cGx,{className:m().nestedDivider}),1===x&&(0,r.jsxs)(t.MJN,{fullWidth:!0,children:[(0,r.jsxs)(t.o5u,{variant:"h6",sx:{fontWeight:700,mt:3},children:["Threshold",(0,r.jsx)(t.m_M,{title:p.a.THRESHOLD,arrow:!0,placement:"top",children:(0,r.jsx)("span",{children:(0,r.jsx)(t.Ahz,{component:u.A,inheritViewBox:!0,color:"border",fontSize:"small",sx:{verticalAlign:"middle",ml:.5}})})})]}),(0,r.jsx)(t.o5u,{variant:"body2",sx:{mb:1},children:"Any transaction requires the confirmation of:"}),(0,r.jsxs)(t.xA9,{container:!0,direction:"row",sx:{alignItems:"center",gap:2,pt:1},children:[(0,r.jsx)(t.xA9,{item:!0,children:(0,r.jsx)(a.xI,{control:O,name:"threshold",render:e=>{let{field:s}=e;return(0,r.jsxs)(t.A_L,{"data-testid":"owner-number-dropdown",select:!0,...s,children:[b.owners.map((e,n)=>(0,r.jsx)(t.Drp,{value:n+1,children:n+1},n+1)),!n.removedOwner&&(0,r.jsx)(t.Drp,{value:H,children:H},H)]})}})}),(0,r.jsx)(t.xA9,{item:!0,children:(0,r.jsxs)(t.o5u,{children:["out of ",H," signer",(0,j.Tz)(H)]})})]})]}),(0,r.jsx)(t.cGx,{className:m().nestedDivider}),(0,r.jsx)(t.waF,{children:(0,r.jsx)(t.$nd,{"data-testid":"add-owner-next-btn",variant:"contained",type:"submit",disabled:!S||I,children:"Next"})})]})})})}},52117:(e,n,s)=>{"use strict";s.d(n,{_:()=>m});var r=s(74848),t=s(56332),a=s(96540),d=s(68879),o=s(6459),l=s(10256),i=s(57117),c=s(65605),h=s(34895),u=s(68130),x=s(67403);let m=e=>{let{params:n}=e,s=(0,c.jL)(),{setSafeTx:m,setSafeTxError:p}=(0,a.useContext)(u.H),{safe:w}=(0,o.A)(),{chainId:j}=w,b=(0,t._J)(),{newOwner:A,removedOwner:v,threshold:f}=n;return(0,a.useEffect)(()=>{b&&(v?(0,i.rj)(b,w.deployed,{newOwnerAddress:A.address,oldOwnerAddress:v.address}):(0,i.xH)(b,w.deployed,{ownerAddress:A.address,threshold:f})).then(m).catch(p)},[v,A,f,m,p,b,w.deployed]),(0,r.jsx)(x.t.Provider,{value:n,children:(0,r.jsx)(d.A,{onSubmit:()=>{void 0!==A.name&&s((0,h.ds)({chainIds:[j],address:A.address,name:A.name})),(0,l.sx)({...l.kd.SETUP.THRESHOLD,label:w.threshold}),(0,l.sx)({...l.kd.SETUP.OWNERS,label:w.owners.length})},showMethodCall:!0})})}},73721:(e,n,s)=>{"use strict";s.d(n,{A:()=>a});var r=s(10256),t=s(96540);let a=(e,n)=>{let[s,a]=(0,t.useState)(0),[d,o]=(0,t.useState)(e);return{step:s,data:d,nextStep:(0,t.useCallback)(e=>{o(e),a(e=>(n&&(0,r.sx)({action:r.V4.Next,category:n,label:e}),e+1))},[n]),prevStep:(0,t.useCallback)(()=>{a(e=>(n&&(0,r.sx)({action:r.V4.Back,category:n,label:e}),e-1))},[n])}}},83392:e=>{e.exports={unknownAddress:"styles_unknownAddress__BH1i2"}}}]);
//# sourceMappingURL=9949.a8b999ae2e703330.js.map