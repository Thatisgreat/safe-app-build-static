(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8879],{45485:(e,t,r)=>{"use strict";r.d(t,{BJc:()=>a.BJc,FcD:()=>a.FcD,o5u:()=>a.o5u});var a=r(39324)},55349:(e,t,r)=>{"use strict";r.d(t,{FcD:()=>a.FcD,o5u:()=>a.o5u});var a=r(39324)},15206:(e,t,r)=>{"use strict";r.d(t,{Ahz:()=>a.Ahz,azJ:()=>a.azJ,cGx:()=>a.cGx,o5u:()=>a.o5u,tu9:()=>a.tu9});var a=r(39324)},73625:(e,t,r)=>{"use strict";r.d(t,{Ahz:()=>a.Ahz,Drp:()=>a.Drp,MJN:()=>a.MJN,azJ:()=>a.azJ,l1Y:()=>a.l1Y,l6P:()=>a.l6P,m_M:()=>a.m_M,o5u:()=>a.o5u});var a=r(39324)},4347:(e,t,r)=>{"use strict";r.d(t,{Ahz:()=>a.Ahz,m_M:()=>a.m_M,o5u:()=>a.o5u});var a=r(39324)},86578:(e,t,r)=>{"use strict";r.d(t,{A:()=>x,U:()=>u});var a=r(74848),i=r(50021),s=r(32009),n=r.n(s),o=r(53373),l=r.n(o),d=r(96540);let c=(e,t)=>{if(t){t.getAnimations().forEach(e=>{e.animationName&&e.pause()});let r=window.getComputedStyle(t).transform;t.getAnimations().forEach(e=>{e.animationName&&e.cancel()}),t.animate([{transform:r},{transform:e}],{duration:1e3,easing:"ease-out",fill:"forwards"})}};var u=function(e){return e.ERROR="isError",e.SUCCESS="isSuccess",e.PROCESSING="isProcessing",e}({});let x=e=>{let{status:t}=e,r="isSuccess"===t,s=(0,d.useRef)(null),o=(0,d.useRef)(null),u=(0,d.useRef)(null),x=(0,d.useRef)(null),h=(0,d.useRef)(null),m=(0,d.useCallback)(()=>{c("translateX(0) translateY(20px) scaleY(1.1)",s.current),c("translateX(30px) scaleX(2.3)",o.current),c("translateX(30px) translateY(60px) scaleX(2.3)",u.current),c("translateY(40px) translateX(60px) scaleY(1.1)",x.current)},[u,x,s,o]);return(0,d.useEffect)(()=>{r&&m()},[r,m]),(0,a.jsxs)(i.azJ,{className:l()(n().box,{[n().rectError]:"isError"===t},{[n().rectSuccess]:r}),children:[(0,a.jsx)("div",{className:l()(n().rect,n().rectTl),ref:s}),(0,a.jsx)("div",{className:l()(n().rect,n().rectTr),ref:o}),(0,a.jsx)("div",{className:l()(n().rect,n().rectBl),ref:u}),(0,a.jsx)("div",{className:l()(n().rect,n().rectBr),ref:x}),(0,a.jsx)("div",{className:l()(n().rect,n().rectCenter),ref:h}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:(0,a.jsx)("defs",{children:(0,a.jsxs)("filter",{id:"gooey",children:[(0,a.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3",result:"blur"}),(0,a.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),(0,a.jsx)("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})})]})}},67403:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});let a=(0,r(96540).createContext)({})},91338:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});let a=(0,r(96540).createContext)({})},49923:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>E,Yp:()=>C});var a=r(74848),i=r(2985),s=r(56332),n=r(10256),o=r(79296),l=r(96540),d=r(39324),c=r(49785),u=r(31243),x=r(74525),h=r(79645),m=function(e){return e.nonce="nonce",e.userNonce="userNonce",e.gasLimit="gasLimit",e.maxFeePerGas="maxFeePerGas",e.maxPriorityFeePerGas="maxPriorityFeePerGas",e.safeTxGas="safeTxGas",e}({}),v=r(6459),f=r(79488),g=r(11100),p=r(50423);let j=e=>{let{recommendedGasLimit:t}=e,{safe:r}=(0,v.A)(),{register:i,watch:s,setValue:n,trigger:o,formState:{errors:l}}=(0,c.xW)(),u=s(m.gasLimit),x=l.gasLimit,h=x?"min"===x.type?"Gas limit must be at least 21000":x.message:void 0;return(0,a.jsx)(d.MJN,{fullWidth:!0,children:(0,a.jsx)(p.A,{label:h||"Gas limit",error:!!h,InputProps:{endAdornment:t&&t!==u.toString()&&(0,a.jsx)(d.m_M,{title:"Reset to recommended gas limit",children:(0,a.jsx)(d.K0,{onClick:()=>{n(m.gasLimit,t),o(m.gasLimit)},size:"small",color:"primary",children:(0,a.jsx)(f.A,{})})})},InputLabelProps:{shrink:void 0!==u},disabled:!r.deployed,required:!0,...i(m.gasLimit,{required:!0,min:g.xJ})})})};var A=r(24203);let y=e=>{var t,r,i,s,n,o;let{params:l,...v}=e,f=(0,c.mN)({mode:"onChange",defaultValues:{userNonce:null!==(o=l.userNonce)&&void 0!==o?o:0,gasLimit:(null===(t=l.gasLimit)||void 0===t?void 0:t.toString())||void 0,maxFeePerGas:l.maxFeePerGas?(0,u.Q0)(l.maxFeePerGas):"",maxPriorityFeePerGas:l.maxPriorityFeePerGas?(0,u.Q0)(l.maxPriorityFeePerGas):""}}),{register:y,handleSubmit:w,formState:{errors:b}}=f,C=e=>{var t,r;v.onSubmit({userNonce:e.userNonce,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,maxFeePerGas:null!==(t=(0,u.wy)(e.maxFeePerGas))&&void 0!==t?t:l.maxFeePerGas,maxPriorityFeePerGas:null!==(r=(0,u.wy)(e.maxPriorityFeePerGas))&&void 0!==r?r:l.maxPriorityFeePerGas})};return(0,a.jsx)(h.A,{open:!0,dialogTitle:"Advanced parameters",hideChainIndicator:!0,children:(0,a.jsx)(c.Op,{...f,children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),w(C)()},children:[(0,a.jsxs)(d.Cff,{children:[(0,a.jsxs)(d.xA9,{container:!0,spacing:2,children:[(0,a.jsx)(d.xA9,{item:!0,xs:12,children:(0,a.jsx)(d.o5u,{variant:"body1",fontWeight:700,children:"Execution parameters"})}),(0,a.jsx)(d.xA9,{item:!0,xs:6,children:(0,a.jsx)(d.MJN,{fullWidth:!0,children:(0,a.jsx)(p.A,{disabled:v.willRelay,label:(null===(r=b.userNonce)||void 0===r?void 0:r.message)||"Wallet nonce",error:!!b.userNonce,...y(m.userNonce)})})}),(0,a.jsx)(d.xA9,{item:!0,xs:6,children:(0,a.jsx)(j,{recommendedGasLimit:null===(i=v.recommendedGasLimit)||void 0===i?void 0:i.toString()})}),v.isEIP1559&&(0,a.jsx)(d.xA9,{item:!0,xs:6,children:(0,a.jsx)(d.MJN,{fullWidth:!0,children:(0,a.jsx)(p.A,{disabled:v.willRelay,label:(null===(s=b.maxPriorityFeePerGas)||void 0===s?void 0:s.message)||"Max priority fee (Gwei)",error:!!b.maxPriorityFeePerGas,required:!0,...y(m.maxPriorityFeePerGas,{required:!0,pattern:x.hU,min:0})})})}),(0,a.jsx)(d.xA9,{item:!0,xs:6,children:(0,a.jsx)(d.MJN,{fullWidth:!0,children:(0,a.jsx)(p.A,{disabled:v.willRelay,label:(null===(n=b.maxFeePerGas)||void 0===n?void 0:n.message)||v.isEIP1559?"Max fee (Gwei)":"Gas price (Gwei)",error:!!b.maxFeePerGas,required:!0,...y(m.maxFeePerGas,{required:!0,pattern:x.hU,min:0})})})})]}),(0,a.jsx)(d.o5u,{mt:2,children:(0,a.jsx)(A.A,{href:g.tF.ADVANCED_PARAMS,children:"How can I configure these parameters manually?"})})]}),(0,a.jsxs)(d.iin,{children:[(0,a.jsx)(d.$nd,{color:"inherit",onClick:()=>{v.onSubmit({userNonce:l.userNonce,gasLimit:l.gasLimit,maxFeePerGas:l.maxFeePerGas,maxPriorityFeePerGas:l.maxPriorityFeePerGas})},children:"Back"}),(0,a.jsx)(d.$nd,{variant:"contained",type:"submit",children:"Confirm"})]})]})})})};var w=r(8220),b=r(50810);let C=e=>{let[t,r]=(0,l.useState)(),[a]=(0,w.Ay)(),i=(0,b.A)();return[(0,l.useMemo)(()=>{var r,s,n,o;return{userNonce:null!==(r=null==t?void 0:t.userNonce)&&void 0!==r?r:i,gasLimit:null!==(s=null==t?void 0:t.gasLimit)&&void 0!==s?s:e,maxFeePerGas:null!==(n=null==t?void 0:t.maxFeePerGas)&&void 0!==n?n:null==a?void 0:a.maxFeePerGas,maxPriorityFeePerGas:null!==(o=null==t?void 0:t.maxPriorityFeePerGas)&&void 0!==o?o:null==a?void 0:a.maxPriorityFeePerGas}},[t,i,e,null==a?void 0:a.maxFeePerGas,null==a?void 0:a.maxPriorityFeePerGas]),r]},E=e=>{let{params:t,recommendedGasLimit:r,willExecute:d,onFormSubmit:c,gasLimitError:u,willRelay:x}=e,[h,m]=(0,l.useState)(!1),v=(0,s.eZ)(o.Gv.EIP1559);return h?(0,a.jsx)(y,{params:t,isExecution:d,recommendedGasLimit:r,onSubmit:e=>{c(e),m(!1)},isEIP1559:v,willRelay:x}):(0,a.jsx)(i.A,{params:t,isExecution:d,isEIP1559:v,gasLimitError:u,onEdit:()=>{m(!0),(0,n.sx)(n.rF.EDIT_ADVANCED_PARAMS)},willRelay:x})}},50810:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(56680),i=r(20781),s=r(28213);let n=()=>{let e=(0,i.Ay)(),[t]=(0,a.A)(()=>{if(e)return(0,s.xN)(e.address)},[e]);return t}},29005:(e,t,r)=>{"use strict";r.d(t,{S:()=>N,Z:()=>S});var a=r(74848),i=r(39324),s=r(20781),n=r(41466),o=r(10583),l=r(13270),d=r.n(l);let c={[o.A.gno]:{name:"Gnosis",logo:"/images/common/gnosis-chain-logo.png"},default:{name:"Safe",logo:"/images/logo-no-text.svg"}},u=e=>{let{chainId:t}=e,r=c[t]||c.default;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:r.logo,alt:r.name,className:d().logo})," ",r.name]})};var x=r(4347),h=r(15542),m=r(27566),v=r(93552),f=r.n(v),g=r(31243);let p=e=>{var t,r;let{relays:i,tooltip:s}=e;if(!s){let e=null!==(t=null==i?void 0:i.limit)&&void 0!==t?t:m.pl;s="".concat(e," transaction").concat((0,g.Tz)(e)," per day for free")}return(0,a.jsx)("div",{className:f().container,children:(0,a.jsxs)(x.o5u,{variant:"body2",color:"primary.light",display:"flex",alignItems:"center",gap:.5,children:[(0,a.jsx)("b",{children:null!==(r=null==i?void 0:i.remaining)&&void 0!==r?r:m.pl})," free transactions left today",(0,a.jsx)(x.m_M,{title:s,placement:"top",arrow:!0,children:(0,a.jsx)("span",{style:{lineHeight:0},children:(0,a.jsx)(x.Ahz,{component:h.A,inheritViewBox:!0,color:"info",fontSize:"small",sx:{color:"#B2B5B2"}})})})]})})};var j=r(40986),A=r.n(j),y=r(71395),w=r(4568),b=r(37015);let C=()=>{let[e]=(0,w.A)();return(0,a.jsx)("div",{className:f().container,children:(0,a.jsxs)(y.o5u,{variant:"body2",color:"primary.light",children:[(0,a.jsx)("b",{children:"Wallet balance:"})," ",(0,a.jsx)(b.A,{balance:e})]})})};var E=r(22247),_=r(56332),N=function(e){return e.RELAY="RELAY",e.WALLET="WALLET",e}({});let S=(0,E.A)(e=>{var t;let{wallet:r,chain:s,executionMethod:o,setExecutionMethod:l,relays:d,noLabel:c,tooltip:x}=e,h="RELAY"===o;return(0,a.jsxs)(i.azJ,{className:A().container,sx:{borderRadius:e=>{let{shape:t}=e;return"".concat(t.borderRadius,"px")}},children:[(0,a.jsx)("div",{className:A().method,children:(0,a.jsxs)(i.MJN,{sx:{display:"flex"},children:[c?null:(0,a.jsx)(i.o5u,{variant:"body2",className:A().label,children:"Who will pay gas fees:"}),(0,a.jsxs)(i.z6M,{row:!0,value:o,onChange:(e,t)=>{l(t)},children:[(0,a.jsx)(i.ip9,{"data-testid":"relay-execution-method",sx:{flex:1},value:"RELAY",label:(0,a.jsxs)(i.o5u,{className:A().radioLabel,whiteSpace:"nowrap",children:["Sponsored by",(0,a.jsx)(u,{chainId:null!==(t=null==s?void 0:s.chainId)&&void 0!==t?t:""})]}),control:(0,a.jsx)(i.sxL,{})}),(0,a.jsx)(i.ip9,{"data-testid":"connected-wallet-execution-method",sx:{flex:1},value:"WALLET",label:(0,a.jsxs)(i.o5u,{className:A().radioLabel,children:[(0,a.jsx)(n.A,{provider:(null==r?void 0:r.label)||"",width:20,height:20,icon:null==r?void 0:r.icon})," Connected wallet"]}),control:(0,a.jsx)(i.sxL,{})})]})]})}),h&&d?(0,a.jsx)(p,{relays:d,tooltip:x}):r?(0,a.jsx)(C,{}):null]})},{wallet:s.Ay,chain:_._J})},68879:(e,t,r)=>{"use strict";r.d(t,{A:()=>rL});var a,i,s,n,o,l,d=r(74848),c=r(96540),u=r(68130),x=r(35950),h=r(44894),m=r(18918),v=r(79301),f=r(50988),g=r(66946),p=r.n(g),j=r(69577),A=r(87227),y=r(20781),w=r(21886),b=r(55155),C=r(22247);let E=(0,r(67163).A)(),_=(0,C.A)(e=>{let{safeTx:t,origin:r,disableSubmit:a=!1,txActions:i,txSecurity:s,onSubmit:n}=e,[o,l]=(0,c.useState)(!0),[u,g]=(0,c.useState)(!1),j=(0,y.Ay)(),{signProposerTx:A}=i,{setTxFlow:C}=(0,c.useContext)(f.P),{needsRiskConfirmation:_,isRiskConfirmed:N,setIsRiskIgnored:S}=s,P=async e=>{if(e.preventDefault(),_&&!N){S(!0);return}if(t&&j){l(!1),g(!1);try{let e=await A(t,r);null==n||n(e)}catch(t){let e=(0,b.z)(t);(0,h.jG)(e)?g(!0):(0,w.Oz)(w.I._805,e),l(!0);return}C(void 0)}},T=!t||!o||a||_&&!N;return(0,d.jsxs)("form",{onSubmit:P,children:[(0,d.jsxs)(m.o5u,{children:["As a ",(0,d.jsx)("strong",{children:"Proposer"}),", you're creating this transaction without any signatures. It will need approval from a signer before it becomes a valid transaction."]}),u&&(0,d.jsx)(m.azJ,{mt:1,children:(0,d.jsx)(x.A,{})}),(0,d.jsx)(m.cGx,{className:p().nestedDivider,sx:{pt:3}}),(0,d.jsx)(m.waF,{children:(0,d.jsx)(E,{sx:{width:["100%","100%","100%","auto"]},direction:{xs:"column-reverse",lg:"row"},spacing:{xs:2,md:2},children:(0,d.jsx)(v.A,{checkNetwork:!0,children:e=>(0,d.jsx)(m.$nd,{"data-testid":"sign-btn",variant:"contained",type:"submit",disabled:!e||T,sx:{minWidth:"82px",order:"1",width:["100%","100%","100%","auto"]},children:o?"Propose transaction":(0,d.jsx)(m.PaH,{size:20})})})})})]})},{txActions:A.Jb,txSecurity:()=>(0,c.useContext)(j.Cr)});var N=r(56680),S=r(83936),P=r(99744),T=r(42309),I=r(72921),O=r(92372),G=r(54664),F=r(29806);let k=async(e,t,r)=>{var a;let i=null===(a=t.getContractManager().contractNetworks)||void 0===a?void 0:a[r],s=await t.getContractVersion(),n=t.getSafeProvider(),o=await (0,G.getCompatibilityFallbackHandlerContract)({safeProvider:n,safeVersion:s,customContracts:i}),l=await (0,G.getSimulateTxAccessorContract)({safeProvider:n,safeVersion:s,customContracts:i}),d=await t.createSafeDeploymentTransaction(),c={to:d.to,value:d.value,data:d.data,operation:O.OperationType.Call},u=l.encode("simulate",[e.data.to,BigInt(e.data.value),e.data.data,e.data.operation]),x=o.encode("simulate",[await l.getAddress(),u]),h={to:await t.getAddress(),value:"0",data:x,operation:O.OperationType.Call},m=await t.createTransactionBatch([c,h]),v=await n.getSignerAddress();return BigInt(await n.estimateGas({...m,from:v||F.ZERO_ADDRESS}))-20000n},D=e=>{let t=(0,P.Ay)(),r=(0,y.Ay)(),a=(0,S.Ay)(),[i,s,n]=(0,N.A)(async()=>{if(!r||!t)return;let i=await (0,T.OK)(r.provider),[s,n,o]=await Promise.all([e?(0,I.estimateTxBaseGas)(i,e):"0",e?k(e,i,a):"0",(0,I.estimateSafeDeploymentGas)(i)]),l=e?BigInt(s)+BigInt(n):BigInt(o);return{safeTxGas:l-BigInt(o),safeDeploymentGas:o,totalGas:l}},[t,r,a,e]);return{gasLimit:i,gasLimitError:s,gasLimitLoading:n}};var z=r(3108),L=r(8220),R=r(6459),B=r(45943),M=r(10256),V=r(34867),J=r(39324),W=r(53373),H=r.n(W),q=r(36420),Y=r(56332),X=r(16227),U=r(49923),$=r(91247),K=r.n($),Z=r(72040);let Q=()=>(0,d.jsx)(q.A,{children:"You are currently not a signer of this Safe Account and won't be able to submit this transaction."}),ee=(0,C.A)(e=>{let{safeTx:t,disableSubmit:r=!1,onlyExecute:a,isCreation:i,isOwner:s,isExecutionLoop:n,txSecurity:o,onSubmit:l}=e,u=(0,y.Ay)(),x=(0,Y._J)(),{safeAddress:h}=(0,R.A)(),[m,g]=(0,c.useState)(!0),[j,A]=(0,c.useState)(),C=(0,Y._J)(),{needsRiskConfirmation:E,isRiskConfirmed:_,setIsRiskIgnored:N}=o,{setTxFlow:S}=(0,c.useContext)(f.P),{gasLimit:P,gasLimitError:T}=D(t),[I,O]=(0,U.Yp)(null==P?void 0:P.totalGas),G=async e=>{if(e.preventDefault(),null==l||l(Math.random().toString()),E&&!_){N(!0);return}g(!1),A(void 0);let r=(0,X.BN)(I,C);try{(0,M.sx)({...M.kg.PROCEED_WITH_TX,label:V.p.activate_with_tx}),await (0,z.tV)(r,u,h,t,null==u?void 0:u.provider),(0,M.sx)({...V.V.CREATE,label:V.p.activate_with_tx}),(0,M.sx)({...V.V.EXECUTE,label:V.p.activate_with_tx}),(0,M.sx)(M.Cw.ONCHAIN_INTERACTION)}catch(t){let e=(0,b.z)(t);(0,w.Oz)(w.I._804,e),g(!0),A(e);return}S(void 0)},F=(0,B.A)({gasLimit:null==P?void 0:P.totalGas,maxFeePerGas:I.maxFeePerGas}),k=!s&&!a,W=!t||!m||r||n||k||E&&!_;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("form",{onSubmit:G,children:[(0,d.jsxs)(J.FcD,{severity:"info",sx:{mb:2,border:0},children:["Executing this transaction will activate your account.",(0,d.jsx)("br",{}),(0,d.jsxs)("ul",{style:{margin:0,padding:"4px 16px 0"},children:[(0,d.jsxs)("li",{children:["Base fee: ≈"," ",(0,d.jsxs)("strong",{children:[(0,L.$c)(I.maxFeePerGas,BigInt((null==P?void 0:P.safeTxGas)||"0"),x)," ",null==x?void 0:x.nativeCurrency.symbol]})]}),(0,d.jsxs)("li",{children:["One-time activation fee: ≈"," ",(0,d.jsxs)("strong",{children:[(0,L.$c)(I.maxFeePerGas,BigInt((null==P?void 0:P.safeDeploymentGas)||"0"),x)," ",null==x?void 0:x.nativeCurrency.symbol]})]})]})]}),(0,d.jsx)("div",{className:H()(K().params),children:(0,d.jsx)(U.Ay,{willExecute:!0,params:I,recommendedGasLimit:null==P?void 0:P.totalGas,onFormSubmit:O,gasLimitError:T,willRelay:!1})}),k?(0,d.jsx)(Q,{}):n?(0,d.jsx)(q.A,{children:"Cannot execute a transaction from the Safe Account itself, please connect a different account."}):F?T&&(0,d.jsxs)(q.A,{error:T,children:["This transaction will most likely fail."," To save gas costs, ".concat(i?"avoid creating":"reject"," this transaction.")]}):(0,d.jsx)(q.A,{children:"Your connected wallet doesn't have enough funds to execute this transaction."}),j&&(0,d.jsx)(J.azJ,{mt:1,children:(0,d.jsx)(q.A,{error:j,children:"Error submitting the transaction. Please try again."})}),(0,d.jsx)(J.cGx,{className:p().nestedDivider,sx:{pt:3}}),(0,d.jsx)(J.waF,{children:(0,d.jsx)(v.A,{allowNonOwner:a,checkNetwork:!W,children:e=>(0,d.jsx)(J.$nd,{variant:"contained",type:"submit",disabled:!e||W,sx:{minWidth:"112px"},children:m?"Execute":(0,d.jsx)(J.PaH,{size:20})})})})]})})},{isOwner:Z.A,isExecutionLoop:A.yq,txSecurity:()=>(0,c.useContext)(j.Cr)});var et=r(57577),er=r(65605),ea=r(42837),ei=r(6054),es=r.n(ei);let en=e=>{let{onChange:t}=e,r=(0,er.GV)(ea.i0),a=(0,er.jL)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(J.o5u,{children:"Would you like to execute the transaction immediately?"}),(0,d.jsxs)(J.z6M,{row:!0,value:String(r.transactionExecution),onChange:(e,r)=>{let i="true"===r;(0,M.sx)({...M.rF.TOGGLE_EXECUTE_TX,label:i}),a((0,ea.VW)(i)),t(i)},className:es().group,children:[(0,d.jsx)(J.ip9,{value:"true",label:(0,d.jsxs)(d.Fragment,{children:["Yes, ",(0,d.jsx)("b",{children:"execute"})]}),control:(0,d.jsx)(J.sxL,{}),className:es().radio,"data-testid":"execute-checkbox"}),(0,d.jsx)(J.ip9,{value:"false",label:(0,d.jsx)(d.Fragment,{children:"No, later"}),control:(0,d.jsx)(J.sxL,{}),className:es().radio,"data-testid":"sign-checkbox"})]})]})};var eo=r(31088),el=r(27566);let ed=e=>{let{safe:t}=(0,R.A)(),r=(0,y.Ay)(),a=e&&e.signatures.size>=t.threshold;return(0,N.A)(()=>{if(e&&r)return(0,h.tA)(r.chainId,r.address).then(e=>!e||a).catch(e=>((0,w.vV)(w.I._106,e.message),!1))},[a,e,r])};var ec=r(29005),eu=r(54505),ex=r(88813),eh=r(13011),em=r(28213),ev=r(10583),ef=r(59221),eg=r(74776);let ep=(e,t,r,a)=>{var i;return null===(i=e.getContractManager().safeContract)||void 0===i?void 0:i.encode("execTransaction",[t.data.to,t.data.value,t.data.data,t.data.operation,t.data.safeTxGas,t.data.baseGas,t.data.gasPrice,t.data.gasToken,t.data.refundReceiver,(0,eh.e)(t,r,a)])},ej={[ev.A.gno]:1.3,[ev.A.zksync]:20},eA=(e,t)=>e*BigInt(100*t)/BigInt(100),ey=async(e,t,r,a)=>{var i;let s=null===(i=r.getContractManager().contractNetworks)||void 0===i?void 0:i[e.chainId],n=await r.getContractVersion(),o=new I.SafeProvider({provider:t._getConnection().url}),l=await (0,G.getCompatibilityFallbackHandlerContract)({safeProvider:o,safeVersion:n,customContracts:s}),d=await (0,G.getSimulateTxAccessorContract)({safeProvider:o,safeVersion:n,customContracts:s}),c=d.encode("simulate",[a.data.to,a.data.value,a.data.data,a.data.operation]),u=l.encode("simulate",[await d.getAddress(),c]),x=await t.estimateGas({to:e.address.value,from:"0x330d9F4906EDA1f73f668660d1946bea71f48827",value:"0",data:u}),h=eA(BigInt(await (0,eg.estimateTxBaseGas)(r,a)),ej[ev.A.zksync]);return BigInt(x)+h},ew=e=>{var t;let r=(0,ef.dl)(),a=(0,em.vH)(),{safe:i}=(0,R.A)(),s=i.address.value,n=i.threshold,o=(0,y.ix)(),l=null==o?void 0:o.address,d=(0,Z.A)(),u=(0,S.Ay)(),x=!!(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.safeTxGas),[h,m,v]=(0,N.A)(async()=>{if(!s||!l||!r||!a||!e)return;let t=ep(r,e,d?l:void 0,e.signatures.size<n);return i.chainId===ev.A.zksync&&await a.getCode(l)!=="0x"?ey(i,a,r,e):a.estimateGas({to:s,from:l,data:t}).then(e=>u===ev.A.gno&&x?eA(e,ej[ev.A.gno]):e)},[s,l,r,a,e,d,u,x,n,i]);return(0,c.useEffect)(()=>{m&&(0,w.vV)(w.I._612,m.message)},[m]),{gasLimit:h,gasLimitError:m,gasLimitLoading:v}};var eb=r(70252),eC=r(67660),eE=r(8232),e_=r(85765);let eN=e=>{let{safeTx:t}=(0,c.useContext)(u.H),r=(0,ef.dl)();return(0,N.A)(async()=>{if(!r||!t)return;let a=await r.getTransactionHash(t);if(e&&e.slice(-66)!==a)return"The transaction data does not match its safeTxHash";for(let e of t.signatures.values()){if(e.isContractSignature)continue;let t=e.staticPart(),r=parseInt(t.slice(-2),16);if(0!==r&&1!==r){if(27===r||28===r)try{if(eC.x(a,t)!==e.signer)return"The signature for the signer ".concat(e.signer," is invalid")}catch(t){return(0,w.vV)(eb.A._818,t),"The signature for the signer ".concat(e.signer," could not be validated")}if(31===r||32===r)try{let i="".concat(t.slice(0,-2)).concat((r-4).toString(16));if(eE.l(e_.q5(a),i)!==e.signer)return"The signature for the signer ".concat(e.signer," is invalid")}catch(t){return(0,w.vV)(eb.A._818,t),"The signature for the signer ".concat(e.signer," could not be validated")}}}},[r,t,e])},eS=(0,C.A)(e=>{let{safeTx:t,txId:r,onSubmit:a,disableSubmit:i=!1,origin:s,onlyExecute:n,isCreation:o,isOwner:l,isExecutionLoop:u,txActions:m,txSecurity:g}=e,[j,A]=(0,c.useState)(!0),[y,C]=(0,c.useState)(),[E,_]=(0,c.useState)(!1),[N,,S]=eN(r),P=(0,c.useMemo)(()=>void 0!==N?Error(N):void 0,[N]),T=(0,Y._J)(),{executeTx:I}=m,{setTxFlow:O}=(0,c.useContext)(f.P),{needsRiskConfirmation:G,isRiskConfirmed:F,setIsRiskIgnored:k}=g,[D,z]=(0,c.useState)(ec.S.RELAY),[L]=ed(t),R=(0,el.iV)(),M=L&&(0,eu.v)(R[0]),V=M&&D===ec.S.RELAY,{gasLimit:W,gasLimitError:$}=ew(t),[Z,ee]=(0,U.Yp)(W),{executionValidationError:et}=(0,eo.A)(t,Z.gasLimit?Z.gasLimit:void 0),er=async e=>{let i;if(e.preventDefault(),G&&!F){k(!0);return}A(!1),C(void 0),_(!1);let n=(0,X.BN)(Z,T);try{i=await I(n,t,r,s,V)}catch(t){let e=(0,b.z)(t);(0,h.jG)(e)?_(!0):((0,w.Oz)(w.I._804,e),C(e)),A(!0);return}null==a||a(i,!0),O((0,d.jsx)(ex.u,{txId:i}),void 0,!1)},ea=(0,B.A)({gasLimit:W,maxFeePerGas:Z.maxFeePerGas}),ei=!l&&!n,es=!t||!j||i||u||ei||G&&!F||void 0!==P||S;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("form",{onSubmit:er,children:[(0,d.jsxs)("div",{className:H()(K().params,{[K().noBottomBorderRadius]:M}),children:[(0,d.jsx)(U.Ay,{willExecute:!0,params:Z,recommendedGasLimit:W,onFormSubmit:ee,gasLimitError:$,willRelay:V}),M&&(0,d.jsx)("div",{className:K().noTopBorder,children:(0,d.jsx)(ec.Z,{executionMethod:D,setExecutionMethod:z,relays:R[0]})})]}),ei?(0,d.jsx)(Q,{}):u?(0,d.jsx)(q.A,{children:"Cannot execute a transaction from the Safe Account itself, please connect a different account."}):ea||V?(et||$)&&(0,d.jsxs)(q.A,{error:et||$,children:["This transaction will most likely fail."," To save gas costs, ".concat(o?"avoid creating":"reject"," this transaction.")]}):(0,d.jsx)(q.A,{level:"info",children:"Your connected wallet doesn't have enough funds to execute this transaction."}),y&&(0,d.jsx)(J.azJ,{mt:1,children:(0,d.jsx)(q.A,{error:y,children:"Error submitting the transaction. Please try again."})}),E&&(0,d.jsx)(J.azJ,{mt:1,children:(0,d.jsx)(x.A,{})}),void 0!==P&&(0,d.jsx)(q.A,{error:P,children:"Error validating transaction data"}),(0,d.jsx)(J.cGx,{className:p().nestedDivider,sx:{pt:3}}),(0,d.jsx)(J.waF,{children:(0,d.jsx)(v.A,{allowNonOwner:n,checkNetwork:!es,children:e=>(0,d.jsx)(J.$nd,{"data-testid":"execute-form-btn",variant:"contained",type:"submit",disabled:!e||es,sx:{minWidth:"112px",width:["100%","100%","100%","auto"]},children:j?"Execute":(0,d.jsx)(J.PaH,{size:20})})})})]})})},{isOwner:Z.A,isExecutionLoop:A.yq,txActions:A.Jb,txSecurity:()=>(0,c.useContext)(j.Cr)});var eP=r(20941),eT=r(77635);let eI=e=>{let{onClick:t,disabled:r,tooltip:a}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(J.m_M,{title:a,placement:"top",children:(0,d.jsx)("span",{children:(0,d.jsx)(eT.A,{...M.Nu.BATCH_APPEND,children:(0,d.jsxs)(J.$nd,{variant:"outlined",onClick:t,disabled:r,sx:{display:["none","flex"],width:["100%","100%","100%","auto"]},children:[(0,d.jsx)(J.Ahz,{component:eP.A,inheritViewBox:!0,fontSize:"small",sx:{mr:1}}),"Add to batch"]})})})}),(0,d.jsxs)(J.azJ,{display:["none","flex"],flexDirection:"column",justifyContent:"center",color:"border.main",children:[" ",(0,d.jsx)(J.cGx,{sx:{"&:before":{display:{sx:"block",lg:"none"}}},children:"or"})]})]})},eO=(0,C.A)(e=>{let{safeTx:t,txId:r,onSubmit:a,disableSubmit:i=!1,origin:s,isBatch:n,isBatchable:o,isCreation:l,isOwner:u,txActions:m,txSecurity:g}=e,[j,C]=(0,c.useState)(!0),[_,N]=(0,c.useState)(),[S,P]=(0,c.useState)(!1),[T,,I]=eN(r),O=(0,c.useMemo)(()=>void 0!==T?Error(T):void 0,[T]),{signTx:G,addToBatch:F}=m,{setTxFlow:k}=(0,c.useContext)(f.P),{needsRiskConfirmation:D,isRiskConfirmed:z,setIsRiskIgnored:L}=g,R=(0,A.O)(t),B=(0,y.ix)(),M=async function(e){let i,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.preventDefault(),D&&!z){L(!0);return}if(t&&!O){C(!1),N(void 0),P(!1);try{i=await (n?F(t,s):G(t,r,s))}catch(t){let e=(0,b.z)(t);(0,h.jG)(e)?P(!0):((0,w.Oz)(w.I._804,e),N(e)),C(!0);return}n||null==a||a(i),!n&&(null==B?void 0:B.isSafe)?k((0,d.jsx)(ex.$F,{txId:i}),void 0,!1):k(void 0)}},V=!u,W=!t||!j||i||V||D&&!z||void 0!==O||I;return(0,d.jsxs)("form",{onSubmit:M,children:[R&&(0,d.jsx)(q.A,{level:"warning",children:"You have already signed this transaction."}),V?(0,d.jsx)(Q,{}):_&&(0,d.jsx)(q.A,{error:_,children:"Error submitting the transaction. Please try again."}),S&&(0,d.jsx)(J.azJ,{mt:1,children:(0,d.jsx)(x.A,{})}),void 0!==O&&(0,d.jsx)(q.A,{error:O,children:"Error validating transaction data"}),(0,d.jsx)(J.cGx,{className:p().nestedDivider,sx:{pt:3}}),(0,d.jsx)(J.waF,{children:(0,d.jsxs)(E,{sx:{width:["100%","100%","100%","auto"]},direction:{xs:"column-reverse",lg:"row"},spacing:{xs:2,md:2},children:[l&&!n&&(0,d.jsx)(eI,{onClick:e=>{M(e,!0)},disabled:W||!o,tooltip:o?void 0:"Cannot batch this type of transaction"}),(0,d.jsx)(v.A,{checkNetwork:!W,children:e=>(0,d.jsx)(J.$nd,{"data-testid":"sign-btn",variant:"contained",type:"submit",disabled:!e||W,sx:{minWidth:"82px",order:"1",width:["100%","100%","100%","auto"]},children:j?"Sign":(0,d.jsx)(J.PaH,{size:20})})})]})})]})},{isOwner:Z.A,txActions:A.Jb,txSecurity:()=>(0,c.useContext)(j.Cr)});var eG=r(21259),eF=r(96389),ek=r(59481),eD=r(24203),ez=r(55218),eL=r(68699),eR=r(86862);let eB=e=>{let{txData:t}=e,{safe:r,safeAddress:a}=(0,R.A)(),i=(0,Y._J)(),s=(0,c.useMemo)(()=>t&&(0,eR.f)(t),[t]);return(0,eL.ip)(r.implementationVersionState)||s?null:(0,d.jsxs)(q.A,{children:["This Safe Account was created with an unsupported base contract. It should ",(0,d.jsx)("b",{children:"ONLY"})," be used for fund recovery. Transactions will execute but the transaction list may not immediately update. Transaction success can be verified on the"," ",(0,d.jsxs)(eD.A,{href:i?(0,ez.aS)(a,i.blockExplorerUriTemplate).href:"",children:[null==i?void 0:i.chainName," explorer"]}),"."]})};var eM=r(98739),eV=r(19695),eJ=r(84753),eW=r(3665);let eH={1:{name:"mainnet",prefix:"eth",subgraph:"https://api.studio.thegraph.com/query/93263/zodiac-roles-mainnet/v2.3.2"},10:{name:"optimism",prefix:"oeth",subgraph:"https://api.studio.thegraph.com/query/93263/zodiac-roles-optimism/v2.3.2"},100:{name:"gnosis",prefix:"gno",subgraph:"https://api.studio.thegraph.com/query/93263/zodiac-roles-gnosis/v2.3.2"},137:{name:"polygon",prefix:"matic",subgraph:"https://api.studio.thegraph.com/query/93263/zodiac-roles-polygon/v2.3.2"},1101:{name:"zkevm",prefix:"zkevm",subgraph:"https://api.studio.thegraph.com/query/93263/zodiac-roles-zkevm/v2.3.2"},42161:{name:"arbitrumOne",prefix:"arb1",subgraph:"https://api.studio.thegraph.com/query/93263/zodiac-roles-arbitrum-one/v2.3.2"},43114:{name:"avalanche",prefix:"avax",subgraph:"https://api.studio.thegraph.com/query/93263/zodiac-roles-avalanche/v2.3.2"},56:{name:"bsc",prefix:"bnb",subgraph:"https://api.studio.thegraph.com/query/93263/zodiac-roles-bsc/v2.3.2"},8453:{name:"base",prefix:"base",subgraph:"https://api.studio.thegraph.com/query/93263/zodiac-roles-base/v2.3.2"},84532:{name:"baseSepolia",prefix:"basesep",subgraph:"https://api.studio.thegraph.com/query/93263/zodiac-roles-base-sepolia/v2.3.2"},0xaa36a7:{name:"sepolia",prefix:"sep",subgraph:"https://api.studio.thegraph.com/query/93263/zodiac-roles-sepolia/v2.3.2"}};!function(e){e[e.None=0]="None",e[e.Send=1]="Send",e[e.DelegateCall=2]="DelegateCall",e[e.Both=3]="Both"}(a||(a={})),function(e){e[e.None=0]="None",e[e.Target=1]="Target",e[e.Function=2]="Function"}(i||(i={})),function(e){e[e.None=0]="None",e[e.Static=1]="Static",e[e.Dynamic=2]="Dynamic",e[e.Tuple=3]="Tuple",e[e.Array=4]="Array",e[e.Calldata=5]="Calldata",e[e.AbiEncoded=6]="AbiEncoded"}(s||(s={})),function(e){e[e.Pass=0]="Pass",e[e.And=1]="And",e[e.Or=2]="Or",e[e.Nor=3]="Nor",e[e.Matches=5]="Matches",e[e.ArraySome=6]="ArraySome",e[e.ArrayEvery=7]="ArrayEvery",e[e.ArraySubset=8]="ArraySubset",e[e.EqualToAvatar=15]="EqualToAvatar",e[e.EqualTo=16]="EqualTo",e[e.GreaterThan=17]="GreaterThan",e[e.LessThan=18]="LessThan",e[e.SignedIntGreaterThan=19]="SignedIntGreaterThan",e[e.SignedIntLessThan=20]="SignedIntLessThan",e[e.Bitmask=21]="Bitmask",e[e.Custom=22]="Custom",e[e.WithinAllowance=28]="WithinAllowance",e[e.EtherWithinAllowance=29]="EtherWithinAllowance",e[e.CallWithinAllowance=30]="CallWithinAllowance"}(n||(n={})),function(e){e[e.Ok=0]="Ok",e[e.DelegateCallNotAllowed=1]="DelegateCallNotAllowed",e[e.TargetAddressNotAllowed=2]="TargetAddressNotAllowed",e[e.FunctionNotAllowed=3]="FunctionNotAllowed",e[e.SendNotAllowed=4]="SendNotAllowed",e[e.OrViolation=5]="OrViolation",e[e.NorViolation=6]="NorViolation",e[e.ParameterNotAllowed=7]="ParameterNotAllowed",e[e.ParameterLessThanAllowed=8]="ParameterLessThanAllowed",e[e.ParameterGreaterThanAllowed=9]="ParameterGreaterThanAllowed",e[e.ParameterNotAMatch=10]="ParameterNotAMatch",e[e.NotEveryArrayElementPasses=11]="NotEveryArrayElementPasses",e[e.NoArrayElementPasses=12]="NoArrayElementPasses",e[e.ParameterNotSubsetOfAllowed=13]="ParameterNotSubsetOfAllowed",e[e.BitmaskOverflow=14]="BitmaskOverflow",e[e.BitmaskNotAllowed=15]="BitmaskNotAllowed",e[e.CustomConditionViolation=16]="CustomConditionViolation",e[e.AllowanceExceeded=17]="AllowanceExceeded",e[e.CallAllowanceExceeded=18]="CallAllowanceExceeded",e[e.EtherAllowanceExceeded=19]="EtherAllowanceExceeded"}(o||(o={}));let eq=`
  query RolesMod($id: String) {
    rolesModifier(id: $id) {
      address
      owner
      avatar
      target 
      roles(first: 1000) {
        key
        members(first: 1000) {
          member {
            address
          }
        }
        targets(first: 1000) {
          address
          clearance
          executionOptions
          functions(first: 1000) {
            selector
            wildcarded
            executionOptions
          }
        }
        lastUpdate
      }
      unwrapAdapters(where: {selector: "0x8d80ff0a", adapterAddress: "0x93b7fcbc63ed8a3a24b59e1c3e6649d50b7427c0"}) {
        targetAddress
      }
    }
  }
`,eY=async({address:e,...t},r)=>{let a="subgraph"in t?t.subgraph:eH[t.chainId].subgraph,i=await fetch(a,{...r,method:"POST",headers:{...r?.headers,"Content-Type":"application/json"},body:JSON.stringify({query:eq,variables:{id:e.toLowerCase()},operationName:"RolesMod"})}),{data:s,error:n,errors:o}=await i.json();if(n||o&&o[0])throw Error(n||o[0]);if(!s||!s.rolesModifier)return null;for(let e of(e$(s.rolesModifier.roles),s.rolesModifier.roles))e$(e.members),e$(e.targets);return eX(s.rolesModifier)},eX=e=>({...e,roles:e.roles.map(eU),multiSendAddresses:e.unwrapAdapters.map(e=>e.targetAddress)}),eU=e=>({key:e.key,members:e.members.map(e=>e.member.address),targets:e.targets.filter(e=>"None"!==e.clearance&&!("Function"===e.clearance&&0===e.functions.length)).map(e=>({address:e.address,clearance:i[e.clearance],executionOptions:a[e.executionOptions],functions:e.functions.map(e=>({selector:e.selector,executionOptions:a[e.executionOptions],wildcarded:e.wildcarded}))}))}),e$=e=>{if(1e3===e.length)throw Error("Pagination not supported")};`
query Role($id: String) {
  role(id: $id) {
    key
    members(first: 1000) {
      member {
        address
      }
    }
    targets(first: 1000) {
      address
      clearance
      executionOptions
      functions(first: 1000) {
        selector
        executionOptions
        wildcarded
        condition {
          id
          json
        }
      }
    }
    annotations(first: 1000) {
      uri
      schema
    }
    lastUpdate
  }
}
`.trim(),`
query Role($id: String, $block: Int) {
  role(id: $id, block: { number: $block }) {
    key
    members(first: 1000) {
      member {
        address
      }
    }
    targets(first: 1000) {
      address
      clearance
      executionOptions
      functions(first: 1000) {
        selector
        executionOptions
        wildcarded
        condition {
          id
          json
        }
      }
    }
    annotations(first: 1000) {
      uri
      schema
    }
    lastUpdate
  }
}
`.trim();var eK=r(12078),eZ=r(79296),eQ=r(99244),e0=r(52331);let e1=Object.keys(eH),e2=eQ.pl.createInterface(),e3=e=>{let t=null==e?void 0:e.data;return(0,c.useMemo)(()=>{if(!t)return[];let e={to:t.to,value:t.value,data:t.data,operation:t.operation};if(e.operation===O.OperationType.DelegateCall)try{let t=(0,e0.decodeMultiSendData)(e.data);if(t.length>0)return t.map(e=>({...e,operation:O.OperationType.Call}))}catch(e){}return[e]},[t])},e4=()=>{let{safe:e}=(0,R.A)(),t=(0,Y.eZ)(eZ.Gv.ZODIAC_ROLES),[r]=(0,N.A)(async()=>{if(!e1.includes(e.chainId)||!t)return[];let r=e.modules||[];return(await Promise.all(r.map(t=>eY({address:t.value,chainId:parseInt(e.chainId)})))).filter(t=>null!==t&&t.target===e.address.value.toLowerCase()&&t.avatar===e.address.value.toLowerCase()&&t.roles.length>0)},[e,t]);return r},e8=["0x38869bf66a61cf6bdb996a6ae40d5853fd43b526","0xa238cbeb142c10ef7ad8442c6d1f9e89e07e7761","0x998739bfdaadde7c933b942a68053933098f9eda","0x8d29be29923b68abfdd21e541b9374737b49cdad"],e5=["0x9641d764fc13c8b624c04430c7356c1c7c8102e2","0x40a2accbd92bca938b02010e17a5b8929b49130d","0xa1dabef33b3b82c7814b6d82a79e50f4ac44102b"],e6=e=>{let t=e3(e),r=e4(),a=(0,y.Ay)(),i=null==a?void 0:a.address.toLowerCase(),s=(0,c.useMemo)(()=>{let e=[];if(0===t.length)return e;if(i&&r)for(let a of r){let r=a.multiSendAddresses.find(e=>e8.includes(e)),s=a.multiSendAddresses.find(e=>e5.includes(e));for(let n of a.roles)if(n.members.includes(i)){let i=t.map(e=>te(n,e));e.push({modAddress:a.address,roleKey:n.key,multiSend:t.some(e=>e.operation===O.OperationType.DelegateCall)?r:s,status:i.find(e=>e!==o.Ok&&null!==e)||i.find(e=>e!==o.Ok)||o.Ok})}}return e},[r,i,t]),n=(0,em.vH)(),[l]=(0,N.A)(()=>Promise.all(s.map(async e=>(null===e.status&&i&&n&&(e.status=await ts(e,t,i,n)),e))),[s,t,i,n]);return l||s},e9=e=>e.find(e=>e.status===o.Ok),e7=e=>e9(e)||e.find(e=>e.status!==o.TargetAddressNotAllowed&&e.status!==o.FunctionNotAllowed)||e.find(e=>e.status!==o.TargetAddressNotAllowed)||e[0],te=(e,t)=>{let r=e.targets.find(e=>e.address===t.to.toLowerCase());if(!r)return o.TargetAddressNotAllowed;if(r.clearance===i.Target)return tt(r.executionOptions,t);if(r.clearance===i.Function){let e=t.data.slice(0,10),a=r.functions.find(t=>t.selector===e);if(a){let e=tt(a.executionOptions,t);return e!==o.Ok?e:a.wildcarded?o.Ok:null}}return o.FunctionNotAllowed},tt=(e,t)=>{let r=BigInt(t.value||"0")>0n,i=t.operation===O.OperationType.DelegateCall;return r&&e!==a.Send&&e!==a.Both?o.SendNotAllowed:i&&e!==a.DelegateCall&&e!==a.Both?o.DelegateCallNotAllowed:o.Ok},tr=e=>{let{role:t,metaTransactions:r}=e,a=(0,em.vH)(),i=(0,y.Ay)(),s=null==i?void 0:i.address.toLowerCase();return(0,c.useMemo)(()=>t&&s&&a?ti(t,r,s,a):void 0,[t,r,s,a])},ta=(e,t)=>{if(0===t.length)throw Error("No meta transactions to encode");return 1===t.length?t[0]:{to:e.multiSend||e8[0],value:"0",data:e2.encodeFunctionData("multiSend",[(0,I.encodeMultiSendData)(t)]),operation:O.OperationType.DelegateCall}},ti=(e,t,r,a)=>{let i=ta(e,t),s=(0,eK.k)(eK.v.ROLES_V2,e.modAddress,a).interface.encodeFunctionData("execTransactionWithRole",[i.to,BigInt(i.value),i.data,i.operation||0,e.roleKey,!0]);return{to:e.modAddress,data:s,value:"0",from:r}},ts=async(e,t,r,a)=>{let i=ta(e,t),s=(0,eK.k)(eK.v.ROLES_V2,e.modAddress,a);try{return await s.execTransactionWithRole.estimateGas(i.to,BigInt(i.value),i.data,i.operation||0,e.roleKey,!1,{from:r}),o.Ok}catch(r){let e=s.interface.getError(r.data.slice(0,10));if(null===e||"ConditionViolation"!==e.name)return console.error("Unexpected error in condition check",e,r.data,r),null;let{status:t}=s.interface.decodeErrorResult(e,r.data);return Number(t)}},tn=e=>{let t=(0,em.vH)(),[r,a,i]=(0,N.A)(async()=>{if(t&&e)return t.estimateGas(e)},[t,e]);return(0,c.useEffect)(()=>{a&&(0,w.vV)(w.I._612,a.message)},[a]),{gasLimit:r,gasLimitError:a,gasLimitLoading:i}},to=async(e,t,r)=>(0,eW.backOff)(()=>(0,eJ.yK)(e,t,r),{startingDelay:750,maxDelay:2e4,numOfAttempts:19,retry:e=>(console.info("waiting for transaction-service to index the module transaction",e),!0)});var tl=r(7598),td=r(61685),tc=r(57117);let tu=e=>{let{children:t}=e,r=t;try{r=function(e){let t=(0,e_.q5)(e,"bytes");if(32!==t.length)throw Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return(0,tl._v)(t.slice(0,r))}(t)}catch(e){}return(0,d.jsx)("span",{className:K().roleChip,children:r})},tx=(0,C.A)(e=>{let{safeTx:t,role:r,onSubmit:a,disableSubmit:i=!1,txSecurity:s}=e,n=(0,Y._J)(),l=(0,P.Ay)(),u=(0,y.Ay)(),{safe:g}=(0,R.A)(),j=(null==n?void 0:n.chainId)||"1",[A,C]=(0,c.useState)(!1),[E,_]=(0,c.useState)(!1),[N,S]=(0,c.useState)(),{setTxFlow:T}=(0,c.useContext)(f.P),{needsRiskConfirmation:I,isRiskConfirmed:O,setIsRiskIgnored:G}=s,F=null!==r.status?th[r.status]:null,k=e3(t),D=k.length>1&&!r.multiSend,z=tr({role:r.status!==o.Ok||D?void 0:r,metaTransactions:k}),{gasLimit:L,gasLimitError:M}=tn(z),[V,J]=(0,U.Yp)(L),W=async e=>{let t;if(e.preventDefault(),I&&!O){G(!0);return}if((0,td.mf)(u),(0,td.g_)(l),_(!1),C(!0),S(void 0),_(!1),!z)throw Error("Execution through role is not possible");let r=(0,X.BN)(V,n);try{t=await (0,tc.bS)({...z,...r},u.provider,g.address.value)}catch(t){let e=(0,b.z)(t);(0,h.jG)(e)?_(!0):((0,w.Oz)(w.I._815,e),S(e)),C(!1);return}if(T((0,d.jsx)(ex.u,{txHash:t}),void 0,!1),!(null==n?void 0:n.transactionService))throw Error("Transaction service not found");let i=await to(j,g.address.value,t);null==a||a(i,!0),T((0,d.jsx)(ex.u,{txId:i}),void 0,!1)},H=(0,B.A)({gasLimit:L,maxFeePerGas:V.maxFeePerGas}),$=!z||A||i||I&&!O;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.cGx,{className:p().nestedDivider,sx:{pt:1}}),(0,d.jsxs)("form",{onSubmit:W,children:[!F&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(m.o5u,{sx:{mb:2},children:["Your ",(0,d.jsx)(tu,{children:r.roleKey})," role allows you to execute this transaction without the confirmations of other owners."]}),(0,d.jsx)("div",{className:K().params,children:(0,d.jsx)(U.Ay,{willExecute:!0,params:V,recommendedGasLimit:L,onFormSubmit:J,gasLimitError:M})})]}),F&&(0,d.jsxs)(m.azJ,{mb:2,children:[(0,d.jsxs)(m.o5u,{sx:{mb:2},children:["You are a member of the ",(0,d.jsx)(tu,{children:r.roleKey})," role but it does not allow this transaction."]}),(0,d.jsx)(q.A,{children:F})]}),(0,d.jsxs)(m.o5u,{variant:"caption",display:"flex",gap:"2px",color:"text.secondary",sx:{mb:2},children:["Powered by",(0,d.jsx)("img",{src:"/images/transactions/zodiac-roles.svg",width:16,height:16,alt:"Zodiac Roles"}),(0,d.jsx)("span",{className:K().zodiac,children:"Zodiac"})]}),D&&(0,d.jsx)(m.azJ,{mt:1,children:(0,d.jsx)(q.A,{children:"The current configuration of the Zodiac Roles module does not allow executing multiple transactions in batch."})}),H?M&&(0,d.jsx)(m.azJ,{mt:1,children:(0,d.jsx)(q.A,{error:M,children:"This transaction will most likely fail. To save gas costs, avoid creating this transaction."})}):(0,d.jsx)(m.azJ,{mt:1,children:(0,d.jsx)(q.A,{level:"info",children:"Your connected wallet doesn't have enough funds to execute this transaction."})}),N&&(0,d.jsx)(m.azJ,{mt:1,children:(0,d.jsx)(q.A,{error:N,children:"Error submitting the transaction. Please try again."})}),E&&(0,d.jsx)(m.azJ,{mt:1,children:(0,d.jsx)(x.A,{})}),(0,d.jsx)(m.azJ,{mt:3,children:(0,d.jsx)(m.cGx,{className:p().nestedDivider})}),(0,d.jsx)(m.waF,{children:(0,d.jsx)(v.A,{allowNonOwner:!0,checkNetwork:!$,children:e=>(0,d.jsx)(m.$nd,{"data-testid":"execute-through-role-form-btn",variant:"contained",type:"submit",disabled:!e||$,sx:{minWidth:"112px"},children:A?(0,d.jsx)(m.PaH,{size:20}):"Execute"})})})]})]})},{txSecurity:()=>(0,c.useContext)(j.Cr)}),th={[o.Ok]:null,[o.DelegateCallNotAllowed]:"Role is not allowed to delegate call to target address",[o.TargetAddressNotAllowed]:"Role is not allowed to call target address",[o.FunctionNotAllowed]:"Role is not allowed to call this function on the target address",[o.SendNotAllowed]:"Role is not allowed to send to target address",[o.OrViolation]:"Condition violation: None of the Or branch conditions are met",[o.NorViolation]:"Condition violation: At least one Nor branch condition is met",[o.ParameterNotAllowed]:"Condition violation: Parameter value is not allowed",[o.ParameterLessThanAllowed]:"Condition violation: Parameter value is less than allowed",[o.ParameterGreaterThanAllowed]:"Condition violation: Parameter value is greater than allowed",[o.ParameterNotAMatch]:"Condition violation: Parameter value does not match",[o.NotEveryArrayElementPasses]:"Condition violation: Not every array element meets the criteria",[o.NoArrayElementPasses]:"Condition violation: None of the array elements meet the criteria",[o.ParameterNotSubsetOfAllowed]:"Condition violation: Parameter value is not a subset of allowed values",[o.BitmaskOverflow]:"Condition violation: Bitmask exceeded value length",[o.BitmaskNotAllowed]:"Condition violation: Bitmask does not allow the value",[o.CustomConditionViolation]:"Condition violation: Custom condition is not met",[o.AllowanceExceeded]:"Condition violation: Allowance is exceeded",[o.CallAllowanceExceeded]:"Condition violation: Call allowance is exceeded",[o.EtherAllowanceExceeded]:"Condition violation: Ether allowance is exceeded"};var tm=r(13075),tv=r(95476),tf=r(83450),tg=r(57894),tp=r(3960),tj=r(64181),tA=r(31291),ty=r(2786),tw=r(15206),tb=r(73536),tC=r(36311),tE=r(55771),t_=r(8442),tN=r(5422),tS=r(67403),tP=r(31243),tT=r(36217);let tI=e=>{let{txInfo:{settingsInfo:t}}=e,{safe:r}=(0,R.A)(),a=(0,c.useContext)(tS.t);if(!t||t.type===t_.SettingsInfoType.REMOVE_OWNER)return null;let i="owner"in t||"newOwner"in a,s="newOwner"in a,n=r.owners.length+("removedOwner"in t?0:1),o=t.type===t_.SettingsInfoType.SET_FALLBACK_HANDLER;return(0,d.jsxs)(d.Fragment,{children:[o&&(0,d.jsx)(tT.n,{fallbackHandler:t.handler.value}),"oldOwner"in t&&(0,d.jsxs)(tw.tu9,{sx:{backgroundColor:e=>{let{palette:t}=e;return t.warning.background},p:2},children:[(0,d.jsxs)(tw.o5u,{color:"text.secondary",mb:2,display:"flex",alignItems:"center",children:[(0,d.jsx)(tw.Ahz,{component:tE.A,inheritViewBox:!0,fontSize:"small",sx:{mr:1}}),"Previous signer"]}),(0,d.jsx)(tb.A,{name:t.oldOwner.name,address:t.oldOwner.value,shortAddress:!1,showCopyButton:!0,hasExplorer:!0})]}),"owner"in t&&!s&&(0,d.jsx)(tC.Y,{owners:[t.owner]}),s&&(0,d.jsx)(tC.Y,{owners:[{name:a.newOwner.name,value:a.newOwner.address}]}),i&&(0,d.jsx)(tN.s,{}),"threshold"in t&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(tw.cGx,{className:p().nestedDivider}),(0,d.jsxs)(tw.azJ,{children:[(0,d.jsx)(tw.o5u,{variant:"body2",children:"Any transaction requires the confirmation of:"}),(0,d.jsxs)(tw.o5u,{children:[(0,d.jsx)("b",{children:t.threshold})," out of"," ",(0,d.jsxs)("b",{children:[n," signer",(0,tP.Tz)(n)]})]})]})]}),(0,d.jsx)(tw.cGx,{className:p().nestedDivider})]})};var tO=r(91338);let tG=e=>e.type===t_.TransactionInfoType.SETTINGS_CHANGE,tF=e=>(null==e?void 0:e.type)===ex.p_,tk=e=>{var t;return e.type===t_.TransactionInfoType.SETTINGS_CHANGE&&(null===(t=e.settingsInfo)||void 0===t?void 0:t.type)===t_.SettingsInfoType.CHANGE_THRESHOLD},tD=function(e){var t;let{txInfo:r}=e,{safe:a}=(0,R.A)(),{newThreshold:i}=(0,c.useContext)(tO.j),s=r&&tk(r)&&(null===(t=r.settingsInfo)||void 0===t?void 0:t.threshold);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(tN.s,{}),(0,d.jsxs)("div",{children:[(0,d.jsx)(J.o5u,{variant:"body2",color:"text.secondary",mb:.5,children:"Any transaction will require the confirmation of:"}),(0,d.jsxs)(J.o5u,{"aria-label":"threshold",children:[(0,d.jsx)("b",{children:i||s})," out of"," ",(0,d.jsxs)("b",{children:[a.owners.length," signer",(0,tP.Tz)(a.owners)]})]})]}),(0,d.jsx)(J.azJ,{sx:{my:1},children:(0,d.jsx)(J.cGx,{className:p().nestedDivider})})]})};var tz=r(2175),tL=r(70911);let tR=function(){let e=(0,tL.b)();return(0,d.jsx)(tz.A,{txItems:e})};var tB=r(94801),tM=r(11805),tV=r(68479),tJ=r(46691),tW=r(66974),tH=r(6320),tq=r(35683),tY=r(55349),tX=r(18892),tU=r(3633),t$=r(69679);let tK=e=>{let{first:t,second:r}=e;return(0,d.jsx)(t$.A,{blocks:[t,r],showArrow:!0})};var tZ=r(9197),tQ=r(64544),t0=r.n(tQ),t1=r(47987),t2=r(47766),t3=r(84506),t4=r(21560),t8=r(11100),t5=r(55803),t6=r(80429);let t9=e=>{let{order:t}=e,r=(0,tU.ko)(t);if(0===Number(r))return null;let a=(0,d.jsxs)(d.Fragment,{children:["Widget fee"," ",(0,d.jsx)(t5.W,{title:(0,d.jsxs)(d.Fragment,{children:["The tiered widget fee incurred here is charged by CoW Protocol for the operation of this widget. The fee is automatically calculated into this quote. Part of the fee will contribute to a license fee that supports the Safe Community. Neither the Safe Ecosystem Foundation nor ","".concat(t8.Az)," operate the CoW Swap Widget and/or CoW Swap.",(0,d.jsx)(t6.A,{href:t8.tF.SWAP_WIDGET_FEES,target:"_blank",rel:"noopener noreferrer",children:"Learn more"})]})})]});return(0,d.jsxs)(tW.x,{datatestid:"widget-fee",title:a,children:[Number(r)/100," %"]},"widget_fee")};var t7=r(87837),re=r(15542);let rt=()=>(0,d.jsxs)(t7.FcD,{severity:"warning",icon:(0,d.jsx)(t7.Ahz,{component:re.A,inheritViewBox:!0,color:"error"}),sx:{mb:1},children:[(0,d.jsx)("b",{children:"Enable TWAPs and submit order."})," ","To enable TWAP orders you need to set a custom fallback handler. This software is developed by CoW Swap and Safe will not be responsible for any possible issues with it."]}),rr=e=>{let{order:t,decodedData:r,settlementContract:a}=e,{owner:i,kind:s,validUntil:n,sellToken:o,buyToken:l,sellAmount:u,buyAmount:x,explorerUrl:h,receiver:m}=t,v=t.type===t_.TransactionInfoType.TWAP_ORDER,f=(0,tU.$g)(t),g=(0,tU.Fh)(t),p=new Date(1e3*n),j=new Date,A=(0,tU.Gr)(t),y="sell"===s,w=r&&(0,tU.PW)(r);return(0,d.jsxs)(d.Fragment,{children:[w&&(0,d.jsx)(rt,{}),(0,d.jsx)(tH.b,{header:"Order details",rows:[(0,d.jsx)("div",{className:t0().amount,children:(0,d.jsx)(tK,{first:{value:u,label:y?"Sell":"For at most",tokenInfo:o},second:{value:x,label:y?"For at least":"Buy exactly",tokenInfo:l}})},"amount"),(0,d.jsxs)(tW.x,{datatestid:"limit-price",title:"Limit price",children:["1 ",l.symbol," = ",(0,tX.ej)(f)," ",o.symbol]},"Limit price"),1!==(0,tq.A)(j,p)?(0,d.jsx)(tW.x,{datatestid:"expiry",title:"Expiry",children:(0,d.jsxs)(tY.o5u,{children:[(0,d.jsx)(tY.o5u,{fontWeight:700,component:"span",children:(0,tJ.XN)(1e3*n)})," ","(",(0,tJ.r6)(1e3*n),")"]})},"Expiry"):(0,d.jsx)(tW.x,{title:"Expiry",children:(0,tJ.r6)(1e3*n)},"Expiry"),"limit"!==g?(0,d.jsxs)(tW.x,{datatestid:"slippage",title:"Slippage",children:[A,"%"]},"Slippage"):(0,d.jsx)(c.Fragment,{},"none"),v?(0,d.jsx)(d.Fragment,{}):(0,d.jsx)(tW.x,{datatestid:"order-id",title:"Order ID",children:(0,d.jsx)(tV.A,{orderId:t.uid,href:h})},"Order ID"),(0,d.jsx)(t9,{order:t},"SurplusFee"),(0,d.jsx)(tW.x,{datatestid:"interact-wth",title:"Interact with",children:(0,d.jsx)(t1.A,{address:a,onlyName:!0,hasExplorer:!0,shortAddress:!1,avatarSize:24})},"Interact with"),m&&i!==m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(tW.x,{datatestid:"recipient",title:"Recipient",children:(0,d.jsx)(tb.A,{address:m,hasExplorer:!0,avatarSize:24})},"recipient-address"),(0,d.jsx)("div",{children:(0,d.jsx)(tY.FcD,{"data-testid":"recipient-alert",severity:"warning",icon:tZ.A,children:(0,d.jsxs)(tY.o5u,{variant:"body2",children:[(0,d.jsx)(tY.o5u,{component:"span",sx:{fontWeight:"bold"},children:"Order recipient address differs from order owner."})," ","Double check the address to prevent fund loss."]})})},"recipient")]}):(0,d.jsx)(d.Fragment,{})]}),v&&(0,d.jsx)("div",{className:t0().partsBlock,children:(0,d.jsx)(tH.b,{rows:[(0,d.jsx)(tY.o5u,{variant:"body1",className:t0().partsBlockTitle,children:(0,d.jsxs)("strong",{children:["Order will be split in"," ",(0,d.jsxs)("span",{className:t0().numberOfPartsLabel,children:[t.numberOfParts," equal parts"]})]})},"title"),(0,d.jsx)(t3.u,{order:t,addonText:"per part"},"sell_part"),(0,d.jsx)(t4.A,{order:t,addonText:"per part"},"buy_part"),(0,d.jsxs)(tW.x,{title:"Start time",children:[t.startTime.startType===t_.StartTimeValue.AT_MINING_TIME&&"Now",t.startTime.startType===t_.StartTimeValue.AT_EPOCH&&"At block number: ".concat(t.startTime.epoch)]},"Start time"),(0,d.jsx)(t2.I,{order:t},"part_duration"),(0,d.jsx)(tW.x,{title:"Total duration",children:(0,tJ.ix)(+t.timeBetweenParts*+t.numberOfParts)},"total_duration")]})})]})},ra=function(e){var t,r;let{txInfo:a,txData:i}=e;return(0,d.jsx)(rr,{order:a,decodedData:null==i?void 0:i.dataDecoded,settlementContract:null!==(r=null==i?void 0:null===(t=i.to)||void 0===t?void 0:t.value)&&void 0!==r?r:""})};var ri=r(36009),rs=r(45485),rn=r(46748),ro=r(17090);let rl=e=>{let{order:t}=e,r=(0,tP.SC)(t.estimatedExitTime+t.estimatedWithdrawalTime,["days","hours"]);return(0,d.jsxs)(rs.BJc,{sx:{gap:2},children:[(0,d.jsx)(t$.A,{blocks:[{value:"".concat(t.numValidators," Validators"),label:"Exit"},{value:t.value,tokenInfo:t.tokenInfo,label:"Receive"}]}),(0,d.jsxs)(rn.A,{title:(0,d.jsxs)(d.Fragment,{children:["Withdraw in",(0,d.jsx)(ro.I,{title:(0,d.jsxs)(d.Fragment,{children:["Withdrawal time is the sum of:",(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:"Time until your validator is successfully exited after the withdraw request"}),(0,d.jsx)("li",{children:"Time for a stake to receive Consensus rewards on the execution layer"})]})]})})]}),children:["Up to ",r]}),(0,d.jsx)(rs.o5u,{variant:"body2",sx:{color:"text.secondary",mt:2},children:"The selected amount and any rewards will be withdrawn from Dedicated Staking for ETH after the validator exit."}),(0,d.jsx)(rs.FcD,{severity:"warning",sx:{mb:1},children:"This transaction is a withdrawal request. After it's executed, you'll need to complete a separate withdrawal transaction."})]})};var rd=r(60445);let rc=e=>{let{order:t}=e;return(0,tA.O2)(t)?(0,d.jsx)(ri.A,{order:t}):(0,tA.yJ)(t)?(0,d.jsx)(rl,{order:t}):(0,tA.rt)(t)?(0,d.jsx)(rd.A,{order:t}):null},ru=function(e){let{txInfo:t}=e;return(0,d.jsx)(rc,{order:t})};var rx=r(27229),rh=r.n(rx),rm=r(10595);function rv(e){let{children:t,light:r}=e;return(0,d.jsx)(J.azJ,{flex:1,bgcolor:r?"background.light":"border.background",p:2,textAlign:"center",fontWeight:700,fontSize:18,borderRadius:1,children:t})}let rf=(0,C.A)(function(e){let{safeVersion:t,queueSize:r,chain:a}=e,i=r&&rh()(t,"<1.3.0"),s=(null==a?void 0:a.recommendedMasterCopyVersion)||t8.$V;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(J.BJc,{direction:"row",alignItems:"center",spacing:2,children:[(0,d.jsxs)(rv,{children:["Current version: ",t]}),(0,d.jsx)(J.azJ,{fontSize:28,children:"→"}),(0,d.jsxs)(rv,{light:!0,children:["New version: ",s]})]}),(0,d.jsxs)(J.o5u,{children:["Read about the updates in the new Safe contracts version in the"," ",(0,d.jsxs)(eD.A,{href:"https://github.com/safe-global/safe-contracts/releases/tag/v".concat(s),children:["version ",s," changelog"]})]}),i&&(0,d.jsxs)(J.FcD,{severity:"warning",children:[(0,d.jsx)(J.XL1,{sx:{fontWeight:700},children:"This upgrade will invalidate all queued transactions!"}),"You have ",r," unexecuted transaction",(0,tP.Tz)(parseInt(r)),". Please make sure to execute or delete them before upgrading, otherwise you'll have to reject or replace them after the upgrade."]}),(0,d.jsx)(J.cGx,{sx:{my:1,mx:-3}})]})},{chain:Y._J,safeVersion:function(){let{safe:e}=(0,R.A)();return(null==e?void 0:e.version)||""},queueSize:rm.CZ});var rg=r(29245);let rp=e=>{let{txInfo:t,txData:r,txFlow:a}=e;return tk(t)?(0,d.jsx)(tD,{txInfo:t}):tF(a)?(0,d.jsx)(tR,{}):tG(t)?(0,d.jsx)(tI,{txInfo:t}):(0,tA.qk)(r)?(0,d.jsx)(tB.M,{data:r,isConfirmationView:!0}):(0,tA.MB)(r)?(0,d.jsx)(tM.e,{data:r,isConfirmationView:!0}):(0,tA.QI)(t)||(0,tA.h1)(t)?(0,d.jsx)(ra,{txInfo:t,txData:r}):(0,tA.Wx)(t)?(0,d.jsx)(ru,{txInfo:t}):(0,tA.ep)(t)&&(0,tA.XX)(r)?(0,d.jsx)(rf,{}):(0,tA.ep)(t)&&(0,tA.zH)(r)?(0,d.jsx)(rg.x,{variant:"queue",txData:r}):null},rj=e=>{let{safeTx:t,txPreview:r,txDetails:a,...i}=e,{txId:s}=i,{txFlow:n}=(0,c.useContext)(f.P),o=null!=a?a:r,l=(0,c.useMemo)(()=>o?rp({txInfo:o.txInfo,txData:o.txData,txFlow:n}):void 0,[o,n]),u=s&&!i.isCreation&&a&&!(0,tA.ep)(a.txInfo)&&!(0,tA.Wx)(a.txInfo)&&!(0,tA.Xo)(a.txInfo);return(0,d.jsxs)(d.Fragment,{children:[l||u&&o&&(0,d.jsx)(ty.A,{txData:null==o?void 0:o.txData,txInfo:null==o?void 0:o.txInfo,txDetails:a,imitation:!1,trusted:!0}),i.children,(0,d.jsx)(tj.A,{tx:t,txDetails:a,txData:null==o?void 0:o.txData,txInfo:null==o?void 0:o.txInfo,showMultisend:!i.isBatch,showMethodCall:i.showMethodCall&&!l&&!u&&!i.isApproval})]})};var rA=r(73625),ry=r(30488),rw=["title","titleId"];function rb(){return(rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let rC=function(e){var t=e.title,r=e.titleId,a=function(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.includes(r)||({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,rw);return c.createElement("svg",rb({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},a),t?c.createElement("title",{id:r},t):null,l||(l=c.createElement("path",{d:"M3.85378 11.9828C3.46711 12.4528 3.09378 12.9162 2.70711 13.3728C2.55378 13.5562 2.37711 13.7195 2.20711 13.8895C2.00711 14.0895 1.79378 14.1062 1.63044 13.9428C1.47044 13.7828 1.49044 13.5595 1.68711 13.3662C2.31378 12.7562 2.86044 12.0862 3.33711 11.3528C3.40378 11.2495 3.40044 11.1762 3.34378 11.0728C2.72711 9.92618 2.11711 8.77951 1.64044 7.56618C1.34044 6.79951 1.07044 6.01951 1.01711 5.18951C0.997109 4.85284 1.01044 4.49618 1.08711 4.16951C1.23378 3.53618 1.62711 3.09618 2.28378 2.97618C2.97378 2.84951 3.56044 3.07951 3.96711 3.65618C4.62378 4.59284 5.01378 5.63951 5.15378 6.77618C5.34711 8.31951 5.06044 9.76951 4.32378 11.1362C4.29711 11.1862 4.30711 11.2728 4.33044 11.3295C4.38711 11.4528 4.46044 11.5662 4.53044 11.6828C4.76044 12.0662 5.18378 12.1262 5.50378 11.8062C5.88378 11.4228 6.27044 11.0395 6.62378 10.6295C7.32044 9.81951 8.43044 10.0495 8.89378 10.8962C9.10044 11.2728 9.50044 11.3428 9.82711 11.0628C10.0138 10.9028 10.1938 10.7395 10.3804 10.5795C11.1271 9.93284 12.1904 10.2028 12.5371 11.1262C12.6571 11.4428 12.8304 11.5662 13.1771 11.5662C13.6504 11.5662 14.1238 11.5662 14.6004 11.5662C14.9004 11.5662 15.0804 11.8362 14.9638 12.0895C14.9004 12.2228 14.7871 12.3028 14.6438 12.3028C14.0904 12.3062 13.5371 12.3262 12.9871 12.2895C12.4171 12.2528 12.0438 11.9195 11.8504 11.3828C11.7371 11.0728 11.5071 10.9162 11.2038 10.9695C11.0938 10.9895 10.9771 11.0495 10.8871 11.1228C10.6971 11.2695 10.5204 11.4328 10.3438 11.5962C9.61044 12.2695 8.63378 11.9662 8.22044 11.2295C8.12044 11.0528 7.99378 10.9162 7.78711 10.8795C7.55711 10.8395 7.37044 10.9162 7.21378 11.0862C6.84044 11.4862 6.45378 11.8728 6.08378 12.2762C5.40378 13.0162 4.31378 12.8362 3.88044 12.0295C3.87044 12.0128 3.85711 11.9962 3.85044 11.9862L3.85378 11.9828ZM3.81711 10.4295C3.84044 10.4095 3.85044 10.4028 3.85378 10.3962C3.86378 10.3795 3.87378 10.3595 3.88044 10.3395C4.81044 8.17284 4.64711 6.09284 3.38378 4.10618C3.16711 3.76618 2.83044 3.63284 2.43711 3.69951C2.04378 3.76284 1.86378 4.05618 1.78044 4.40951C1.66711 4.88951 1.74378 5.36284 1.86044 5.82951C2.26711 7.46284 3.05044 8.93951 3.81711 10.4328V10.4295Z",fill:"currentColor"})))};var rE=r(6150),r_=r.n(rE),rN=r(49276),rS=r(85557);let rP=e=>{var t;let{willExecute:r}=e,{signer:a,setSignerAddress:i,connectedWallet:s}=null!==(t=(0,y.u2)())&&void 0!==t?t:{},n=(0,ry.Y)(),o=null==a?void 0:a.address,{safe:l}=(0,R.A)(),{safeTx:x}=(0,c.useContext)(u.H),h=(0,rS.V)(),m=(0,c.useCallback)(e=>!x||!(x.signatures.size<l.threshold)||!Array.from(x.signatures.keys()).some(t=>(0,rN.xU)(t,e)),[x,l.threshold]),v=(0,c.useMemo)(()=>{if(!s)return[];let e=new Set(null!=n?n:[]),t=!!x&&x.signatures.size>=l.threshold;return(r&&t||l.owners.some(e=>(0,rN.xU)(e.value,s.address)))&&e.add(s.address),Array.from(e)},[n,l.owners,l.threshold,x,s,r]);return s&&h?(0,d.jsxs)(eF.A,{children:[(0,d.jsxs)(rA.o5u,{variant:"h5",display:"flex",gap:1,alignItems:"center",children:[(0,d.jsx)(rA.Ahz,{component:rC,inheritViewBox:!0,fontSize:"small"}),r?"Execute":"Sign"," with",(0,d.jsx)(rA.m_M,{title:"Your connected wallet controls other Safe Accounts, which can sign this transaction. You can select which Account to ".concat(r?"execute":"sign"," with."),arrow:!0,placement:"top",children:(0,d.jsx)(rA.Ahz,{component:re.A,inheritViewBox:!0,color:"border",fontSize:"small"})})]}),(0,d.jsx)(rA.azJ,{display:"flex",alignItems:"center",gap:1,children:(0,d.jsxs)(rA.MJN,{fullWidth:!0,size:"medium",children:[(0,d.jsx)(rA.l1Y,{id:"signer-label",children:"Signer Account"}),(0,d.jsx)(rA.l6P,{className:r_().signerForm,labelId:"signer-label",label:"Signer account",fullWidth:!0,onChange:e=>{(0,M.sx)(M.rF.CHANGE_SIGNER),null==i||i(e.target.value)},value:null!=o?o:v.filter(m)[0],children:null==v?void 0:v.map(e=>(0,d.jsxs)(rA.Drp,{value:e,disabled:!m(e),children:[(0,d.jsx)(tb.A,{address:e,avatarSize:32,onlyName:!0,copyAddress:!1}),!m(e)&&(0,d.jsx)(rA.o5u,{variant:"caption",component:"span",className:r_().disabledPill,children:"Already signed"})]},e))})]})})]}):null};var rT=r(16074),rI=r(45971);let rO=(0,C.A)(e=>{var t,r,a;let{chainId:i,safeTx:s,safeTxError:n,onSubmit:o,isCreation:l,...u}=e,[x,h]=(0,c.useState)(u.origin),{transactionExecution:m}=(0,er.GV)(ea.i0),[v,f]=(0,c.useState)(m),g=(0,A.qf)()&&l,p=(0,A.HP)(s),j=!1!==u.isBatchable&&s&&!(0,T.gM)(s),[w]=(0,tf._w)(),[b]=(0,tg.Q)({safeTransaction:s}),C=b&&b.length>0,{safe:E}=(0,R.A)(),N=(0,Z.A)(),S=(0,y.ix)(),P=(0,et.t)()&&!N&&l,I=!E.deployed,O=e6(I||!l||g&&N?void 0:s),G=e9(O),F=e7(O),k=!!G||!!F&&!N,D=k&&!N,z=p&&(u.isExecutable||g),L=(u.onlyExecute||v)&&z&&!D,B=(u.onlyExecute||v)&&k&&(!z||D),J=(0,c.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null==o||o(e,t);let{data:s}=await w({chainId:i,txId:e});!function(e,t,r,a,i,s,n){var o,l,d;let c=!!e&&(0,tA.Xm)(e.txInfo),u=(o={isParentSigner:s,isRoleExecution:a,isProposerCreation:i}).isParentSigner?V.V.CREATE_VIA_PARENT:o.isRoleExecution?V.V.CREATE_VIA_ROLE:o.isProposerCreation?V.V.CREATE_VIA_PROPOSER:V.V.CREATE,x=(l={isParentSigner:s,isNestedConfirmation:c}).isParentSigner?V.V.CONFIRM_VIA_PARENT:l.isNestedConfirmation?V.V.CONFIRM_IN_PARENT:V.V.CONFIRM,h=(d={isParentSigner:s,isNestedConfirmation:c,isRoleExecution:a}).isParentSigner?V.V.EXECUTE_VIA_PARENT:d.isNestedConfirmation?V.V.EXECUTE_IN_PARENT:d.isRoleExecution?V.V.EXECUTE_VIA_ROLE:V.V.EXECUTE,m=(0,rT._)(e,n);(0,M.sx)({...t?u:r?h:x,label:m}),t&&r&&(0,M.sx)({...h,label:m})}(s,!!l,t,r,a,!!(null==S?void 0:S.isSafe),x),x!==u.origin&&(0,rI.nu)()},[i,l,o,w,null==S?void 0:S.isSafe,x,u.origin]),W=(0,c.useCallback)((e,t)=>J(e,t,!0),[J]),H=(0,c.useCallback)((e,t)=>J(e,t,!1,!0),[J]),Y=(0,c.useCallback)(e=>{h((0,rI.$_)(e,u.origin))},[h,u.origin]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(eF.A,{children:[u.children,(0,d.jsx)(rj,{txId:u.txId,isCreation:l,txDetails:u.txDetails,txPreview:u.txPreview,safeTx:s,isBatch:u.isBatch,showMethodCall:u.showMethodCall,isApproval:C,children:!u.isRejection&&(0,d.jsx)(eM.tH,{fallback:(0,d.jsx)("div",{children:"Error parsing data"}),children:C&&(0,d.jsx)(eV.A,{safeTransaction:s})})}),!I&&!u.isRejection&&(0,d.jsx)(tm.X,{})]}),!I&&!u.isRejection&&(0,d.jsx)(eG.A,{}),(0,d.jsx)(rI.Nt,{isCreation:null!=l&&l,onChange:Y,txDetails:u.txDetails}),(0,d.jsx)(rP,{willExecute:L}),(0,d.jsxs)(eF.A,{children:[(0,d.jsx)(ek.A,{variant:P?ek.J.propose:L?ek.J.execute:ek.J.sign,isCreation:l}),n&&(0,d.jsx)(q.A,{error:n,children:"This transaction will most likely fail. To save gas costs, avoid confirming the transaction."}),(z||k)&&!u.onlyExecute&&!I&&!P&&(0,d.jsx)(en,{onChange:f}),(0,d.jsx)(tp.A,{}),(0,d.jsx)(eB,{txData:null!==(a=null===(t=u.txDetails)||void 0===t?void 0:t.txData)&&void 0!==a?a:null===(r=u.txPreview)||void 0===r?void 0:r.txData}),(0,d.jsx)(tv.w1,{}),(()=>{let e={...u,safeTx:s,isCreation:l,origin:x,onSubmit:J};return I&&!P?(0,d.jsx)(ee,{...e,onlyExecute:!0}):I||!L||P?!I&&B?(0,d.jsx)(tx,{...e,role:G||F,safeTxError:n,onSubmit:W}):I||L||B||P?P?(0,d.jsx)(_,{...e,onSubmit:H}):void 0:(0,d.jsx)(eO,{...e,isBatchable:j}):(0,d.jsx)(eS,{...e})})()]})]})},{chainId:S.Ay,safeTx:()=>(0,c.useContext)(u.H).safeTx,safeTxError:()=>(0,c.useContext)(u.H).safeTxError});var rG=r(86578),rF=r(50021);let rk=()=>(0,d.jsx)(eF.A,{children:(0,d.jsx)(rF.azJ,{minHeight:"38svh",display:"flex",alignItems:"center",justifyContent:"center",mb:5,children:(0,d.jsx)(rG.A,{status:rG.U.PROCESSING})})});var rD=r(36722),rz=r(68894);let rL=e=>{let{safeTx:t,safeTxError:r}=(0,c.useContext)(u.H),[a,,i]=(0,rD.A)(e.txId),[s,,n]=(0,rz.A)(null==t?void 0:t.data,void 0,e.txId);return!t&&!r||i||n?(0,d.jsx)(rk,{}):(0,d.jsx)(rO,{...e,isCreation:!e.txId,txId:e.txId,txDetails:a,txPreview:s,children:e.children})}},5422:(e,t,r)=>{"use strict";r.d(t,{s:()=>o});var a=r(74848),i=r(39324),s=r(63399),n=r(56332);let o=()=>{let e=(0,s.h)(),t=(0,n._J)();if(e)return(0,a.jsx)(i.FcD,{severity:"info",sx:{border:"none",mt:0,mb:0},children:"Signers are not consistent across networks on this account. Changing signers will only affect the account on ".concat(null==t?void 0:t.chainName)})}},63399:(e,t,r)=>{"use strict";r.d(t,{h:()=>o});var a=r(40820),i=r(5259),s=r(49276),n=r(96540);let o=()=>{let e=(0,i.A)(),{allMultiChainSafes:t}=(0,a.bC)();return(0,n.useMemo)(()=>null==t?void 0:t.some(t=>(0,s.xU)(e,t.safes[0].address)),[t,e])}},27566:(e,t,r)=>{"use strict";r.d(t,{iV:()=>d,pl:()=>l,x6:()=>c});var a=r(56680),i=r(6459),s=r(79296),n=r(56332),o=r(8442);let l=5,d=()=>{let e=(0,n._J)(),{safe:t,safeAddress:r}=(0,i.A)();return(0,a.A)(()=>{if(r&&e&&(0,s.jI)(e,s.Gv.RELAYING))return(0,o.getRelayCount)(e.chainId,r)},[e,r,t.txHistoryTag])},c=e=>{let t=(0,n._J)(),{safe:r}=(0,i.A)();return(0,a.A)(()=>{if(t&&(0,s.jI)(t,s.Gv.RELAYING))return Promise.all(e.map(e=>(0,o.getRelayCount)(t.chainId,e))).then(e=>{let t=Math.min(...e.map(e=>e.remaining));return e.find(e=>e.remaining===t)}).catch(()=>({remaining:0,limit:l}))},[t,e,r.txHistoryTag])}},36722:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(8442),i=r(56680),s=r(83936);let n=function(e){let t=(0,s.Ay)();return(0,i.A)(()=>{if(e)return(0,a.getTransactionDetails)(t,e)},[t,e])}},45943:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(8220),i=r(4568);let s=e=>{let{gasLimit:t,maxFeePerGas:r}=e,[s]=(0,i.A)();return void 0===t||null==r||void 0===s||s>=(0,a.N4)(r,t)}},4568:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(56680),i=r(20781),s=r(28213);let n=()=>{let e=(0,s.vH)(),t=(0,i.Ay)();return(0,a.A)(async()=>{if(t&&e)return await e.getBalance(t.address,"latest")},[t,e])}},54505:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});let a=e=>!!e&&e.remaining>0},32009:e=>{e.exports={box:"styles_box__jXwC_",rectError:"styles_rectError__cTAjH",rect:"styles_rect__DgHvj",rectSuccess:"styles_rectSuccess__szLsJ",rectCenter:"styles_rectCenter__fgw7o",rectTl:"styles_rectTl__KI1Iv","rect-anim-tl":"styles_rect-anim-tl__3Weaw",rectTr:"styles_rectTr__s1DON","rect-anim-tr":"styles_rect-anim-tr__ctmQw",rectBl:"styles_rectBl__0UK4u","rect-anim-bl":"styles_rect-anim-bl__xXbUw",rectBr:"styles_rectBr__SV_dM","rect-anim-br":"styles_rect-anim-br__2Tai5"}},93552:e=>{e.exports={container:"styles_container__89vKx"}},6054:e=>{e.exports={group:"styles_group__fddoC",radio:"styles_radio__1OmLt",select:"styles_select__VIfzg"}},40986:e=>{e.exports={container:"styles_container__uq_oY",method:"styles_method__e_FVs",label:"styles_label__DK6kD",radioLabel:"styles_radioLabel__LApjP"}},6150:e=>{e.exports={signerForm:"styles_signerForm__kfRxt",disabledPill:"styles_disabledPill__fzH46"}},13270:e=>{e.exports={sponsoredBy:"styles_sponsoredBy__0eMhp",icon:"styles_icon__MhBil",logo:"styles_logo___DNjH"}},64544:e=>{e.exports={amount:"styles_amount__3yewX",partsBlock:"styles_partsBlock__jqAj5",partsBlockTitle:"styles_partsBlockTitle__H77xj",numberOfPartsLabel:"styles_numberOfPartsLabel__vclFI"}},55771:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a,i=r(96540),s=["title","titleId"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let o=function(e){var t=e.title,r=e.titleId,o=function(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.includes(r)||({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,s);return i.createElement("svg",n({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},o),t?i.createElement("title",{id:r},t):null,a||(a=i.createElement("rect",{x:2.5,y:7,width:12,height:2,rx:1,fill:"currentColor"})))}}}]);
//# sourceMappingURL=8879.00c26d9dff231711.js.map