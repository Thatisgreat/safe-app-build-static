"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5596],{38400:(e,s,t)=>{t.d(s,{a:()=>r});let r={THRESHOLD:"The threshold of a Safe Account specifies how many signers need to confirm a Safe Account transaction before it can be executed.",REVIEW_WINDOW:"A period that begins after a recovery is submitted on-chain, during which the Safe Account signers can review the proposal and cancel it before it is executable.",PROPOSAL_EXPIRY:"A period after which the recovery proposal will expire and can no longer be executed."}},93215:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var r=t(74848),n=t(78562),a=t(6459),o=t(73721),i=t(96540),l=t(15206),c=t(68879),d=t(18705),h=t(10256),x=t(57117),u=t(55771),m=t(68130),j=t(73536),p=t(66946),A=t.n(p),b=t(5422),f=t(31243);let g=e=>{let{params:s}=e,t=(0,d.A)(),{setSafeTx:n,setSafeTxError:o}=(0,i.useContext)(m.H),{safe:p}=(0,a.A)(),{removedOwner:g,threshold:v}=s;(0,i.useEffect)(()=>{(0,x.EN)({ownerAddress:g.address,threshold:v}).then(n).catch(o)},[g.address,n,o,v]);let w=p.owners.length-1;return(0,r.jsxs)(c.A,{onSubmit:()=>{(0,h.sx)({...h.kd.SETUP.THRESHOLD,label:p.threshold}),(0,h.sx)({...h.kd.SETUP.OWNERS,label:p.owners.length})},children:[(0,r.jsxs)(l.tu9,{sx:{backgroundColor:e=>{let{palette:s}=e;return s.warning.background},p:2},children:[(0,r.jsxs)(l.o5u,{color:"text.secondary",mb:2,display:"flex",alignItems:"center",children:[(0,r.jsx)(l.Ahz,{component:u.A,inheritViewBox:!0,fontSize:"small",sx:{mr:1}}),"Selected signer"]}),(0,r.jsx)(j.A,{address:g.address,name:t[g.address],shortAddress:!1,showCopyButton:!0,hasExplorer:!0})]}),(0,r.jsx)(b.s,{}),(0,r.jsx)(l.cGx,{className:A().nestedDivider}),(0,r.jsxs)(l.azJ,{m:1,children:[(0,r.jsx)(l.o5u,{variant:"body2",color:"text.secondary",mb:.5,children:"Any transaction requires the confirmation of:"}),(0,r.jsxs)(l.o5u,{children:[(0,r.jsx)("b",{children:v})," out of ",(0,r.jsx)("b",{children:w})," signer",(0,f.Tz)(w)]})]}),(0,r.jsx)(l.cGx,{className:A().nestedDivider})]})};var v=t(8109),w=t(39324),S=t(96389),y=t(15542),E=t(38400);let k=e=>{var s;let{params:t,onSubmit:n}=e,{safe:o}=(0,a.A)(),[l,c]=(0,i.useState)(null!==(s=t.threshold)&&void 0!==s?s:1),d=o?o.owners.length-1:1;return(0,r.jsx)(S.A,{children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n({...t,threshold:l})},children:[(0,r.jsxs)(w.azJ,{sx:{mb:3},children:[(0,r.jsx)(w.o5u,{sx:{mb:2},children:"Review the signer you want to remove from the active Safe Account:"}),(0,r.jsx)(j.A,{address:t.removedOwner.address,shortAddress:!1,showCopyButton:!0,hasExplorer:!0})]}),(0,r.jsx)(w.cGx,{className:A().nestedDivider}),(0,r.jsxs)(w.azJ,{sx:{my:3},children:[(0,r.jsxs)(w.o5u,{variant:"h4",sx:{fontWeight:700},children:["Threshold",(0,r.jsx)(w.m_M,{title:E.a.THRESHOLD,arrow:!0,placement:"top",children:(0,r.jsx)("span",{children:(0,r.jsx)(w.Ahz,{component:y.A,inheritViewBox:!0,color:"border",fontSize:"small",sx:{verticalAlign:"middle",ml:.5}})})})]}),(0,r.jsx)(w.o5u,{children:"Any transaction requires the confirmation of:"}),(0,r.jsxs)(w.xA9,{container:!0,direction:"row",sx:{alignItems:"center",gap:1,mt:2},children:[(0,r.jsx)(w.xA9,{item:!0,xs:1.5,children:(0,r.jsx)(w.l6P,{"data-testid":"threshold-selector",value:l,onChange:e=>{c(parseInt(e.target.value.toString()))},fullWidth:!0,children:o.owners.slice(1).map((e,s)=>(0,r.jsx)(w.Drp,{value:s+1,children:s+1},s+1))})}),(0,r.jsx)(w.xA9,{item:!0,children:(0,r.jsxs)(w.o5u,{children:["out of ",d," signer",(0,f.Tz)(d)]})})]})]}),(0,r.jsx)(w.cGx,{className:A().nestedDivider}),(0,r.jsx)(w.waF,{children:(0,r.jsx)(w.$nd,{"data-testid":"next-btn",variant:"contained",type:"submit",children:"Next"})})]})})},N=e=>{let{safe:s}=(0,a.A)(),t={removedOwner:e,threshold:Math.min(s.threshold,s.owners.length-1)},{data:i,step:l,nextStep:c,prevStep:d}=(0,o.A)(t),h=[(0,r.jsx)(k,{params:i,onSubmit:e=>c({...i,...e})},0),(0,r.jsx)(g,{params:i},1)];return(0,r.jsx)(n.A,{title:0===l?"New transaction":"Confirm transaction",subtitle:"Remove signer",icon:v.A,step:l,onBack:d,children:h})}},73721:(e,s,t)=>{t.d(s,{A:()=>a});var r=t(10256),n=t(96540);let a=(e,s)=>{let[t,a]=(0,n.useState)(0),[o,i]=(0,n.useState)(e);return{step:t,data:o,nextStep:(0,n.useCallback)(e=>{i(e),a(e=>(s&&(0,r.sx)({action:r.V4.Next,category:s,label:e}),e+1))},[s]),prevStep:(0,n.useCallback)(()=>{a(e=>(s&&(0,r.sx)({action:r.V4.Back,category:s,label:e}),e-1))},[s])}}}}]);
//# sourceMappingURL=5596.4d83bee2a92c1a05.js.map