{"version":3,"file":"static/chunks/pages/settings/safe-apps-33f1ba8028185f75.js","mappings":"gFACA,4CACA,sBACA,WACA,OAAe,EAAQ,KAAiD,CACxE,EACA,SAFsB,4QEiCtB,MA9BgB,OAAC,MAAEA,CAAI,CAAuB,GACtCC,EAASC,CAAAA,EA6BKC,EA7BLD,SAAAA,CAASA,GAClBE,EAAYC,KAAKC,GAAG,CAAC,EAAGN,EAAKO,GAAG,CAAC,GAASC,EAAIC,IAAI,EAAEC,OAAO,CAACT,EAAOU,QAAQ,GAC3EC,EAAQX,EAAOW,KAAK,CAACC,IAAI,CAAG,CAAEA,KAAMZ,EAAOW,KAAK,CAACC,IAAI,OAAKC,EAEhE,MACE,UAACC,EAAAA,GAAIA,CAAAA,CAACC,MAAOZ,EAAWa,QAAQ,aAAaC,wBAAwB,IAACC,UAAWC,IAAAA,IAAQ,UACtFpB,EAAKO,GAAG,CAAC,CAACC,EAAKa,IACd,UAACC,EAAAA,GAAGA,CAAAA,CAEFb,KAAM,CAAEE,SAAUH,EAAIC,IAAI,OAAEG,CAAM,EAClCW,UAAWC,CAAAA,GACXC,SAAU,EADSD,UAERJ,IAAAA,GAAO,CAClBM,MACE,UAACC,EAAAA,GAAUA,CAAAA,CACTV,QAAQ,QACRW,WAAY,IACZC,MAAOzB,IAAciB,EAAM,UAAY,gBACvCF,UAAWC,IAAAA,KAAS,UAEnBZ,EAAIkB,KAAK,IAZTlB,EAAIC,IAAI,IAmBvB,mHCTA,MAnBmB,OAAC,OAClBqB,CAAK,QACLC,CAAM,IAiBOC,MAhBbC,CAAQ,CAKT,EAWwBD,CAVvB,CAUuB,KATrB,WAACE,EAAAA,GAAGA,CAAAA,CAACf,UAAWgB,IAAWf,IAAAA,SAAAA,CAAa,CAAI,CAACA,IAAAA,MAAAA,CAAU,CAAG,CAACa,CAAS,aAClE,EADwBE,CAACf,EACzB,KAACO,EAAAA,GAAUA,CAAAA,CAACV,QAAQ,KAAKE,UAAWC,CAAAA,GAAAA,KAAAA,CAAS,SAC1CU,IAEFC,IAGP,2ECFA,MAb4B,OAAC,CAAEL,OAAK,KAarBU,IAbuBC,CAAO,UAAEC,CAAQ,GAarBF,EAAA,CAbuBG,CAAI,CAA4B,SACvF,UAACC,EAAAA,GAAgBA,CAAAA,CACfC,GAAI,OAAC,SAAEC,CAAO,CAAE,SAAM,CACpBC,KAAM,EACN,wCAAyC,CACvCd,MAAOa,EAAQE,IAAI,CAACC,QAAQ,CAEhC,GACAC,QAAS,UAACC,EAAAA,GAAQA,CAAAA,CAACV,QAASA,EAASC,SAAUA,EAAUC,KAAMA,IAC/Db,MAAOA,4DChBJ,eAAKsB,CAAAA,iEAAAA,OAIX,IAEKC,EAAW,CACf,gBACA,uBACA,WACA,UACA,SACA,wBACA,kBACA,kBACA,kBACA,+BACA,kCACA,aACA,cACA,YACA,eACA,eACA,aACA,OACA,sBACA,UACA,qBACA,4BACA,mBACA,WACA,MACA,YACA,sBACA,iBACA,kBACA,UACA,oBACD,CAMYC,EAAmB,GACvBD,EAASE,QAAQ,CAACC,sJCb3B,MAAeC,CAAAA,EAAAA,SAAAA,CAAAA,CAAQA,CAvBO,OAAC,CAC7BC,aAAW,OACXC,CAAK,CAIN,GACOC,EAAWF,EACbG,EAAAA,EAAgBA,CAACC,MAAM,CAAC,GAAWC,CAAAA,EAAAA,EAAAA,EAAAA,CAAcA,CAACC,EAAMnD,IAAI,CAAE8C,IAC9DM,EAAAA,EAAuBA,CAE3B,MACE,UAAC7B,EAAAA,CAAUA,CAAAA,CACTF,MAAOwB,EAAc,WAAa,cAClCvB,OACE,UAAC+B,MAAAA,CAAI3C,UAAWC,CAAAA,GAAAA,UAAAA,CAAc,SAC5B,UAACjB,EAAAA,CAAOA,CAAAA,CAACH,KAAMwD,OAKzB,EAAC,CAGCF,YAAaS,EAAAA,CAAcA,CAC3BR,MAAOS,EAAAA,EACT,EAAE,gJCdF,IAAMC,EAAwB,KAC5B,GAAM,CAACC,EAAc,CAAC,CAAC,CAAEC,EAAe,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,CAAeA,CAAqBC,gCAEzEC,EAAiBC,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAChC,GACSL,CAAW,CAACM,CAAAA,EAAAA,EAAAA,EAAAA,CAAiBA,CAACC,GAAQ,EAAI,EAAE,CAErD,CAACP,EAAY,EAGTQ,EAAmBH,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAClC,CAACE,EAAgBE,KACf,IAAMC,EAASJ,CAAAA,EAAAA,EAAAA,EAAAA,CAAiBA,CAACC,GAEjCN,EAAe,CACb,GAAGD,CAAW,CACd,CAACU,EAAO,CAAEV,CAAW,CAACU,EAAO,CAACrE,GAAG,CAAC,IAChC,IAAMsE,EAASF,EAAUG,IAAI,CAAC,GAAYD,EAAOE,OAAO,GAAKC,EAAED,OAAO,EAMtE,OAJIF,IACFG,EAAEC,EADQ,IACF,CAAGJ,EAAOK,QAAQ,CAAGlC,EAAAA,CAAgBA,CAACmC,OAAO,CAAGnC,EAAAA,CAAgBA,CAACoC,MAAAA,EAGpEJ,CACT,EACF,EACF,EACA,CAACd,EAAaC,EAAe,EAGzBkB,EAAoBd,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CACnC,IACE,OAAOL,CAAW,CAACM,EAAAA,EAAAA,CAAiBA,GAAS,CAC7CL,EAAe,CAAE,GAAGD,CAAW,EACjC,EACA,CAACA,EAAaC,EAAe,EAGzBmB,EAAiBf,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAChC,CAACE,EAAgBc,KACfpB,EAAe,CAAE,GAAGD,CAAW,CAAE,CAACM,CAAAA,EAAAA,EAAAA,EAAAA,CAAiBA,CAACC,GAAQ,CAAEc,CAAoB,EACpF,EACA,CAACrB,EAAaC,EAAe,EAGzBqB,EAAyBjB,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CACxC,GACSD,EAAeG,GACnBf,MAAM,CAAC,OAAC,QAAEuB,CAAM,CAAE,UAAKA,IAAWjC,EAAAA,CAAgBA,CAACmC,OAAO,GAC1D5E,GAAG,CAAC,GAAgBkF,EAAWV,OAAO,EACtCW,IAAI,CAAC,MAEV,CAACpB,EAAe,EAGlB,MAAO,aACLJ,iBACAI,mBACAI,iBACAY,EACAD,oBACAG,wBACF,CACF,ECzEMG,EAAkB,iBAwBlBC,EAAqB,KACzB,GAAM,CAAC1B,EAAc,CAAC,CAAC,CAAEC,EAAe,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,CAAeA,CA1BnC,6BA4BjB,CAACyB,EAAoBC,EAAsB,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,GAEtDzB,EAAiBC,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAChC,GACSL,CAAW,CAACM,CAAAA,EAAAA,EAAAA,EAAAA,CAAiBA,CAACC,GAAQ,EAAI,EAAE,CAErD,CAACP,EAAY,EAGTQ,EAAmBH,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAClC,CAACE,EAAgBE,KACf,IAAMC,EAASJ,CAAAA,EAAAA,EAAAA,EAAAA,CAAiBA,CAACC,GAEjCN,EAAe,CACb,GAAGD,CAAW,CACd,CAACU,EAAO,CAAEV,CAAW,CAACU,EAAO,CAACrE,GAAG,CAAC,IAChC,IAAMsE,EAASF,EAAUG,IAAI,CAAC,GAAYD,EAAOmB,UAAU,GAAKP,EAAWQ,gBAAgB,EAE3F,GAAIpB,GACF,GAAIA,EADM,QACS,CAAE,KACEY,EAArBA,EAAWS,OAAO,CAAGT,CAAAA,QAAAA,EAAAA,EAAWS,OAAAA,GAAXT,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAoB/B,MAAM,CAAC,GAAYyC,EAAOC,IAAI,GAAKT,EAAAA,GAAoB,EAAE,MACxFU,CAAL,CAAsBZ,EAAWS,CAA7B,MAAoC,GAAG,CAChDT,EAAWS,OAAO,CAAG,IACfT,EAAWS,OAAO,EAAI,EAAE,CAC5B,CACEE,KAAMT,EACN3E,OAAO,CACT,EACD,EAIL,OAAOyE,CACT,EACF,EACF,EACA,CAACvB,EAAaC,EAAe,EAGzBkB,EAAoBd,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CACnC,IACE,OAAOL,CAAW,CAACM,EAAAA,EAAAA,CAAiBA,GAAS,CAC7CL,EAAe,CAAE,GAAGD,CAAW,EACjC,EACA,CAACA,EAAaC,EAAe,EAGzBmC,EAAgB/B,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAC/B,CAACE,EAAgBgB,SACRvB,EAAP,cAAOA,GAAAA,CAAW,CAACM,CAAAA,EAAAA,EAAAA,EAAAA,CAAiBA,CAACC,GAAQ,GAAtCP,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAwCqC,IAAI,CACjD,GAAOvB,EAAEiB,gBAAgB,GAAKR,GAAc,CAACY,EAAiBrB,EAAEkB,OAAO,EAE3E,EACA,CAAChC,EAAY,EAGTsC,EAAgBjC,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAC/B,CAACE,EAAgBgB,SACRvB,EAAP,eAAOA,EAAAA,CAAW,CAACM,CAAAA,EAAAA,EAAAA,EAAAA,CAAiBA,CAACC,GAAQ,GAAtCP,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAwCqC,IAAI,CAAC,GAAOvB,EAAEiB,gBAAgB,GAAKR,EACpF,EACA,CAACvB,EAAY,EAGTuC,EAA2BlC,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAC1C,IACE,GAAI,CAACsB,EAAoB,MAAO,EAAE,CAElC,IAAMa,EAA6B,IAAKxC,CAAW,CAAC2B,EAAmBpB,MAAM,CAAC,EAAI,EAAE,CAAE,CA8CtF,OA5CAoB,EAAmBc,OAAO,CAACC,OAAO,CAAC,IACjC,IAAMZ,EAAaa,OAAOC,IAAI,CAACC,EAAoB,CAAC,EAAE,CAElDP,EAAcX,EAAmBpB,MAAM,CAAEuB,GAC3CU,EAA2BnG,GAAG,CAAC,IAC7B,GAAIkF,EAAWQ,gBAAgB,GAAKD,EAAY,KAGrBP,EAIrBA,EANAY,EAAiBZ,EAAWS,OAAO,EACjCc,CADoC,GACzBhE,EAAAA,CAAgBA,CAACmC,OAAO,EAAE,CACvCM,EAAWS,OAAO,CAAGT,CAAAA,QAAAA,EAAAA,EAAWS,OAAAA,GAAXT,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAoB/B,MAAM,CAAC,GAAYyC,EAAOC,IAAI,GAAKT,EAAAA,GAAoB,IAG9FqB,IAAWhE,EAAAA,CAAgBA,CAACoC,MAAM,EAAE,CACpB,QAAlBK,EAAAA,EAAWS,OAAAA,GAAXT,KAAAA,IAAAA,GAAAA,EAAoBwB,IAAI,CAAC,CACvBb,KAAMT,EACN3E,OAAO,CACT,GAGN,CACF,GAEA0F,EAA2BO,IAAI,CAAC,CAC9BC,QAASrB,EAAmBpB,MAAM,CAClCwB,iBAAkBD,EAClBmB,KAAM,IAAIC,OAAOC,OAAO,GACxBnB,QACEc,IAAWhE,EAAAA,CAAgBA,CAACoC,MAAM,CAC9B,CACE,CACEgB,KAAMT,EACN3E,MAAO,EACT,EACD,CACD,EAAE,EAGd,GAEAmD,EAAe,CACb,GAAGD,CAAW,CACd,CAAC2B,EAAmBpB,MAAM,CAAC,CAAEiC,CAC/B,GACAZ,OAAsBhF,GAEf4F,CACT,EACA,CAACb,EAAoB3B,EAAaC,EAAgBqC,EAAc,EAG5DH,EAAmB,GACvB,CAAC,QAACH,EAAAA,KAAAA,EAAAA,EAASK,IAAI,CAAC,GAAYJ,CAA1BD,CAAiCE,IAAI,GAAKT,GAAmBQ,CAAiB,MAAVnF,KAAK,CAAK,EAElF,MAAO,aACLkD,mBACAmC,iBACA/B,mBACAI,oBACAW,qBACAQ,wBACAC,2BACAW,gBACAH,CACF,CACF,EChKMgB,EAAiE,CACrE,CAACC,EAAAA,EAAiBA,CAACC,kBAAkB,CAAC,CAAE,CACtCC,YAAa,eACbC,YAAa,6BACf,CACF,EAEaC,EAAkCC,GACtCN,CAAsB,CAACM,EAAO,CAG1BC,EAAoC,IACxC,CACLJ,YAAaK,CAAAA,EAAAA,EAAAA,EAAAA,CAAUA,CAAC/C,GAASgD,OAAO,CAAC,KAAM,KAC/CL,YAAa,kBAA0B,OAAR3C,GACjC,yGCbF,IAAMiD,EAAqC,GAAqB,GAAmCC,MAAAA,CAAhCC,iBAA6B,KAAW,OAARD,GAW7FE,EAAoB,KACxB,GAAM,CAACC,EAAgBC,EAAkB,CAAGtC,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAgB,EAAE,EAChE,CAACuC,EAASC,EAAW,CAAGxC,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,EAAC,GACjCkC,EAAUO,CAAAA,EAAAA,EAAAA,EAAAA,CAAUA,GAEpBC,EAAuBlE,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CACtC,IACE8D,EAAkBK,GAElB,IAAMC,EAAkCX,EAAmCC,GAC3EW,EAAAA,CAAKA,CAACC,OAAO,CACXF,EACAD,EAAkBnI,GAAG,CAAC,GAAU,EAAEuI,CAAF,GAAOC,EAAID,GAAG,CAAC,GAEnD,EACA,CAACb,EAAQ,EAoBX,MAjBAe,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KAcRC,CAbuB,UACrBV,GAAW,GACX,IAAMI,EAAkCX,EAAmCC,GACrEiB,EAAaN,EAAAA,CAAKA,CAACO,OAAO,CAAwBR,IAAoC,EAAE,CAM9FN,EAJqBe,CADA,MAAMC,QAAQC,CAKjBC,SAL2B,CAACL,EAAW3I,GAAG,CAAEwI,GAAQS,CAAAA,EAAAA,EAAAA,EAAAA,CAAwBA,CAACT,EAAID,GAAG,CAAEb,IAAAA,EAErGvE,MAAM,CAAC,GAA4C,cAAzB+F,EAAcxE,MAAM,EAC9C1E,GAAG,CAAC,GAAmB,EAAuDS,KAAK,GAGtFuH,GAAW,GACb,GAGF,EAAG,CAACN,EAAQ,EAEL,gBAAEG,UAAgBE,uBAASG,CAAqB,CACzD,4BClDO,IAAMiB,EAAoB,KAC/B,IAAMzB,EAAUO,CAAAA,EAAAA,EAAAA,EAAAA,CAAUA,GACpBmB,EAASC,CAAAA,EAAAA,EAAAA,EAAAA,CAAcA,CAAC,GAAWC,CAAAA,EAAAA,EAAAA,EAAAA,CAAYA,CAACC,EAAO7B,IACvD8B,EAAmBC,CAAAA,EAAAA,EAAAA,OAAAA,CAAOA,CAAC,IAAM,IAAIC,IAAIN,GAAS,CAACA,EAAO,EAC1DO,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,CAAcA,GAS/B,MAAO,kBAAEJ,EAAkBK,qBAPE7F,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CACrC8F,IACCH,EAASI,CAAAA,EAAAA,EAAAA,EAAAA,CAASA,CAAC,CAAEX,OAAQY,MAAMC,IAAI,CAACH,WAAMpC,CAAQ,GACxD,EACA,CAACiC,EAAUjC,EAAQ,CAG2B,CAClD,EAAC,0BClBD,IAAMwC,EAAoB,CAACC,EAAyBC,IAC3CX,CAAAA,EAAAA,EAAAA,OAAAA,CAAOA,CAAC,KACb,GAAI,CAACU,EAASE,MAAM,CAAE,MAAO,EAAE,CAG/B,IAAMC,EAAeH,EAAShH,MAAM,CAAC,GAAS,EAA6CoH,QAAQ,EAC7FC,EAAmBC,CAAAA,EAAAA,EAAAA,EAAAA,CAAYA,CAACL,GAKtC,MAAO,IAAI,IAAIV,IAHOY,EAAaI,MAAM,CAACF,EAAkBJ,IAG1B,CAACO,KAAK,CAAC,EAbjB,CAaoBC,CAE9C,EAAG,CAACT,EAAS,iBCIf,IAAMU,EAAc,KAClB,GAAM,CAACC,EAAiB,EAAE,CAAEC,EAAqBC,EAAsB,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,CAAiBA,GACrF,gBAAEpD,CAAc,CAAEE,QAASmD,CAAqB,sBAAEhD,CAAoB,CAAE,CAAGN,IAC3E,aAD4FA,KAC1F4B,CAAgB,sBAAEK,CAAoB,CAAE,CAAGV,IAC7C,CAAErE,YAD4DqE,MACzCgC,CAAqB,CAAE,CAAG9F,CAAAA,EAAAA,EAAAA,EAAAA,CAAkBA,GACjE,CAAEP,kBAAmBsG,CAAwB,CAAE,CAAG1H,CAAAA,EAAAA,EAAAA,EAAAA,CAAqBA,GAEvE2H,EAAc5B,CAAAA,EAAAA,EAAAA,OAAAA,CAAOA,CACzB,IAAMqB,EAAeJ,MAAM,CAAC7C,GAAgByD,IAAI,CAAC,CAACC,EAAGC,IAAMD,EAAEvJ,IAAI,CAACyJ,aAAa,CAACD,EAAExJ,IAAI,GACtF,CAAC8I,EAAgBjD,EAAe,EAG5BuC,EAAiBX,CAAAA,EAAAA,EAAAA,OAAAA,CAAOA,CAC5B,IAAMqB,EAAe3H,MAAM,CAAC,GAASqG,EAAiBkC,GAAG,CAAClD,EAAImD,EAAE,GAChE,CAACb,EAAgBtB,EAAiB,EAG9BoC,EAAiB1B,EAAkBmB,EAAajB,GAEhDyB,EAAe7H,CAAAA,EAAAA,EAAAA,GAFmBkG,QAEnBlG,CAAWA,CAC9B,IACEkE,EAAqB,IAAIL,EAAgBW,EAAI,CAC/C,EACA,CAACN,EAAsBL,EAAe,EAGlCiE,EAAkB9H,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CACjC,IACEkE,EAAqBL,EAAe1E,MAAM,CAAEqF,GAAQA,EAAImD,EAAE,GAAKI,IAC/D,IAAMvD,EAAMX,EAAetD,IAAI,CAAC,GAASiE,EAAImD,EAAE,GAAKI,GAEhDvD,IACF2C,CADO,CACe3C,EAAID,GAAG,EAC7B6C,EAAyB5C,EAAID,GAAG,EAEpC,EACA,CAACL,EAAsBL,EAAgBsD,EAAuBC,EAAyB,EAkBzF,MAAO,CACLC,6BACAO,iBAEAd,EACAE,sBAAuBA,GAAyB,CAAEF,CAAAA,GAAkBC,CAAAA,CAAkB,CACtFA,qCAEAX,mBACAZ,EACAwC,UAzBgB,CAACD,EAAeE,SAGhBZ,EAFhB,IAAMa,EAAgB1C,EAAiBkC,GAAG,CAACK,GACrCI,EAAS,IAAIzC,IAAIF,GACjB4C,EAAAA,QAAUf,EAAAA,EAAY9G,IAAI,CAAC,GAASiE,EAAImD,EAAE,GAAKI,EAAAA,GAArCV,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA6CrJ,IAAI,CAE7DkK,GACFC,EAAOE,MAAM,CAACN,GACdO,CAAAA,EAAAA,EAAAA,EAAAA,CAAiBA,CAAC,CAAE,GAAGC,EAAAA,EAAgBA,CAACC,KAAK,CAAErL,MAAO8K,CAAW,EAAGG,KAEpED,EAAOM,GAAG,CAACV,GACXO,CAAAA,EAAAA,EAAAA,EAAAA,CAAiBA,CAAC,CAAE,GAAGC,EAAAA,EAAgBA,CAACG,GAAG,CAAEvL,MAAO8K,CAAW,EAAGG,IAEpEvC,EAAqBsC,EACvB,iBAcEtE,EACAqD,wBACAW,+BACAC,CACF,CACF,6KCmGA,MAlL4B,KAC1B,GAAM,aAAET,CAAW,CAAE,CAAGR,CAAAA,EAAAA,EAAAA,CAAAA,CAAWA,GAC7B,CACJlH,YAAagJ,CAAe,CAC5BxI,EA8K8B,eA9KZyI,CAAoB,CACtC9H,kBAAmBqG,CAAqB,CACxCrF,kBAAgB,CACjB,CAAGT,CAAAA,EAAAA,EAAAA,EAAAA,CAAkBA,GAChB,CACJ1B,YAAakJ,CAAkB,CAC/B1I,iBAAkB2I,CAAuB,CACzChI,kBAAmBsG,CAAwB,CAC5C,CAAG1H,CAAAA,EAAAA,EAAAA,EAAAA,CAAqBA,GACnBqJ,EAAUtD,CAAAA,EAAAA,EAAAA,OAAAA,CAAOA,CAAC,IAGfO,MAAMC,IAAI,CAAC+C,IAFetD,IAAIpD,OAAOC,IAAI,CAACsG,GAAoBnC,MAAM,CAACpE,OAAOC,IAAI,CAACoG,MAGvF,CAACA,EAAiBE,EAAmB,EAElCI,EAA8B,CAAC/I,EAAgBuB,EAAoB3D,IACvE8K,EAAqB1I,EAAQ,CAAC,YAAEuB,EAAYd,SAAU7C,CAAQ,EAAE,EAE5DoL,EAAiC,CAAChJ,EAAgBM,EAA0B1C,IAChFgL,EAAwB5I,EAAQ,CAAC,CAAEM,UAASG,SAAU7C,CAAQ,EAAE,EAE5DqL,EAAuBnJ,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CACtC,CAACE,EAAgBS,SACXgI,EAMAE,EANJ,SAAIF,EAAAA,CAAe,CAACzI,EAAAA,GAAhByI,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAyBtC,MAAAA,GAC3BuC,EACE1I,EACAyI,CAAe,CAACzI,EAAO,CAAClE,GAAG,CAAC,OAAC,kBAAE0F,CAAgB,CAAE,SAAM,CAAED,WAAYC,WAAkBf,CAAS,KAGpG,QAAIkI,GAAAA,CAAkB,CAAC3I,EAAAA,GAAnB2I,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA4BxC,MAAAA,GAC9ByC,EACE5I,EACA2I,CAAkB,CAAC3I,EAAO,CAAClE,GAAG,CAAC,OAAC,SAAEwE,CAAO,CAAE,SAAM,SAAEA,WAASG,CAAS,IAE3E,EACA,CAACkI,EAAoBF,EAAiBG,EAAyBF,EAAqB,EAGhFQ,EAAiBpJ,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAChC,CAACqJ,EAAyBnJ,KACxBmJ,EAAMC,cAAc,GACpBH,EAAqBjJ,GAAQ,EAC/B,EACA,CAACiJ,EAAqB,EAGlBI,EAAiBvJ,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAChC,CAACqJ,EAAyBnJ,KACxBmJ,EAAMC,cAAc,GACpBH,EAAqBjJ,EAAQ,GAC/B,EACA,CAACiJ,EAAqB,EAGlBK,EAAkBxJ,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CACjC,CAACqJ,EAAyBnJ,KACxBmJ,EAAMC,cAAc,GACpBnC,EAAsBjH,GACtBkH,EAAyBlH,EAC3B,EACA,CAACkH,EAA0BD,EAAsB,EAG7CsC,EAAWhE,CAAAA,EAAAA,EAAAA,OAAAA,CAAOA,CAAC,IACN4B,EAAYqC,MAAM,CAAC,CAACC,EAA6BnF,KAChEmF,CAAG,CAACnF,EAAID,GAAG,CAAC,CAAGC,EAAIxG,IAAI,CAChB2L,GACN,CAAC,GAGH,CAACtC,EAAY,SAEhB,EAAiBhB,EAAb,IAAmB,CAKrB,CALuB,EAKvB,QAACuD,EAAAA,GAAKA,CAAAA,CAAC1L,GAAI,CAAE2L,QAAS,CAAE,YACtB,UAACzM,EAAAA,GAAUA,CAAAA,CAACV,QAAQ,KAAKW,WAAY,aAAK,0BAG1C,UAACyM,KAAAA,CAAAA,GACA,CAACf,EAAQ1C,MAAM,EACd,UAACjJ,EAAAA,GAAUA,CAAAA,CAACV,QAAQ,QAAQwB,GAAI,CAAEZ,MAAO,OAAC,SAAEa,CAAO,CAAE,UAAKA,EAAQ4L,OAAO,CAACC,KAAK,CAAC,WAAG,8CAIpFjB,EAAQ/M,GAAG,CAAC,QA+BJ2M,EAYAE,QA1CP,WAACoB,EAAAA,GAAIA,CAAAA,CACHC,IAAI,IAEJhM,GAAI,OAAC,SAAEC,CAAO,OAAEgM,CAAK,CAAE,SAAM,CAC3BC,OAAQ,aAAkC,OAArBjM,EAAQiM,MAAM,CAACJ,KAAK,EACzCK,aAAcF,EAAME,YAAY,CAChCC,aAAc,MAChB,aAEA,WAACL,EAAAA,GAAIA,CAAAA,CACHM,SAAS,IACTrM,GAAI,OAAC,SAAEC,CAAO,CAAE,SAAM,CACpB0L,QAAS,YACTW,aAAc,aAAkC,OAArBrM,EAAQiM,MAAM,CAACJ,KAAK,CACjD,aAEA,WAACC,EAAAA,GAAIA,CAAAA,CACHC,IAAI,IACJO,GAAI,GACJC,GAAI,EACJxM,GAAI,CACF2L,QAAS,OACX,YAEA,UAACzM,EAAAA,GAAUA,CAAAA,CAACV,QAAQ,KAAKW,WAAY,aAClCoM,CAAQ,CAACkB,EAAO,GAEnB,UAACvN,EAAAA,GAAUA,CAAAA,CAACV,QAAQ,iBAASiO,OAE/B,WAACV,EAAAA,GAAIA,CAAAA,CAACM,SAAS,IAACL,IAAI,IAACO,GAAI,GAAIC,GAAI,YACP,QAAvB/B,EAAAA,CAAe,CAACgC,EAAO,GAAvBhC,KAAAA,MAAAA,KAAAA,EAAAA,EAAyB3M,GAAG,CAAC,OAAC,kBAAE0F,CAAgB,SAAEC,CAAO,CAAE,GAC1D,MACE,UAACsI,EAAAA,GAAIA,CAAAA,CAAwBC,IAAI,IAACO,GAAI,GAAIC,GAAI,EAAGE,GAAI,EAAGC,GAAI,WAC1D,UAAChN,EAAAA,CAAmBA,CAAAA,CAClBG,KAAM0D,EACNvE,MAAOiG,CAAAA,EAAAA,EAAAA,EAAAA,CAA8BA,CAAC1B,GAAkBwB,WAAW,CACnEnF,SAAU,CAAC+M,EAAGhN,IAAqBmL,EAA4B0B,EAAQjJ,EAAkB5D,GACzFA,QAAS,CAACgE,EAAiBH,MALpBD,EASf,GAC2B,QAA1BmH,EAAAA,CAAkB,CAAC8B,EAAAA,GAAnB9B,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA4B7M,GAAG,CAAC,OAAC,SAAEwE,CAAO,QAAEE,CAAM,CAAE,GACnD,MACE,UAACuJ,EAAAA,GAAIA,CAAAA,CAAeC,IAAI,IAACO,GAAI,GAAIC,GAAI,EAAGE,GAAI,EAAGC,GAAI,WACjD,UAAChN,EAAAA,CAAmBA,CAAAA,CAClBG,KAAMwC,EAAQuK,QAAQ,GACtB5N,MAAOmG,CAAAA,EAAAA,EAAAA,EAAAA,CAAiCA,CAAC9C,GAAS0C,WAAW,CAC7DnF,SAAU,CAAC+M,EAAGhN,IAAqBoL,EAA+ByB,EAAQnK,EAAS1C,GACnFA,QAAS4C,IAAWjC,EAAAA,CAAgBA,CAACmC,OAAO,GAAG,CALxCJ,EASf,IAJ8D,KAOlE,WAACyJ,EAAAA,GAAIA,CAAAA,CACHM,SAAS,IACTL,IAAI,IACJc,eAAe,WACf9M,GAAI,CACF2L,QAAS,WACX,YAEA,UAACoB,EAAAA,GAAIA,CAAAA,CAAC/O,KAAK,IAAIgP,QAAS,GAAW9B,EAAeC,EAAOsB,GAASzM,GAAI,CAAEiN,eAAgB,MAAO,WAAG,cAGlG,UAACF,EAAAA,GAAIA,CAAAA,CACH/O,KAAK,IACLoB,MAAM,QACN4N,QAAU7B,GAAUE,EAAeF,EAAOsB,GAC1CzM,GAAI,CAAEiN,eAAgB,MAAO,EAC7BC,GAAI,WACL,cAGD,UAACH,EAAAA,GAAIA,CAAAA,CAAC/O,KAAK,IAAIoB,MAAM,QAAQ4N,QAAS,GAAW1B,EAAgBH,EAAOsB,GAASS,GAAI,WACnF,UAACC,EAAAA,GAAOA,CAAAA,CAACrO,UAAWsO,EAAAA,CAAUA,CAAEC,cAAc,IAACjO,MAAM,QAAQkO,SAAS,iBA3ErEb,QAjBJ,UAACpL,MAAAA,CAAAA,EAmGZ,mFCzLO,IAAMkM,EAAwB,KACnC,IAAMC,EAAiBrG,CAAAA,EAAAA,EAAAA,EAAAA,CAAcA,CAACsG,EAAAA,EAAoBA,EAEpDhG,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,CAAcA,GAO/B,MACE,UAACgE,EAAAA,GAAKA,CAAAA,CAAC1L,GAAI,CAAE2L,QAAS,EAAG+B,GAAI,CAAE,WAC7B,WAAC3B,EAAAA,GAAIA,CAAAA,CAACM,SAAS,IAACsB,QAAS,YACvB,UAAC5B,EAAAA,GAAIA,CAAAA,CAACC,IAAI,IAACU,GAAI,EAAGH,GAAI,YACpB,UAACrN,EAAAA,GAAUA,CAAAA,CAACV,QAAQ,KAAKW,WAAW,OAAOyO,GAAI,WAAG,qBAKpD,WAAC7B,EAAAA,GAAIA,CAAAA,CAACC,IAAI,IAACO,EAAE,cACX,WAACrN,EAAAA,GAAUA,CAAAA,CAAC0O,GAAI,YAAG,mCACgBC,EAAAA,EAAUA,CAAC,8HACiB,IAC7D,UAACC,EAAAA,CAAYA,CAAAA,CAAC9P,KAAM+P,EAAAA,EAAiBA,CAACC,eAAe,UAAE,SAAmB,OAE5E,UAACC,EAAAA,GAASA,CAAAA,UACR,UAAClO,EAAAA,GAAgBA,CAAAA,CACfC,GAAI,OAAC,SAAEC,CAAO,CAAE,SAAM,CACpBC,KAAM,EACN,wCAAyC,CACvCd,MAAOa,EAAQE,IAAI,CAACC,QAAQ,CAEhC,GACAC,QAAS,UAACC,EAAAA,GAAQA,CAAAA,CAACV,QAAS4N,EAAgB3N,SA5BvC,CA4BiDA,IA3BhEqO,CAAAA,EAAAA,EAAAA,EAAAA,CAAUA,CAACC,EAAAA,EAAeA,CAACC,SAAS,CAACC,qBAAqB,EAC1D5G,EAAS6G,CAAAA,EAAAA,EAAAA,EAAAA,CAAiBA,CAAC,CAACd,GAC9B,EAyB4E1N,KAAK,yBACrEb,MAAM,4CAOpB,EAAC,ECxCyC,IAEtC,OAeWsP,EAfX,qBAekCA,EAAA,CAdhC,UAACC,IAAIA,UACH,CADGA,EACH,OAACnP,QAAAA,UAAO,GAAc,OAAXwO,EAAAA,EAAUA,CAAC,+BAGxB,UAACY,EAAAA,CAAcA,CAAAA,CAAAA,GAEf,WAACC,OAAAA,WACC,UAACC,EAAmBA,CAAAA,GACpB,UAACpB,EAAqBA,CAAAA,SADFoB,SACEpB,+DCI9B,IAAMqB,EAAiB,IACrB,IAAMC,EAAUC,EAAMzM,IAAI,CAAC,QAAU0M,QAAAA,OAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAMC,KAAAA,GAAND,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAarO,QAAQ,CAAC,SAAUqO,OAAAA,EAAAA,KAAAA,EAAAA,EAAMpL,IAAAA,EAANoL,EAAe,kBAEpF,GAAIF,EACF,OADW,EACII,GAAG,CAGpB,IAAK,IAAMF,KAAQD,EACjB,IAAK,IAAMI,KAAQH,EAAKC,KAAK,CAACG,KAAK,CAAC,KAAM,GACpCC,OAAOF,EAAKC,KAAK,CAAC,IAAI,CAAC,EAAE,GAXZ,EAWiBE,EAChC,OAAON,EAAKE,GAAG,CAKrB,CANsD,MAM/CH,CAAK,CAAC,EAAE,CAACG,GAAG,EAAI,EACzB,EAQMK,EAAgB,CAACnN,EAAAA,QAAgB,OAAE2M,EAAQ,EAAE,UAAES,EAAW,EAAE,CAAe,GACzEC,EAAUV,EAAM3G,MAAM,CAAGyG,EAAeE,GAASS,SAEvD,EADgCE,EAC5BC,QADsC,CAAC,QACtB,IACZF,EAGF,GAAYG,MAAAA,CAATxN,GAA6CqN,MAAAA,CAApCG,CAAAA,EAAAA,EAAAA,EAAAA,CAAaA,CAACH,GAAW,GAAK,KAAc,OAARA,EACzD,EAEMI,EAAmB,eAAOzN,CAAAA,MAAgB0N,EAAAA,UAAAA,MAAAA,CAAAA,GAAAA,KAAAA,IAAAA,SAAAA,CAAAA,EAAAA,CAAAA,SAAAA,CAAAA,EAAAA,CAAU,IAClDC,EAAgB/N,CAAAA,EAAAA,EAAAA,EAAAA,CAAiBA,CAACI,GAClC4N,EAAc,GAAiB,OAAdD,EAAc,kBAG/BE,EAAa,IAAIC,gBACjBxG,EAAKyG,WAAW,IAAMF,EAAWG,KAAK,GAAIN,GAE1CO,EAAW,MAAMC,MAAMN,EAAa,CACxCO,OAAQN,EAAWM,MAAM,GAI3B,GAFAC,aAAa9G,GAET,CAAC2G,EAASI,EAAE,CACd,CADgB,KACV,MAAU,iCAA6C,OAAZT,IAGnD,OAAOK,EAASK,IAAI,EACtB,EAEMC,EAAqB,GAEf,MAARD,GACgB,UAAhB,OAAOA,GACP,SAAUA,GACV,gBAAiBA,GAChB,WAAWA,GAAQ,aAAcA,CAAAA,CAAG,CAInC1J,EAA2B,MAC/B5E,EACAwO,KAEA,IAAMC,EAAmB7O,CAAAA,EAAAA,EAAAA,EAAAA,CAAiBA,CAACI,GACrC0O,EAAc,MAAMjB,EAAiBzN,GAE3C,GAAI,CAACuO,EAAmBG,GACtB,MAAM,KAD8B,CACpB,6BAGlB,IAAMrB,EAAUF,EAAcsB,EAAkBC,GAEhD,MAAO,CAELpH,GAAI7L,KAAKkT,KAAK,CAAiB,IAAhBlT,KAAKmT,MAAM,GAAW,KACrC1K,IAAKuK,EACL9Q,KAAM+Q,EAAY/Q,IAAI,CACtBmF,YAAa4L,EAAY5L,WAAW,CACpC+L,cAAe,CAAErN,KAAMsN,EAAAA,wBAAwBA,CAACC,cAAc,EAC9DC,KAAM,EAAE,CACRC,SAAU,EAAE,CACZC,eAAgB,EAAE,CAClBC,iBAAkB,GAClBC,SAAU,CAACZ,EAAe,SAC1BnB,EACAgC,oBAAqBX,EAAYY,qBAAqB,EAAI,EAC5D,CACF,kFChHO,IAAMC,EAAiB,sBAAqB,EAanB,IACvBvL,EAAAA,CAAKA,CAACO,OAAO,CAAegL,IAAmB,CAAC,EAG5CC,EAAyBlI,QAEXmI,EACFA,EADEA,EACFA,EAFvB,IAAMA,EAAYC,IACZC,EAAmBF,QAAAA,EAAAA,QAAAA,EAAAA,CAAS,CAACnI,EAAG,GAAbmI,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAeG,SAAAA,GAAfH,KAAAA,IAAAA,EAAAA,EAA4B,EAC/CI,EAAiBJ,QAAAA,EAAa,QAAbA,EAAAA,CAAS,CAACnI,EAAAA,GAAVmI,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAeK,OAAAA,GAAfL,KAAAA,IAAAA,EAAAA,EAA0B,EAEjDzL,EAAAA,CAAKA,CAACC,OAAO,CAACsL,EAAgB,CAC5B,GAAGE,CAAS,CACZ,CAACnI,EAAG,CAAE,CACJyI,UAAWvN,KAAKwN,GAAG,GACnBJ,UAAWD,EAAmB,EAC9BG,QAASD,CACX,CACF,EACF,EAAC,EAEkC,QAEVJ,EAAAA,EADvB,IAAMA,EAAYC,IACZG,EAAiBJ,QAAAA,EAAAA,QAAAA,EAAAA,CAAS,CAACnI,EAAAA,GAAVmI,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAeK,OAAAA,GAAfL,KAAAA,IAAAA,EAAAA,EAA0B,EAEjDzL,EAAAA,CAAKA,CAACC,OAAO,CAACsL,EAAgB,CAC5B,GAAGE,CAAS,CAEZ,CAACnI,EAAG,CAAE,CAAE,GAAGmI,CAAS,CAACnI,EAAG,CAAEwI,QAASD,EAAiB,CAAE,CACxD,EACF,EAAC,EAGiC,CAChCI,EACAC,EACAC,EACAC,EACAC,IAEOD,EAAS,GAAQF,CAAAA,CAAK,CAAMG,GAAAA,CAASD,CAAK,EAAOD,EAAAA,CAASD,CAAK,CAG3D9J,EAAe,GAInBnE,OAAOqO,OAAO,CAFCC,EADTb,MAIVzI,IAAI,CAAC,CAACC,EAAGC,IAAMA,CAAC,CAAC,EAAE,CAAGD,CAAC,CAAC,CAHuBsJ,CAGrB,EAC1B7U,GAAG,CAAC,GAASmK,EAAS5F,IAAI,CAAC,GAAauQ,OAAOC,EAAQpJ,EAAE,IAAMnD,CAAG,CAAC,EAAE,GACrErF,MAAM,CAAC6R,SAGCJ,EAA8B,IACzC,IAAMK,EAAqC,CAAC,EAEtCC,EAAoB5O,OAAOqO,OAAO,CAACE,GAAMvJ,IAAI,CAAC,CAACC,EAAGC,IAC/CD,CAAC,CAAC,EAAE,CAAC6I,SAAS,CAAG5I,CAAC,CAAC,EAAE,CAAC4I,SAAS,EAGxC,IAAK,GAAM,CAACtT,EAAK0H,EAAI,GAAIwB,MAAMC,IAAI,CAACiL,EAAkBP,OAAO,IAAK,CAEhE,IAAMQ,EAAiBC,EAA0BtU,EAAK,EAAGoU,EAAkB7K,MAAM,CAAE,EAAG,GAEtF4K,CAAU,CAACzM,CAAG,CAAC,EAAE,CAAC,CAAG,CAzED,EAyEoBA,CAAG,CAAC,EAAE,CAAC2L,OAAO,CAAGkB,EAAoB7M,CAAG,CAAC,EAAE,CAACyL,SAAAA,EAAakB,CACnG,CAEA,OAAOF,CACT,EAAC,WCjFD,WAAkB,0FCAlB,WAAkB","sources":["webpack://_N_E/?d44d","webpack://_N_E/./src/components/common/Mui/index.tsx","webpack://_N_E/./src/components/common/NavTabs/index.tsx","webpack://_N_E/./src/components/common/PageHeader/index.tsx","webpack://_N_E/./src/components/safe-apps/PermissionCheckbox.tsx","webpack://_N_E/./src/components/safe-apps/types.ts","webpack://_N_E/./src/components/settings/SettingsHeader/index.tsx","webpack://_N_E/./src/hooks/safe-apps/permissions/useBrowserPermissions.ts","webpack://_N_E/./src/hooks/safe-apps/permissions/useSafePermissions.ts","webpack://_N_E/./src/hooks/safe-apps/permissions/index.ts","webpack://_N_E/./src/hooks/safe-apps/useCustomSafeApps.ts","webpack://_N_E/./src/hooks/safe-apps/usePinnedSafeApps.ts","webpack://_N_E/./src/hooks/safe-apps/useRankedSafeApps.ts","webpack://_N_E/./src/hooks/safe-apps/useSafeApps.ts","webpack://_N_E/./src/components/settings/SafeAppsPermissions/index.tsx","webpack://_N_E/./src/components/settings/SafeAppsSigningMethod/index.tsx","webpack://_N_E/./src/pages/settings/safe-apps/index.tsx","webpack://_N_E/./src/services/safe-apps/manifest.ts","webpack://_N_E/./src/services/safe-apps/track-app-usage-count.ts","webpack://_N_E/./src/components/common/NavTabs/styles.module.css","webpack://_N_E/./src/components/common/PageHeader/styles.module.css"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/settings/safe-apps\",\n      function () {\n        return require(\"private-next-pages/settings/safe-apps/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/settings/safe-apps\"])\n      });\n    }\n  ","export * from \"/Users/liuxiaolin/Documents/other/safe-wallet-monorepo/apps/web/src/components/common/Mui/index.tsx\"","import React from 'react'\nimport NextLink from 'next/link'\nimport { Tab, Tabs, Typography } from '@mui/material'\nimport { useRouter } from 'next/router'\nimport type { NavItem } from '@/components/sidebar/SidebarNavigation/config'\nimport css from './styles.module.css'\n\nconst NavTabs = ({ tabs }: { tabs: NavItem[] }) => {\n  const router = useRouter()\n  const activeTab = Math.max(0, tabs.map((tab) => tab.href).indexOf(router.pathname))\n  const query = router.query.safe ? { safe: router.query.safe } : undefined\n\n  return (\n    <Tabs value={activeTab} variant=\"scrollable\" allowScrollButtonsMobile className={css.tabs}>\n      {tabs.map((tab, idx) => (\n        <Tab\n          key={tab.href}\n          href={{ pathname: tab.href, query }}\n          component={NextLink}\n          tabIndex={0}\n          className={css.tab}\n          label={\n            <Typography\n              variant=\"body2\"\n              fontWeight={700}\n              color={activeTab === idx ? 'primary' : 'primary.light'}\n              className={css.label}\n            >\n              {tab.label}\n            </Typography>\n          }\n        />\n      ))}\n    </Tabs>\n  )\n}\n\nexport default NavTabs\n","import { Box, Typography } from '@mui/material'\nimport classNames from 'classnames'\n\nimport type { ReactElement } from 'react'\n\nimport css from './styles.module.css'\n\nconst PageHeader = ({\n  title,\n  action,\n  noBorder,\n}: {\n  title: string\n  action?: ReactElement\n  noBorder?: boolean\n}): ReactElement => {\n  return (\n    <Box className={classNames(css.container, { [css.border]: !noBorder })}>\n      <Typography variant=\"h3\" className={css.title}>\n        {title}\n      </Typography>\n      {action}\n    </Box>\n  )\n}\n\nexport default PageHeader\n","import { Checkbox, FormControlLabel } from '@mui/material'\n\ntype PermissionsCheckboxProps = {\n  label: string\n  name: string\n  checked: boolean\n  onChange: (event: React.ChangeEvent<HTMLInputElement>, checked: boolean) => void\n}\n\nconst PermissionsCheckbox = ({ label, checked, onChange, name }: PermissionsCheckboxProps): React.ReactElement => (\n  <FormControlLabel\n    sx={({ palette }) => ({\n      flex: 1,\n      '.MuiIconButton-root:not(.Mui-checked)': {\n        color: palette.text.disabled,\n      },\n    })}\n    control={<Checkbox checked={checked} onChange={onChange} name={name} />}\n    label={label}\n  />\n)\n\nexport default PermissionsCheckbox\n","import type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\n\nexport enum PermissionStatus {\n  GRANTED = 'granted',\n  PROMPT = 'prompt',\n  DENIED = 'denied',\n}\n\nconst FEATURES = [\n  'accelerometer',\n  'ambient-light-sensor',\n  'autoplay',\n  'battery',\n  'camera',\n  'cross-origin-isolated',\n  'display-capture',\n  'document-domain',\n  'encrypted-media',\n  'execution-while-not-rendered',\n  'execution-while-out-of-viewport',\n  'fullscreen',\n  'geolocation',\n  'gyroscope',\n  'keyboard-map',\n  'magnetometer',\n  'microphone',\n  'midi',\n  'navigation-override',\n  'payment',\n  'picture-in-picture',\n  'publickey-credentials-get',\n  'screen-wake-lock',\n  'sync-xhr',\n  'usb',\n  'web-share',\n  'xr-spatial-tracking',\n  'clipboard-read',\n  'clipboard-write',\n  'gamepad',\n  'speaker-selection',\n]\n\ntype FeaturesType = typeof FEATURES\n\nexport type AllowedFeatures = FeaturesType[number]\n\nexport const isBrowserFeature = (featureKey: string): featureKey is AllowedFeatures => {\n  return FEATURES.includes(featureKey as AllowedFeatures)\n}\n\nexport type AllowedFeatureSelection = { feature: AllowedFeatures; checked: boolean }\n\nexport type SafeAppDataWithPermissions = SafeAppData & { safeAppsPermissions: AllowedFeatures[] }\n","import type { ReactElement } from 'react'\n\nimport NavTabs from '@/components/common/NavTabs'\nimport PageHeader from '@/components/common/PageHeader'\nimport { generalSettingsNavItems, settingsNavItems } from '@/components/sidebar/SidebarNavigation/config'\nimport css from '@/components/common/PageHeader/styles.module.css'\nimport useSafeAddress from '@/hooks/useSafeAddress'\nimport { useCurrentChain } from '@/hooks/useChains'\nimport { isRouteEnabled } from '@/utils/chains'\nimport madProps from '@/utils/mad-props'\n\nexport const SettingsHeader = ({\n  safeAddress,\n  chain,\n}: {\n  safeAddress: ReturnType<typeof useSafeAddress>\n  chain: ReturnType<typeof useCurrentChain>\n}): ReactElement => {\n  const navItems = safeAddress\n    ? settingsNavItems.filter((route) => isRouteEnabled(route.href, chain))\n    : generalSettingsNavItems\n\n  return (\n    <PageHeader\n      title={safeAddress ? 'Settings' : 'Preferences'}\n      action={\n        <div className={css.navWrapper}>\n          <NavTabs tabs={navItems} />\n        </div>\n      }\n    />\n  )\n}\n\nexport default madProps(SettingsHeader, {\n  safeAddress: useSafeAddress,\n  chain: useCurrentChain,\n})\n","import type { AllowedFeatures } from '@/components/safe-apps/types'\nimport { PermissionStatus } from '@/components/safe-apps/types'\nimport useLocalStorage from '@/services/local-storage/useLocalStorage'\nimport { useCallback } from 'react'\nimport { trimTrailingSlash } from '@/utils/url'\n\nconst BROWSER_PERMISSIONS = 'SafeApps__browserPermissions'\n\nexport type BrowserPermission = { feature: AllowedFeatures; status: PermissionStatus }\n\ntype BrowserPermissions = { [origin: string]: BrowserPermission[] }\n\ntype BrowserPermissionChangeSet = { feature: AllowedFeatures; selected: boolean }[]\n\ntype UseBrowserPermissionsReturnType = {\n  permissions: BrowserPermissions\n  getPermissions: (origin: string) => BrowserPermission[]\n  updatePermission: (origin: string, changeset: BrowserPermissionChangeSet) => void\n  addPermissions: (origin: string, permissions: BrowserPermission[]) => void\n  removePermissions: (origin: string) => void\n  getAllowedFeaturesList: (origin: string) => string\n}\n\nconst useBrowserPermissions = (): UseBrowserPermissionsReturnType => {\n  const [permissions = {}, setPermissions] = useLocalStorage<BrowserPermissions>(BROWSER_PERMISSIONS)\n\n  const getPermissions = useCallback(\n    (origin: string) => {\n      return permissions[trimTrailingSlash(origin)] || []\n    },\n    [permissions],\n  )\n\n  const updatePermission = useCallback(\n    (origin: string, changeset: BrowserPermissionChangeSet) => {\n      const appUrl = trimTrailingSlash(origin)\n\n      setPermissions({\n        ...permissions,\n        [appUrl]: permissions[appUrl].map((p) => {\n          const change = changeset.find((change) => change.feature === p.feature)\n\n          if (change) {\n            p.status = change.selected ? PermissionStatus.GRANTED : PermissionStatus.DENIED\n          }\n\n          return p\n        }),\n      })\n    },\n    [permissions, setPermissions],\n  )\n\n  const removePermissions = useCallback(\n    (origin: string) => {\n      delete permissions[trimTrailingSlash(origin)]\n      setPermissions({ ...permissions })\n    },\n    [permissions, setPermissions],\n  )\n\n  const addPermissions = useCallback(\n    (origin: string, selectedPermissions: BrowserPermission[]) => {\n      setPermissions({ ...permissions, [trimTrailingSlash(origin)]: selectedPermissions })\n    },\n    [permissions, setPermissions],\n  )\n\n  const getAllowedFeaturesList = useCallback(\n    (origin: string): string => {\n      return getPermissions(origin)\n        .filter(({ status }) => status === PermissionStatus.GRANTED)\n        .map((permission) => permission.feature)\n        .join('; ')\n    },\n    [getPermissions],\n  )\n\n  return {\n    permissions,\n    getPermissions,\n    updatePermission,\n    addPermissions,\n    removePermissions,\n    getAllowedFeaturesList,\n  }\n}\n\nexport { useBrowserPermissions }\n","import { useState, useCallback } from 'react'\nimport type { Methods } from '@safe-global/safe-apps-sdk'\nimport type {\n  Permission,\n  PermissionCaveat,\n  PermissionRequest,\n} from '@safe-global/safe-apps-sdk/dist/types/types/permissions'\n\nimport { PermissionStatus } from '@/components/safe-apps/types'\nimport useLocalStorage from '@/services/local-storage/useLocalStorage'\nimport { trimTrailingSlash } from '@/utils/url'\n\nconst SAFE_PERMISSIONS = 'SafeApps__safePermissions'\nconst USER_RESTRICTED = 'userRestricted'\n\nexport type SafePermissions = { [origin: string]: Permission[] }\n\nexport type SafePermissionsRequest = {\n  origin: string\n  requestId: string\n  request: PermissionRequest[]\n}\n\ntype SafePermissionChangeSet = { capability: string; selected: boolean }[]\n\ntype UseSafePermissionsReturnType = {\n  permissions: SafePermissions\n  getPermissions: (origin: string) => Permission[]\n  updatePermission: (origin: string, changeset: SafePermissionChangeSet) => void\n  removePermissions: (origin: string) => void\n  permissionsRequest: SafePermissionsRequest | undefined\n  setPermissionsRequest: (permissionsRequest?: SafePermissionsRequest) => void\n  confirmPermissionRequest: (result: PermissionStatus) => Permission[]\n  hasPermission: (origin: string, permission: Methods) => boolean\n  isUserRestricted: (caveats?: PermissionCaveat[]) => boolean\n}\n\nconst useSafePermissions = (): UseSafePermissionsReturnType => {\n  const [permissions = {}, setPermissions] = useLocalStorage<SafePermissions>(SAFE_PERMISSIONS)\n\n  const [permissionsRequest, setPermissionsRequest] = useState<SafePermissionsRequest | undefined>()\n\n  const getPermissions = useCallback(\n    (origin: string) => {\n      return permissions[trimTrailingSlash(origin)] || []\n    },\n    [permissions],\n  )\n\n  const updatePermission = useCallback(\n    (origin: string, changeset: SafePermissionChangeSet) => {\n      const appUrl = trimTrailingSlash(origin)\n\n      setPermissions({\n        ...permissions,\n        [appUrl]: permissions[appUrl].map((permission) => {\n          const change = changeset.find((change) => change.capability === permission.parentCapability)\n\n          if (change) {\n            if (change.selected) {\n              permission.caveats = permission.caveats?.filter((caveat) => caveat.type !== USER_RESTRICTED) || []\n            } else if (!isUserRestricted(permission.caveats)) {\n              permission.caveats = [\n                ...(permission.caveats || []),\n                {\n                  type: USER_RESTRICTED,\n                  value: true,\n                },\n              ]\n            }\n          }\n\n          return permission\n        }),\n      })\n    },\n    [permissions, setPermissions],\n  )\n\n  const removePermissions = useCallback(\n    (origin: string) => {\n      delete permissions[trimTrailingSlash(origin)]\n      setPermissions({ ...permissions })\n    },\n    [permissions, setPermissions],\n  )\n\n  const hasPermission = useCallback(\n    (origin: string, permission: Methods) => {\n      return permissions[trimTrailingSlash(origin)]?.some(\n        (p) => p.parentCapability === permission && !isUserRestricted(p.caveats),\n      )\n    },\n    [permissions],\n  )\n\n  const hasCapability = useCallback(\n    (origin: string, permission: Methods) => {\n      return permissions[trimTrailingSlash(origin)]?.some((p) => p.parentCapability === permission)\n    },\n    [permissions],\n  )\n\n  const confirmPermissionRequest = useCallback(\n    (result: PermissionStatus) => {\n      if (!permissionsRequest) return []\n\n      const updatedPermissionsByOrigin = [...(permissions[permissionsRequest.origin] || [])]\n\n      permissionsRequest.request.forEach((requestedPermission) => {\n        const capability = Object.keys(requestedPermission)[0]\n\n        if (hasCapability(permissionsRequest.origin, capability as Methods)) {\n          updatedPermissionsByOrigin.map((permission) => {\n            if (permission.parentCapability === capability) {\n              if (isUserRestricted(permission.caveats)) {\n                if (result === PermissionStatus.GRANTED) {\n                  permission.caveats = permission.caveats?.filter((caveat) => caveat.type !== USER_RESTRICTED) || []\n                }\n              } else {\n                if (result === PermissionStatus.DENIED) {\n                  permission.caveats?.push({\n                    type: USER_RESTRICTED,\n                    value: true,\n                  })\n                }\n              }\n            }\n          })\n        } else {\n          updatedPermissionsByOrigin.push({\n            invoker: permissionsRequest.origin,\n            parentCapability: capability,\n            date: new Date().getTime(),\n            caveats:\n              result === PermissionStatus.DENIED\n                ? [\n                    {\n                      type: USER_RESTRICTED,\n                      value: true,\n                    },\n                  ]\n                : [],\n          })\n        }\n      })\n\n      setPermissions({\n        ...permissions,\n        [permissionsRequest.origin]: updatedPermissionsByOrigin,\n      })\n      setPermissionsRequest(undefined)\n\n      return updatedPermissionsByOrigin\n    },\n    [permissionsRequest, permissions, setPermissions, hasCapability],\n  )\n\n  const isUserRestricted = (caveats?: PermissionCaveat[]) =>\n    !!caveats?.some((caveat) => caveat.type === USER_RESTRICTED && caveat.value === true)\n\n  return {\n    permissions,\n    isUserRestricted,\n    getPermissions,\n    updatePermission,\n    removePermissions,\n    permissionsRequest,\n    setPermissionsRequest,\n    confirmPermissionRequest,\n    hasPermission,\n  }\n}\n\nexport { useSafePermissions }\n","import { RestrictedMethods } from '@safe-global/safe-apps-sdk'\nimport type { AllowedFeatures } from '@/components/safe-apps/types'\nimport { capitalize } from '@/utils/formatters'\n\ntype PermissionsDisplayType = {\n  displayName: string\n  description: string\n}\n\nexport * from './useBrowserPermissions'\nexport * from './useSafePermissions'\n\nconst SAFE_PERMISSIONS_TEXTS: Record<string, PermissionsDisplayType> = {\n  [RestrictedMethods.requestAddressBook]: {\n    displayName: 'Address Book',\n    description: 'Access to your address book',\n  },\n}\n\nexport const getSafePermissionDisplayValues = (method: string) => {\n  return SAFE_PERMISSIONS_TEXTS[method]\n}\n\nexport const getBrowserPermissionDisplayValues = (feature: AllowedFeatures) => {\n  return {\n    displayName: capitalize(feature).replace(/-/g, ' '),\n    description: `Allow to use - ${feature}`,\n  }\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\nimport local from '@/services/local-storage/local'\nimport { fetchSafeAppFromManifest } from '@/services/safe-apps/manifest'\nimport useChainId from '@/hooks/useChainId'\n\ntype ReturnType = {\n  customSafeApps: SafeAppData[]\n  loading: boolean\n  updateCustomSafeApps: (newCustomSafeApps: SafeAppData[]) => void\n}\n\nconst CUSTOM_SAFE_APPS_STORAGE_KEY = 'customSafeApps'\n\nconst getChainSpecificSafeAppsStorageKey = (chainId: string) => `${CUSTOM_SAFE_APPS_STORAGE_KEY}-${chainId}`\n\ntype StoredCustomSafeApp = { url: string }\n\n/*\n  This hook is used to manage the list of custom safe apps.\n  What it does:\n  1. Loads a list of custom safe apps from local storage\n  2. Does some backward compatibility checks (supported app networks, etc)\n  3. Tries to fetch the app info (manifest.json) from the app url\n*/\nconst useCustomSafeApps = (): ReturnType => {\n  const [customSafeApps, setCustomSafeApps] = useState<SafeAppData[]>([])\n  const [loading, setLoading] = useState(false)\n  const chainId = useChainId()\n\n  const updateCustomSafeApps = useCallback(\n    (newCustomSafeApps: SafeAppData[]) => {\n      setCustomSafeApps(newCustomSafeApps)\n\n      const chainSpecificSafeAppsStorageKey = getChainSpecificSafeAppsStorageKey(chainId)\n      local.setItem(\n        chainSpecificSafeAppsStorageKey,\n        newCustomSafeApps.map((app) => ({ url: app.url })),\n      )\n    },\n    [chainId],\n  )\n\n  useEffect(() => {\n    const loadCustomApps = async () => {\n      setLoading(true)\n      const chainSpecificSafeAppsStorageKey = getChainSpecificSafeAppsStorageKey(chainId)\n      const storedApps = local.getItem<StoredCustomSafeApp[]>(chainSpecificSafeAppsStorageKey) || []\n      const appManifests = await Promise.allSettled(storedApps.map((app) => fetchSafeAppFromManifest(app.url, chainId)))\n      const resolvedApps = appManifests\n        .filter((promiseResult) => promiseResult.status === 'fulfilled')\n        .map((promiseResult) => (promiseResult as PromiseFulfilledResult<SafeAppData>).value)\n\n      setCustomSafeApps(resolvedApps)\n      setLoading(false)\n    }\n\n    loadCustomApps()\n  }, [chainId])\n\n  return { customSafeApps, loading, updateCustomSafeApps }\n}\n\nexport { useCustomSafeApps }\n","import { useCallback, useMemo } from 'react'\nimport { useAppDispatch, useAppSelector } from '@/store'\nimport { selectPinned, setPinned } from '@/store/safeAppsSlice'\nimport useChainId from '../useChainId'\n\ntype ReturnType = {\n  pinnedSafeAppIds: Set<number>\n  updatePinnedSafeApps: (newPinnedSafeAppIds: Set<number>) => void\n}\n\n// Return the pinned app ids across all chains\nexport const usePinnedSafeApps = (): ReturnType => {\n  const chainId = useChainId()\n  const pinned = useAppSelector((state) => selectPinned(state, chainId))\n  const pinnedSafeAppIds = useMemo(() => new Set(pinned), [pinned])\n  const dispatch = useAppDispatch()\n\n  const updatePinnedSafeApps = useCallback(\n    (ids: Set<number>) => {\n      dispatch(setPinned({ pinned: Array.from(ids), chainId }))\n    },\n    [dispatch, chainId],\n  )\n\n  return { pinnedSafeAppIds, updatePinnedSafeApps }\n}\n","import { useMemo } from 'react'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\nimport { rankSafeApps } from '@/services/safe-apps/track-app-usage-count'\n\n// number of ranked Safe Apps that we want to display\nconst NUMBER_OF_SAFE_APPS = 5\n\nconst useRankedSafeApps = (safeApps: SafeAppData[], pinnedSafeApps: SafeAppData[]): SafeAppData[] => {\n  return useMemo(() => {\n    if (!safeApps.length) return []\n\n    // TODO: Remove assertion after migrating to new SDK\n    const featuredApps = safeApps.filter((app) => (app as SafeAppData & { featured: boolean }).featured)\n    const rankedPinnedApps = rankSafeApps(pinnedSafeApps)\n\n    const allRankedApps = featuredApps.concat(rankedPinnedApps, pinnedSafeApps)\n\n    // Use a Set to remove duplicates\n    return [...new Set(allRankedApps)].slice(0, NUMBER_OF_SAFE_APPS)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [safeApps])\n}\n\nexport { useRankedSafeApps }\n","import { useMemo, useCallback } from 'react'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\nimport { useRemoteSafeApps } from '@/hooks/safe-apps/useRemoteSafeApps'\nimport { useCustomSafeApps } from '@/hooks/safe-apps/useCustomSafeApps'\nimport { usePinnedSafeApps } from '@/hooks/safe-apps/usePinnedSafeApps'\nimport { useBrowserPermissions, useSafePermissions } from './permissions'\nimport { useRankedSafeApps } from '@/hooks/safe-apps/useRankedSafeApps'\nimport { SAFE_APPS_EVENTS, type SAFE_APPS_LABELS, trackSafeAppEvent } from '@/services/analytics'\n\ntype ReturnType = {\n  allSafeApps: SafeAppData[]\n  pinnedSafeApps: SafeAppData[]\n  pinnedSafeAppIds: Set<number>\n  remoteSafeApps: SafeAppData[]\n  customSafeApps: SafeAppData[]\n  rankedSafeApps: SafeAppData[]\n  remoteSafeAppsLoading: boolean\n  customSafeAppsLoading: boolean\n  remoteSafeAppsError?: Error\n  addCustomApp: (app: SafeAppData) => void\n  togglePin: (appId: number, eventLabel: SAFE_APPS_LABELS) => void\n  removeCustomApp: (appId: number) => void\n}\n\nconst useSafeApps = (): ReturnType => {\n  const [remoteSafeApps = [], remoteSafeAppsError, remoteSafeAppsLoading] = useRemoteSafeApps()\n  const { customSafeApps, loading: customSafeAppsLoading, updateCustomSafeApps } = useCustomSafeApps()\n  const { pinnedSafeAppIds, updatePinnedSafeApps } = usePinnedSafeApps()\n  const { removePermissions: removeSafePermissions } = useSafePermissions()\n  const { removePermissions: removeBrowserPermissions } = useBrowserPermissions()\n\n  const allSafeApps = useMemo(\n    () => remoteSafeApps.concat(customSafeApps).sort((a, b) => a.name.localeCompare(b.name)),\n    [remoteSafeApps, customSafeApps],\n  )\n\n  const pinnedSafeApps = useMemo(\n    () => remoteSafeApps.filter((app) => pinnedSafeAppIds.has(app.id)),\n    [remoteSafeApps, pinnedSafeAppIds],\n  )\n\n  const rankedSafeApps = useRankedSafeApps(allSafeApps, pinnedSafeApps)\n\n  const addCustomApp = useCallback(\n    (app: SafeAppData) => {\n      updateCustomSafeApps([...customSafeApps, app])\n    },\n    [updateCustomSafeApps, customSafeApps],\n  )\n\n  const removeCustomApp = useCallback(\n    (appId: number) => {\n      updateCustomSafeApps(customSafeApps.filter((app) => app.id !== appId))\n      const app = customSafeApps.find((app) => app.id === appId)\n\n      if (app) {\n        removeSafePermissions(app.url)\n        removeBrowserPermissions(app.url)\n      }\n    },\n    [updateCustomSafeApps, customSafeApps, removeSafePermissions, removeBrowserPermissions],\n  )\n\n  const togglePin = (appId: number, eventLabel: SAFE_APPS_LABELS) => {\n    const alreadyPinned = pinnedSafeAppIds.has(appId)\n    const newSet = new Set(pinnedSafeAppIds)\n    const appName = allSafeApps.find((app) => app.id === appId)?.name\n\n    if (alreadyPinned) {\n      newSet.delete(appId)\n      trackSafeAppEvent({ ...SAFE_APPS_EVENTS.UNPIN, label: eventLabel }, appName)\n    } else {\n      newSet.add(appId)\n      trackSafeAppEvent({ ...SAFE_APPS_EVENTS.PIN, label: eventLabel }, appName)\n    }\n    updatePinnedSafeApps(newSet)\n  }\n\n  return {\n    allSafeApps,\n    rankedSafeApps,\n\n    remoteSafeApps,\n    remoteSafeAppsLoading: remoteSafeAppsLoading || !(remoteSafeApps || remoteSafeAppsError),\n    remoteSafeAppsError,\n\n    pinnedSafeApps,\n    pinnedSafeAppIds,\n    togglePin,\n\n    customSafeApps,\n    customSafeAppsLoading,\n    addCustomApp,\n    removeCustomApp,\n  }\n}\n\nexport { useSafeApps }\n","import { useSafeApps } from '@/hooks/safe-apps/useSafeApps'\nimport {\n  getBrowserPermissionDisplayValues,\n  getSafePermissionDisplayValues,\n  useBrowserPermissions,\n  useSafePermissions,\n} from '@/hooks/safe-apps/permissions'\nimport type { ReactElement } from 'react'\nimport { useCallback, useMemo } from 'react'\nimport type { AllowedFeatures } from '@/components/safe-apps/types'\nimport { PermissionStatus } from '@/components/safe-apps/types'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\nimport { Grid, Link, Paper, SvgIcon, Typography } from '@mui/material'\nimport PermissionsCheckbox from '@/components/safe-apps/PermissionCheckbox'\nimport DeleteIcon from '@/public/images/common/delete.svg'\n\nconst SafeAppsPermissions = (): ReactElement => {\n  const { allSafeApps } = useSafeApps()\n  const {\n    permissions: safePermissions,\n    updatePermission: updateSafePermission,\n    removePermissions: removeSafePermissions,\n    isUserRestricted,\n  } = useSafePermissions()\n  const {\n    permissions: browserPermissions,\n    updatePermission: updateBrowserPermission,\n    removePermissions: removeBrowserPermissions,\n  } = useBrowserPermissions()\n  const domains = useMemo(() => {\n    const mergedPermissionsSet = new Set(Object.keys(browserPermissions).concat(Object.keys(safePermissions)))\n\n    return Array.from(mergedPermissionsSet)\n  }, [safePermissions, browserPermissions])\n\n  const handleSafePermissionsChange = (origin: string, capability: string, checked: boolean) =>\n    updateSafePermission(origin, [{ capability, selected: checked }])\n\n  const handleBrowserPermissionsChange = (origin: string, feature: AllowedFeatures, checked: boolean) =>\n    updateBrowserPermission(origin, [{ feature, selected: checked }])\n\n  const updateAllPermissions = useCallback(\n    (origin: string, selected: boolean) => {\n      if (safePermissions[origin]?.length)\n        updateSafePermission(\n          origin,\n          safePermissions[origin].map(({ parentCapability }) => ({ capability: parentCapability, selected })),\n        )\n\n      if (browserPermissions[origin]?.length)\n        updateBrowserPermission(\n          origin,\n          browserPermissions[origin].map(({ feature }) => ({ feature, selected })),\n        )\n    },\n    [browserPermissions, safePermissions, updateBrowserPermission, updateSafePermission],\n  )\n\n  const handleAllowAll = useCallback(\n    (event: React.MouseEvent, origin: string) => {\n      event.preventDefault()\n      updateAllPermissions(origin, true)\n    },\n    [updateAllPermissions],\n  )\n\n  const handleClearAll = useCallback(\n    (event: React.MouseEvent, origin: string) => {\n      event.preventDefault()\n      updateAllPermissions(origin, false)\n    },\n    [updateAllPermissions],\n  )\n\n  const handleRemoveApp = useCallback(\n    (event: React.MouseEvent, origin: string) => {\n      event.preventDefault()\n      removeSafePermissions(origin)\n      removeBrowserPermissions(origin)\n    },\n    [removeBrowserPermissions, removeSafePermissions],\n  )\n\n  const appNames = useMemo(() => {\n    const appNames = allSafeApps.reduce((acc: Record<string, string>, app: SafeAppData) => {\n      acc[app.url] = app.name\n      return acc\n    }, {})\n\n    return appNames\n  }, [allSafeApps])\n\n  if (!allSafeApps.length) {\n    return <div />\n  }\n\n  return (\n    <Paper sx={{ padding: 4 }}>\n      <Typography variant=\"h4\" fontWeight={700}>\n        Safe Apps permissions\n      </Typography>\n      <br />\n      {!domains.length && (\n        <Typography variant=\"body1\" sx={{ color: ({ palette }) => palette.primary.light }}>\n          There are no Safe Apps using permissions.\n        </Typography>\n      )}\n      {domains.map((domain) => (\n        <Grid\n          item\n          key={domain}\n          sx={({ palette, shape }) => ({\n            border: `1px solid ${palette.border.light}`,\n            borderRadius: shape.borderRadius,\n            marginBottom: '16px',\n          })}\n        >\n          <Grid\n            container\n            sx={({ palette }) => ({\n              padding: '15px 24px',\n              borderBottom: `1px solid ${palette.border.light}`,\n            })}\n          >\n            <Grid\n              item\n              xs={12}\n              sm={5}\n              sx={{\n                padding: '9px 0',\n              }}\n            >\n              <Typography variant=\"h5\" fontWeight={700}>\n                {appNames[domain]}\n              </Typography>\n              <Typography variant=\"body2\">{domain}</Typography>\n            </Grid>\n            <Grid container item xs={12} sm={7}>\n              {safePermissions[domain]?.map(({ parentCapability, caveats }) => {\n                return (\n                  <Grid key={parentCapability} item xs={12} sm={6} lg={4} xl={3}>\n                    <PermissionsCheckbox\n                      name={parentCapability}\n                      label={getSafePermissionDisplayValues(parentCapability).displayName}\n                      onChange={(_, checked: boolean) => handleSafePermissionsChange(domain, parentCapability, checked)}\n                      checked={!isUserRestricted(caveats)}\n                    />\n                  </Grid>\n                )\n              })}\n              {browserPermissions[domain]?.map(({ feature, status }) => {\n                return (\n                  <Grid key={feature} item xs={12} sm={6} lg={4} xl={3}>\n                    <PermissionsCheckbox\n                      name={feature.toString()}\n                      label={getBrowserPermissionDisplayValues(feature).displayName}\n                      onChange={(_, checked: boolean) => handleBrowserPermissionsChange(domain, feature, checked)}\n                      checked={status === PermissionStatus.GRANTED ? true : false}\n                    />\n                  </Grid>\n                )\n              })}\n            </Grid>\n          </Grid>\n          <Grid\n            container\n            item\n            justifyContent=\"flex-end\"\n            sx={{\n              padding: '12px 24px',\n            }}\n          >\n            <Link href=\"#\" onClick={(event) => handleAllowAll(event, domain)} sx={{ textDecoration: 'none' }}>\n              Allow all\n            </Link>\n            <Link\n              href=\"#\"\n              color=\"error\"\n              onClick={(event) => handleClearAll(event, domain)}\n              sx={{ textDecoration: 'none' }}\n              ml={2}\n            >\n              Clear all\n            </Link>\n            <Link href=\"#\" color=\"error\" onClick={(event) => handleRemoveApp(event, domain)} ml={2}>\n              <SvgIcon component={DeleteIcon} inheritViewBox color=\"error\" fontSize=\"small\" />\n            </Link>\n          </Grid>\n        </Grid>\n      ))}\n    </Paper>\n  )\n}\n\nexport default SafeAppsPermissions\n","import ExternalLink from '@/components/common/ExternalLink'\nimport { SETTINGS_EVENTS, trackEvent } from '@/services/analytics'\nimport { useAppDispatch, useAppSelector } from '@/store'\nimport { selectOnChainSigning, setOnChainSigning } from '@/store/settingsSlice'\nimport { FormControlLabel, Checkbox, Paper, Typography, FormGroup, Grid } from '@mui/material'\nimport { BRAND_NAME, HelpCenterArticle } from '@/config/constants'\n\nexport const SafeAppsSigningMethod = () => {\n  const onChainSigning = useAppSelector(selectOnChainSigning)\n\n  const dispatch = useAppDispatch()\n\n  const onChange = () => {\n    trackEvent(SETTINGS_EVENTS.SAFE_APPS.CHANGE_SIGNING_METHOD)\n    dispatch(setOnChainSigning(!onChainSigning))\n  }\n\n  return (\n    <Paper sx={{ padding: 4, mt: 2 }}>\n      <Grid container spacing={3}>\n        <Grid item lg={4} xs={12}>\n          <Typography variant=\"h4\" fontWeight=\"bold\" mb={1}>\n            Signing method\n          </Typography>\n        </Grid>\n\n        <Grid item xs>\n          <Typography mb={2}>\n            This setting determines how the {BRAND_NAME} will sign message requests from Safe Apps. Gasless, off-chain\n            signing is used by default. Learn more about message signing{' '}\n            <ExternalLink href={HelpCenterArticle.SIGNED_MESSAGES}>here</ExternalLink>.\n          </Typography>\n          <FormGroup>\n            <FormControlLabel\n              sx={({ palette }) => ({\n                flex: 1,\n                '.MuiIconButton-root:not(.Mui-checked)': {\n                  color: palette.text.disabled,\n                },\n              })}\n              control={<Checkbox checked={onChainSigning} onChange={onChange} name=\"use-on-chain-signing\" />}\n              label=\"Always use on-chain signatures\"\n            />\n          </FormGroup>\n        </Grid>\n      </Grid>\n    </Paper>\n  )\n}\n","import type { NextPage } from 'next'\nimport Head from 'next/head'\n\nimport SafeAppsPermissions from '@/components/settings/SafeAppsPermissions'\nimport SettingsHeader from '@/components/settings/SettingsHeader'\nimport { SafeAppsSigningMethod } from '@/components/settings/SafeAppsSigningMethod'\nimport { BRAND_NAME } from '@/config/constants'\n\nconst SafeAppsPermissionsPage: NextPage = () => {\n  return (\n    <>\n      <Head>\n        <title>{`${BRAND_NAME} – Settings – Safe Apps`}</title>\n      </Head>\n\n      <SettingsHeader />\n\n      <main>\n        <SafeAppsPermissions />\n        <SafeAppsSigningMethod />\n      </main>\n    </>\n  )\n}\n\nexport default SafeAppsPermissionsPage\n","import type { AllowedFeatures, SafeAppDataWithPermissions } from '@/components/safe-apps/types'\nimport { isRelativeUrl, trimTrailingSlash } from '@/utils/url'\nimport { SafeAppAccessPolicyTypes } from '@safe-global/safe-gateway-typescript-sdk'\n\ntype AppManifestIcon = {\n  src: string\n  sizes: string\n  type?: string\n  purpose?: string\n}\n\nexport type AppManifest = {\n  // SPEC: https://developer.mozilla.org/en-US/docs/Web/Manifest\n  name: string\n  short_name?: string\n  description: string\n  icons?: AppManifestIcon[]\n  iconPath?: string\n  safe_apps_permissions?: AllowedFeatures[]\n}\n\nconst MIN_ICON_WIDTH = 128\n\nconst chooseBestIcon = (icons: AppManifestIcon[]): string => {\n  const svgIcon = icons.find((icon) => icon?.sizes?.includes('any') || icon?.type === 'image/svg+xml')\n\n  if (svgIcon) {\n    return svgIcon.src\n  }\n\n  for (const icon of icons) {\n    for (const size of icon.sizes.split(' ')) {\n      if (Number(size.split('x')[0]) >= MIN_ICON_WIDTH) {\n        return icon.src\n      }\n    }\n  }\n\n  return icons[0].src || ''\n}\n\n// The icons URL can be any of the following format:\n// - https://example.com/icon.png\n// - icon.png\n// - /icon.png\n// This function calculates the absolute URL of the icon taking into account the\n// different formats.\nconst getAppLogoUrl = (appUrl: string, { icons = [], iconPath = '' }: AppManifest) => {\n  const iconUrl = icons.length ? chooseBestIcon(icons) : iconPath\n  const includesBaseUrl = iconUrl.startsWith('https://')\n  if (includesBaseUrl) {\n    return iconUrl\n  }\n\n  return `${appUrl}${isRelativeUrl(iconUrl) ? '' : '/'}${iconUrl}`\n}\n\nconst fetchAppManifest = async (appUrl: string, timeout = 5000): Promise<unknown> => {\n  const normalizedUrl = trimTrailingSlash(appUrl)\n  const manifestUrl = `${normalizedUrl}/manifest.json`\n\n  // A lot of apps are hosted on IPFS and IPFS never times out, so we add our own timeout\n  const controller = new AbortController()\n  const id = setTimeout(() => controller.abort(), timeout)\n\n  const response = await fetch(manifestUrl, {\n    signal: controller.signal,\n  })\n  clearTimeout(id)\n\n  if (!response.ok) {\n    throw new Error(`Failed to fetch manifest from ${manifestUrl}`)\n  }\n\n  return response.json()\n}\n\nconst isAppManifestValid = (json: unknown): json is AppManifest => {\n  return (\n    json != null &&\n    typeof json === 'object' &&\n    'name' in json &&\n    'description' in json &&\n    ('icons' in json || 'iconPath' in json)\n  )\n}\n\nconst fetchSafeAppFromManifest = async (\n  appUrl: string,\n  currentChainId: string,\n): Promise<SafeAppDataWithPermissions> => {\n  const normalizedAppUrl = trimTrailingSlash(appUrl)\n  const appManifest = await fetchAppManifest(appUrl)\n\n  if (!isAppManifestValid(appManifest)) {\n    throw new Error('Invalid Safe App manifest')\n  }\n\n  const iconUrl = getAppLogoUrl(normalizedAppUrl, appManifest)\n\n  return {\n    // Must satisfy https://docs.djangoproject.com/en/5.0/ref/models/fields/#positiveintegerfield\n    id: Math.round(Math.random() * 1e9 + 1e6),\n    url: normalizedAppUrl,\n    name: appManifest.name,\n    description: appManifest.description,\n    accessControl: { type: SafeAppAccessPolicyTypes.NoRestrictions },\n    tags: [],\n    features: [],\n    socialProfiles: [],\n    developerWebsite: '',\n    chainIds: [currentChainId],\n    iconUrl,\n    safeAppsPermissions: appManifest.safe_apps_permissions || [],\n  }\n}\n\nexport { fetchAppManifest, isAppManifestValid, getAppLogoUrl, fetchSafeAppFromManifest }\n","import local from '@/services/local-storage/local'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\n\nexport const APPS_DASHBOARD = 'SafeApps__dashboard'\n\nconst TX_COUNT_WEIGHT = 2\nconst OPEN_COUNT_WEIGHT = 1\n\nexport type AppTrackData = {\n  [safeAppId: string]: {\n    timestamp: number\n    openCount: number\n    txCount: number\n  }\n}\n\nexport const getAppsUsageData = (): AppTrackData => {\n  return local.getItem<AppTrackData>(APPS_DASHBOARD) || {}\n}\n\nexport const trackSafeAppOpenCount = (id: SafeAppData['id']): void => {\n  const trackData = getAppsUsageData()\n  const currentOpenCount = trackData[id]?.openCount ?? 0\n  const currentTxCount = trackData[id]?.txCount ?? 0\n\n  local.setItem(APPS_DASHBOARD, {\n    ...trackData,\n    [id]: {\n      timestamp: Date.now(),\n      openCount: currentOpenCount + 1,\n      txCount: currentTxCount,\n    },\n  })\n}\n\nexport const trackSafeAppTxCount = (id: SafeAppData['id']): void => {\n  const trackData = getAppsUsageData()\n  const currentTxCount = trackData[id]?.txCount ?? 0\n\n  local.setItem(APPS_DASHBOARD, {\n    ...trackData,\n    // The object contains the openCount when we are creating a transaction\n    [id]: { ...trackData[id], txCount: currentTxCount + 1 },\n  })\n}\n\n// https://stackoverflow.com/a/55212064\nconst normalizeBetweenTwoRanges = (\n  val: number,\n  minVal: number,\n  maxVal: number,\n  newMin: number,\n  newMax: number,\n): number => {\n  return newMin + ((val - minVal) * (newMax - newMin)) / (maxVal - minVal)\n}\n\nexport const rankSafeApps = (safeApps: SafeAppData[]) => {\n  const apps = getAppsUsageData()\n  const appsWithScore = computeTrackedSafeAppsScore(apps)\n\n  return Object.entries(appsWithScore)\n    .sort((a, b) => b[1] - a[1])\n    .map((app) => safeApps.find((safeApp) => String(safeApp.id) === app[0]))\n    .filter(Boolean) as SafeAppData[]\n}\n\nexport const computeTrackedSafeAppsScore = (apps: AppTrackData): Record<string, number> => {\n  const scoredApps: Record<string, number> = {}\n\n  const sortedByTimestamp = Object.entries(apps).sort((a, b) => {\n    return a[1].timestamp - b[1].timestamp\n  })\n\n  for (const [idx, app] of Array.from(sortedByTimestamp.entries())) {\n    // UNIX Timestamps add too much weight, so we normalize by uniformly distributing them to range [1..2]\n    const timeMultiplier = normalizeBetweenTwoRanges(idx, 0, sortedByTimestamp.length, 1, 2)\n\n    scoredApps[app[0]] = (TX_COUNT_WEIGHT * app[1].txCount + OPEN_COUNT_WEIGHT * app[1].openCount) * timeMultiplier\n  }\n\n  return scoredApps\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"styles_tabs__8AoqD\",\"tab\":\"styles_tab__WjqMe\",\"label\":\"styles_label__D53iN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__sGid8\",\"title\":\"styles_title___s0jt\",\"border\":\"styles_border__BkX1U\",\"pageHeader\":\"styles_pageHeader__fRL7d\",\"actionsWrapper\":\"styles_actionsWrapper__g_Tq2\",\"navWrapper\":\"styles_navWrapper__XNqgs\"};"],"names":["tabs","router","useRouter","NavTabs","activeTab","Math","max","map","tab","href","indexOf","pathname","query","safe","undefined","Tabs","value","variant","allowScrollButtonsMobile","className","css","idx","Tab","component","NextLink","tabIndex","label","Typography","fontWeight","color","title","action","PageHeader","noBorder","Box","classNames","PermissionsCheckbox","checked","onChange","name","FormControlLabel","sx","palette","flex","text","disabled","control","Checkbox","PermissionStatus","FEATURES","isBrowserFeature","includes","featureKey","madProps","safeAddress","chain","navItems","settingsNavItems","filter","isRouteEnabled","route","generalSettingsNavItems","div","useSafeAddress","useCurrentChain","useBrowserPermissions","permissions","setPermissions","useLocalStorage","BROWSER_PERMISSIONS","getPermissions","useCallback","trimTrailingSlash","origin","updatePermission","changeset","appUrl","change","find","feature","p","status","selected","GRANTED","DENIED","removePermissions","addPermissions","selectedPermissions","getAllowedFeaturesList","permission","join","USER_RESTRICTED","useSafePermissions","permissionsRequest","setPermissionsRequest","useState","capability","parentCapability","caveats","caveat","type","isUserRestricted","hasPermission","some","hasCapability","confirmPermissionRequest","updatedPermissionsByOrigin","request","forEach","Object","keys","requestedPermission","result","push","invoker","date","Date","getTime","SAFE_PERMISSIONS_TEXTS","RestrictedMethods","requestAddressBook","displayName","description","getSafePermissionDisplayValues","method","getBrowserPermissionDisplayValues","capitalize","replace","getChainSpecificSafeAppsStorageKey","chainId","CUSTOM_SAFE_APPS_STORAGE_KEY","useCustomSafeApps","customSafeApps","setCustomSafeApps","loading","setLoading","useChainId","updateCustomSafeApps","newCustomSafeApps","chainSpecificSafeAppsStorageKey","local","setItem","url","app","useEffect","loadCustomApps","storedApps","getItem","appManifests","Promise","allSettled","resolvedApps","fetchSafeAppFromManifest","promiseResult","usePinnedSafeApps","pinned","useAppSelector","selectPinned","state","pinnedSafeAppIds","useMemo","Set","dispatch","useAppDispatch","updatePinnedSafeApps","ids","setPinned","Array","from","useRankedSafeApps","safeApps","pinnedSafeApps","length","featuredApps","featured","rankedPinnedApps","rankSafeApps","concat","slice","NUMBER_OF_SAFE_APPS","useSafeApps","remoteSafeApps","remoteSafeAppsError","remoteSafeAppsLoading","useRemoteSafeApps","customSafeAppsLoading","removeSafePermissions","removeBrowserPermissions","allSafeApps","sort","a","b","localeCompare","has","id","rankedSafeApps","addCustomApp","removeCustomApp","appId","togglePin","eventLabel","alreadyPinned","newSet","appName","delete","trackSafeAppEvent","SAFE_APPS_EVENTS","UNPIN","add","PIN","safePermissions","updateSafePermission","browserPermissions","updateBrowserPermission","domains","mergedPermissionsSet","handleSafePermissionsChange","handleBrowserPermissionsChange","updateAllPermissions","handleAllowAll","event","preventDefault","handleClearAll","handleRemoveApp","appNames","reduce","acc","Paper","padding","br","primary","light","Grid","item","shape","border","borderRadius","marginBottom","container","borderBottom","xs","sm","domain","lg","xl","_","toString","justifyContent","Link","onClick","textDecoration","ml","SvgIcon","DeleteIcon","inheritViewBox","fontSize","SafeAppsSigningMethod","onChainSigning","selectOnChainSigning","mt","spacing","mb","BRAND_NAME","ExternalLink","HelpCenterArticle","SIGNED_MESSAGES","FormGroup","trackEvent","SETTINGS_EVENTS","SAFE_APPS","CHANGE_SIGNING_METHOD","setOnChainSigning","SafeAppsPermissionsPage","Head","SettingsHeader","main","SafeAppsPermissions","chooseBestIcon","svgIcon","icons","icon","sizes","src","size","split","Number","MIN_ICON_WIDTH","getAppLogoUrl","iconPath","iconUrl","startsWith","includesBaseUrl","isRelativeUrl","fetchAppManifest","timeout","normalizedUrl","manifestUrl","controller","AbortController","setTimeout","abort","response","fetch","signal","clearTimeout","ok","json","isAppManifestValid","currentChainId","normalizedAppUrl","appManifest","round","random","accessControl","SafeAppAccessPolicyTypes","NoRestrictions","tags","features","socialProfiles","developerWebsite","chainIds","safeAppsPermissions","safe_apps_permissions","APPS_DASHBOARD","trackSafeAppOpenCount","trackData","getAppsUsageData","currentOpenCount","openCount","currentTxCount","txCount","timestamp","now","val","minVal","maxVal","newMin","newMax","entries","computeTrackedSafeAppsScore","apps","String","safeApp","Boolean","scoredApps","sortedByTimestamp","timeMultiplier","normalizeBetweenTwoRanges","OPEN_COUNT_WEIGHT"],"sourceRoot":"","ignoreList":[]}