(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3035],{63220:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/open",function(){return r(1653)}])},93767:(e,t,r)=>{"use strict";r.d(t,{PaH:()=>n.PaH,azJ:()=>n.azJ});var n=r(39324)},83040:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(74848),s=r(39324),i=r(31243),a=r(86715),l=r(82810),o=r(95347);let c=e=>{let{address:t,featureTitle:r,onClose:c}=e,u=(0,s.DPo)(),d=(0,s.Ubj)(u.breakpoints.down("sm")),p=t&&d?(0,i.Wr)(t):t,m=(0,a.useRouter)();return(0,n.jsx)(l.A,{title:"Blocked address",subtitle:p,content:"The above address is part of the OFAC SDN list and the ".concat(r," is unavailable for sanctioned addresses."),onAccept:null!=c?c:()=>{m.push({pathname:o.S.home,query:m.query})}})}},82810:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(74848),s=r(39324),i=r(15542),a=r(96256),l=r.n(a);let o=e=>{let{title:t,subtitle:r,buttonText:a,content:o,onAccept:c}=e;return(0,n.jsx)("div",{className:l().container,children:(0,n.jsxs)(s.tu9,{sx:{maxWidth:"500px"},children:[(0,n.jsxs)(s.BJc,{sx:[{padding:"var(--space-3)",gap:2,display:"flex",alignItems:"center"},e=>{let{palette:t}=e;return{borderBottom:"1px solid ".concat(t.border.light)}}],children:[r&&(0,n.jsx)(s.o5u,{sx:{color:"var(--color-text-secondary)"},children:r}),(0,n.jsx)(s.azJ,{className:l().iconCircle,children:(0,n.jsx)(s.Ahz,{component:i.A,inheritViewBox:!0,fontSize:"medium"})}),(0,n.jsx)(s.o5u,{variant:"h3",sx:{fontWeight:700},children:t}),(0,n.jsx)(s.o5u,{variant:"body2",children:o}),(0,n.jsx)(s.cGx,{})]}),(0,n.jsx)(s.azJ,{sx:{display:"flex",justifyContent:"center",pt:3,pb:2},children:(0,n.jsx)(s.$nd,{variant:"contained",size:"small",sx:{px:"16px"},onClick:c,children:a||"Got it"})})]})})}},36367:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(74848),s=r(39324);let i=e=>{let{label:t,checked:r,onChange:i,name:a}=e;return(0,n.jsx)(s.ip9,{sx:e=>{let{palette:t}=e;return{flex:1,".MuiIconButton-root:not(.Mui-checked)":{color:t.text.disabled}}},control:(0,n.jsx)(s.Sc0,{checked:r,onChange:i,name:a}),label:t})}},49008:(e,t,r)=>{"use strict";r.d(t,{V:()=>c});var n=r(96540),s=r(21886),i=r(62079),a=r(56680),l=r(37185),o=r(55155);let c=(e,t,r)=>{let[c,u,d]=(0,a.A)(()=>{if(e&&t&&r)return(0,i.yo)(e,t)},[e,t,r]),p=(0,n.useMemo)(()=>(0,l.EZ)(e,r),[e,r]);return(0,n.useEffect)(()=>{u&&(0,s.vV)(s.I._903,"".concat(e,", ").concat((0,o.z)(u).message))},[e,u]),{safeApp:c||p,isLoading:d}}},94116:(e,t,r)=>{"use strict";r.d(t,{V:()=>a});var n=r(86715),s=r(4029),i=r(96540);let a=()=>{let e=(0,n.useRouter)(),[t,r]=(0,i.useState)();return(0,i.useEffect)(()=>{var t;e.isReady&&r(null===(t=e.query.appUrl)||void 0===t?void 0:t.toString())},[e]),(0,i.useMemo)(()=>t?(0,s.Jf)(t):void 0,[t])}},6059:(e,t,r)=>{"use strict";r.d(t,{v:()=>v});var n=r(96540),s=r(8998),i=r(3576),a=r(62079),l=r(83936);let o=e=>"".concat("customSafeApps","-").concat(e),c=()=>{let[e,t]=(0,n.useState)([]),[r,s]=(0,n.useState)(!1),c=(0,l.Ay)(),u=(0,n.useCallback)(e=>{t(e);let r=o(c);i.A.setItem(r,e.map(e=>({url:e.url})))},[c]);return(0,n.useEffect)(()=>{(async()=>{s(!0);let e=o(c),r=i.A.getItem(e)||[];t((await Promise.allSettled(r.map(e=>(0,a.yo)(e.url,c)))).filter(e=>"fulfilled"===e.status).map(e=>e.value)),s(!1)})()},[c]),{customSafeApps:e,loading:r,updateCustomSafeApps:u}};var u=r(65605),d=r(31281);let p=()=>{let e=(0,l.Ay)(),t=(0,u.GV)(t=>(0,d.Pc)(t,e)),r=(0,n.useMemo)(()=>new Set(t),[t]),s=(0,u.jL)();return{pinnedSafeAppIds:r,updatePinnedSafeApps:(0,n.useCallback)(t=>{s((0,d.HX)({pinned:Array.from(t),chainId:e}))},[s,e])}};var m=r(17271),h=r(18613);let f=(e,t)=>(0,n.useMemo)(()=>{if(!e.length)return[];let r=e.filter(e=>e.featured),n=(0,h.K1)(t);return[...new Set(r.concat(n,t))].slice(0,5)},[e]);var x=r(10256);let v=()=>{let[e=[],t,r]=(0,s.d)(),{customSafeApps:i,loading:a,updateCustomSafeApps:l}=c(),{pinnedSafeAppIds:o,updatePinnedSafeApps:u}=p(),{removePermissions:d}=(0,m.Jl)(),{removePermissions:h}=(0,m.M3)(),v=(0,n.useMemo)(()=>e.concat(i).sort((e,t)=>e.name.localeCompare(t.name)),[e,i]),g=(0,n.useMemo)(()=>e.filter(e=>o.has(e.id)),[e,o]),y=f(v,g),C=(0,n.useCallback)(e=>{l([...i,e])},[l,i]),j=(0,n.useCallback)(e=>{l(i.filter(t=>t.id!==e));let t=i.find(t=>t.id===e);t&&(d(t.url),h(t.url))},[l,i,d,h]);return{allSafeApps:v,rankedSafeApps:y,remoteSafeApps:e,remoteSafeAppsLoading:r||!(e||t),remoteSafeAppsError:t,pinnedSafeApps:g,pinnedSafeAppIds:o,togglePin:(e,t)=>{var r;let n=o.has(e),s=new Set(o),i=null===(r=v.find(t=>t.id===e))||void 0===r?void 0:r.name;n?(s.delete(e),(0,x.ai)({...x.Jz.UNPIN,label:t},i)):(s.add(e),(0,x.ai)({...x.Jz.PIN,label:t},i)),u(s)},customSafeApps:i,customSafeAppsLoading:a,addCustomApp:C,removeCustomApp:j}}},1653:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>er});var n,s,i=r(74848),a=r(86715),l=r(96540),o=r(93767),c=r(94116),u=r(6059),d=r(39062),p=r(74136),m=r(39324),h=r(89652),f=r.n(h);let x=e=>{let{onSlideChange:t,children:r,initialStep:n}=e,s=(0,l.useMemo)(()=>l.Children.toArray(r).filter(Boolean),[r]),[a,o]=(0,l.useState)(n||0),[c,u]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e;return c&&(e=setTimeout(()=>{u(!1)},500)),()=>{e&&clearTimeout(e)}},[c]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:f().sliderContainer,children:(0,i.jsx)("div",{className:f().sliderInner,style:{transform:"translateX(-".concat(100*a,"%)")},children:s.map((e,t)=>(0,i.jsx)("div",{className:f().sliderItem,children:e},t))})}),(0,i.jsxs)(m.azJ,{display:"flex",justifyContent:"center",width:"100%",children:[(0,i.jsx)(m.$nd,{color:"primary",variant:"outlined",size:"small",fullWidth:!0,onClick:()=>{if(c)return;let e=a-1;t(e),o(e),u(!0)},children:0===a?"Cancel":"Back"}),(0,i.jsx)(m.$nd,{color:"primary",variant:"contained",size:"small",fullWidth:!0,onClick:()=>{if(c)return;let e=a+1;t(e),o(e),u(!0)},style:{marginLeft:10},children:"Continue"})]})]})};var v=r(48133),g=["title","titleId"];function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let C=function(e){var t=e.title,r=e.titleId,s=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||({}).propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,g);return l.createElement("svg",y({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},s),t?l.createElement("title",{id:r},t):null,n||(n=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6748 21.9362C11.9021 22.0215 12.1527 22.0213 12.3798 21.9355C16.3253 20.4449 18.8299 18.3949 20.089 16.0572C20.3255 15.6341 20.5105 15.1643 20.6517 14.6561C20.8149 14.069 20.9142 13.4521 20.9639 12.8264C20.9975 12.4042 21.0048 12.0411 20.9981 11.717C20.9965 11.647 20.9965 11.647 20.9964 11.654V5.279C20.9964 4.69989 20.506 4.24186 19.9282 4.28133C19.4283 4.31547 19.1772 4.328 18.8994 4.328C16.2811 4.328 14.1185 3.39264 12.6182 2.21372C12.2322 1.91033 11.6829 1.93214 11.3221 2.2652C11.3006 2.28505 11.2747 2.30621 11.2358 2.33553C11.2057 2.35816 11.1689 2.38486 11.0714 2.45561C10.6544 2.73402 10.4122 2.88668 10.0484 3.08197C9.96778 3.12523 9.88702 3.16697 9.80602 3.20715C8.38423 3.90539 6.84274 4.328 5.10338 4.328C4.82402 4.328 4.57478 4.31557 4.07352 4.28133C3.49576 4.24186 3.00538 4.69989 3.00538 5.279V11.606C2.92126 12.7826 3.22547 14.8548 4.05794 16.2732C4.2169 16.5679 4.42431 16.8738 4.68419 17.2033C6.16047 19.1604 8.51801 20.7508 11.6748 21.9362ZM18.3403 15.0866L18.3315 15.1027C17.3487 16.9318 15.3335 18.6175 12.0254 19.9282C9.38042 18.8858 7.4534 17.5534 6.26767 15.9817C6.06087 15.7192 5.91605 15.5056 5.79967 15.2907C5.45153 14.6964 5.22422 13.9393 5.09977 13.0916C5.01415 12.5084 4.98663 11.9106 5.00297 11.6753L5.00498 6.32759C5.03744 6.32787 5.07014 6.328 5.10338 6.328C7.17923 6.328 9.01073 5.82588 10.6912 5.0006C10.7953 4.94898 10.8951 4.8974 10.9943 4.84414C11.364 4.6457 11.625 4.48652 12 4.23889C13.7668 5.4456 16.1089 6.328 18.8994 6.328C18.9321 6.328 18.9644 6.32787 18.9964 6.32759V11.654C18.9973 11.7081 18.9973 11.7081 18.9985 11.7587C19.004 12.0208 18.998 12.3192 18.9702 12.6679C18.93 13.1745 18.8505 13.6681 18.7247 14.1207C18.6232 14.4861 18.4949 14.8112 18.3403 15.0866Z"})))};var j=r(17271),A=r(36367),b=r(58261);let w=e=>{let{features:t,onFeatureSelectionChange:r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.Ahz,{component:C,inheritViewBox:!0,color:"primary"}),(0,i.jsx)(v.o5u,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",margin:"0 75px"},children:"Manage the features Safe Apps can use"}),(0,i.jsxs)(v.azJ,{mx:1,my:3,textAlign:"left",children:[(0,i.jsx)(v.o5u,{children:"This Safe App is requesting permission to use:"}),(0,i.jsx)(v.azJ,{display:"flex",flexDirection:"column",ml:2,mt:1,children:t.filter(e=>{let{feature:t}=e;return(0,b.H)(t)}).map((e,t)=>{let{feature:n,checked:s}=e;return(0,i.jsx)(A.A,{name:"checkbox",checked:s,onChange:(e,t)=>r(n,t),label:(0,j.sW)(n).displayName},t)})})]})]})},_=(0,r(57657).A)((0,i.jsx)("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22zm1 14h-2v2h2zm0-6h-2v4h2z"}),"WarningAmberOutlined");var k=r(34470),S=r(71395),z=r(44037);let E=e=>{let{url:t,showInOneLine:r}=e;return(0,i.jsxs)(S.o5u,{className:f().domainText,sx:r?{overflowY:"hidden",whiteSpace:"nowrap"}:{},children:[(0,i.jsx)(z.A,{color:"success",className:f().domainIcon})," ",t]})},I=e=>{let{url:t,onHideWarning:r}=e,[n,s]=(0,l.useState)(!1);return(0,i.jsxs)(m.azJ,{display:"flex",flexDirection:"column",height:"100%",alignItems:"center",children:[(0,i.jsxs)(m.azJ,{display:"block",alignItems:"center",mt:6,children:[(0,i.jsx)(_,{fontSize:"large",color:"warning"}),(0,i.jsx)(m.o5u,{variant:"h3",fontWeight:700,mt:2,color:k.A.warning.main,children:"Warning"})]}),(0,i.jsx)(m.o5u,{my:2,fontWeight:700,color:k.A.warning.main,children:"The application you are trying to access is not in the default Safe Apps list"}),(0,i.jsx)(m.o5u,{my:2,textAlign:"center",children:"Check the link you are using and ensure that it comes from a source you trust"}),t&&(0,i.jsx)(E,{url:t,showInOneLine:!0}),r&&(0,i.jsx)(m.azJ,{mt:2,children:(0,i.jsx)(m.ip9,{control:(0,i.jsx)(m.Sc0,{checked:n,onChange:()=>{null==r||r(!n),s(!n)},name:"Warning message preference"}),label:"Don't show this warning again"})})]})};var P=r(37185),M=r(24203),N=r(95347),W=r(99600),O=r.n(W);let T=e=>{let{withTitle:t=!0,isSafeApps:r=!0}=e;return(0,i.jsxs)("div",{className:O().disclaimerContainer,children:[t&&(0,i.jsx)(S.o5u,{variant:"h3",fontWeight:700,my:3,children:"Disclaimer"}),(0,i.jsxs)("div",{className:O().disclaimerInner,children:[(0,i.jsxs)(S.o5u,{mb:4,children:["You are now accessing ",r?"third-party apps":"a third-party app",", which we do not own, control, maintain or audit. We are not liable for any loss you may suffer in connection with interacting with the"," ",r?"apps":"app",", which is at your own risk."]}),(0,i.jsxs)(S.o5u,{mb:4,children:["You must read our Terms, which contain more detailed provisions binding on you relating to the"," ",r?"apps":"app","."]}),(0,i.jsxs)(S.o5u,{children:["I have read and understood the"," ",(0,i.jsx)(M.A,{href:N.S.terms,sx:{textDecoration:"none"},children:"Terms"})," ","and this Disclaimer, and agree to be bound by them."]})]})]})},R=(0,l.memo)(e=>{let{onCancel:t,onConfirm:r,features:n,appUrl:s,isConsentAccepted:a,isPermissionsReviewCompleted:o,isSafeAppInDefaultList:c,isFirstTimeAccessingApp:u}=e,[h,f]=(0,l.useState)(!1),[v,g]=(0,l.useState)(n.map(e=>({feature:e,checked:!0}))),[y,C]=(0,l.useState)(0),j=(0,l.useMemo)(()=>{let e=0;return a||(e+=1),o||(e+=1),!c&&u&&(e+=1),e},[a,u,o,c]),A=(0,l.useMemo)(()=>(y+1)*100/j,[y,j]),_=(0,l.useMemo)(()=>!c&&u,[u,c]),k=(0,l.useMemo)(()=>(0,P.$z)(s),[s]);return(0,i.jsx)(d.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"calc(100vh - 52px)"},children:(0,i.jsxs)(d.A,{"data-testid":"app-info-modal",sx:e=>{let{palette:t}=e;return{width:"450px",backgroundColor:t.background.paper,boxShadow:"1px 2px 10px 0 ".concat((0,p.X4)(t.text.primary,.18))}},children:[(0,i.jsx)(m.hZv,{variant:"determinate",value:A,sx:e=>{let{palette:t}=e;return{height:"6px",backgroundColor:t.background.paper,borderRadius:"8px 8px 0 0","> .MuiLinearProgress-bar":{backgroundColor:100===A&&_?t.warning.main:t.primary.main,borderRadius:"8px"}}}}),(0,i.jsx)(m.xA9,{container:!0,direction:"column",sx:{justifyContent:"center",alignItems:"center",textAlign:"center",p:3},children:(0,i.jsxs)(x,{onSlideChange:e=>{let n=-1===e,s=e===j;n&&t(),s&&r(h,v.map(e=>{let{feature:t,checked:r}=e;return{feature:t,status:r?b.W.GRANTED:b.W.DENIED}})),C(e)},children:[!a&&(0,i.jsx)(T,{}),!o&&(0,i.jsx)(w,{features:v,onFeatureSelectionChange:(e,t)=>{g(v.map(r=>r.feature===e?{feature:e,checked:t}:r))}}),_&&(0,i.jsx)(I,{url:k,onHideWarning:f})]})})]})})});var D=r(83936),J=r(50184);let F=e=>{var t;let{url:r,safeApp:n,permissions:s,addPermissions:i,getPermissions:a,remoteSafeAppsLoading:o}=e,c=(0,l.useRef)(!1),u=(0,D.Ay)(),[d={},p]=(0,J.A)("SafeApps__infoModal"),[m,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{r||h(!1)},[r]),(0,l.useEffect)(()=>{if(!c.current){c.current=!0;return}},[]);let f=(0,l.useMemo)(()=>!!r&&!!(s||[]).every(e=>a(r).some(t=>t.feature===e&&t.status!==b.W.PROMPT)),[a,r,s]),x=(0,l.useMemo)(()=>!!r&&!!n,[n,r]),v=(0,l.useMemo)(()=>{var e,t;return!r||!d[u]||!(null===(t=d[u])||void 0===t?void 0:null===(e=t.warningCheckedCustomApps)||void 0===e?void 0:e.includes(r))},[u,d,r]),g=(0,l.useMemo)(()=>{let e=c.current,t=!d[u]||!1===d[u].consentsAccepted,r=!f,n=!o&&!x&&v&&!m;return e&&(t||n||r)},[u,f,v,x,m,o,d]),y=(0,l.useCallback)((e,t)=>{var n,s,a;let l={consentsAccepted:!0,warningCheckedCustomApps:[...(null===(n=d[u])||void 0===n?void 0:n.warningCheckedCustomApps)||[]]},o=(0,P.$z)(r);!e||(null===(a=d[u])||void 0===a?void 0:null===(s=a.warningCheckedCustomApps)||void 0===s?void 0:s.includes(o))||l.warningCheckedCustomApps.push(o),p({...d,[u]:l}),f||i(r,t),h(!0)},[i,u,f,d,p,r]);return{isModalVisible:g,isSafeAppInDefaultList:x,isFirstTimeAccessingApp:v,isPermissionsReviewCompleted:f,isConsentAccepted:!!(null==d?void 0:null===(t=d[u])||void 0===t?void 0:t.consentsAccepted),onComplete:y}};class V extends l.Component{componentDidCatch(e,t){console.error("Uncaught error:",e,t)}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?this.props.render():this.props.children}constructor(e){super(e),this.state={hasError:!1},this.state={hasError:!1}}}var B=r(66247),H=r(41917),L=r(10247),G=r(11100),q=["title","titleId"];function U(){return(U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let Z=function(e){var t=e.title,r=e.titleId,n=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||({}).propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,q);return l.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",width:90,height:90,viewBox:"0 0 90 90","aria-labelledby":r},n),t?l.createElement("title",{id:r},t):null,s||(s=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("circle",{cx:45,cy:45,r:45,className:"illustration-background-fill"}),l.createElement("path",{className:"illustration-light-fill",fillRule:"nonzero",d:"M26.24 62c-.57 0-1.13-.15-1.623-.437a3.254 3.254 0 0 1-1.18-4.44l18.76-32.501a3.234 3.234 0 0 1 5.606 0l18.761 32.501c.286.495.436 1.057.436 1.628A3.244 3.244 0 0 1 63.76 62H26.24z"}),l.createElement("path",{className:"illustration-background-fill",fillRule:"nonzero",d:"M47 49h-4V36h4zM47 55h-4v-4h4z"}),l.createElement("circle",{cx:78,cy:78,r:11,className:"illustration-main-fill",fillRule:"nonzero",strokeWidth:4}))))};var $=r(98183),X=r.n($);let K=e=>{let{onBackToApps:t}=e;return(0,i.jsx)("div",{className:X().wrapper,children:(0,i.jsxs)("div",{className:X().content,children:[(0,i.jsx)(B.A,{variant:"h1",children:"Safe App could not be loaded"}),(0,i.jsx)(L.A,{component:Z,inheritViewBox:!0,className:X().image}),(0,i.jsxs)("div",{children:[(0,i.jsx)(B.A,{component:"span",children:"In case the problem persists, please reach out to us via "}),(0,i.jsx)(M.A,{href:G.zp,fontSize:"medium",children:"Discord"})]}),(0,i.jsx)(H.A,{href:"#back",color:"primary",onClick:t,children:"Go back to the Safe Apps list"})]})})};var Y=r(78610),Q=r(49008),ee=r(56332),et=r(79296);let er=()=>{let e=(0,D.Ay)(),t=(0,a.useRouter)(),r=(0,c.V)(),{allSafeApps:n,remoteSafeAppsLoading:s}=(0,u.v)(),d=n.find(e=>e.url===r),{safeApp:p,isLoading:m}=(0,Q.V)(r||"",e,d),h=(0,ee.eZ)(et.Gv.SAFE_APPS),{addPermissions:f,getPermissions:x,getAllowedFeaturesList:v}=(0,j.M3)(),g=(0,P.$z)(r),{isModalVisible:y,isSafeAppInDefaultList:C,isFirstTimeAccessingApp:A,isConsentAccepted:b,isPermissionsReviewCompleted:w,onComplete:_}=F({url:g,safeApp:d,permissions:(null==p?void 0:p.safeAppsPermissions)||[],addPermissions:f,getPermissions:x,remoteSafeAppsLoading:s}),k=(0,l.useCallback)(()=>{t.push({pathname:N.S.apps.index,query:{safe:t.query.safe}})},[t]);return h&&r&&t.isReady?t.isReady&&!t.query.safe?(t.push({pathname:N.S.share.safeApp,query:{appUrl:r}}),null):y?(0,i.jsx)(R,{onCancel:k,onConfirm:_,features:p.safeAppsPermissions,appUrl:p.url,isConsentAccepted:b,isPermissionsReviewCompleted:w,isSafeAppInDefaultList:C,isFirstTimeAccessingApp:A},m?"loading":"loaded"):m?(0,i.jsx)(o.azJ,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",children:(0,i.jsx)(o.PaH,{})}):(0,i.jsx)(V,{render:()=>(0,i.jsx)(K,{onBackToApps:()=>t.back()}),children:(0,i.jsx)(Y.A,{appUrl:r,allowedFeaturesList:v(g),safeAppFromManifest:p})}):null}},62079:(e,t,r)=>{"use strict";r.d(t,{yo:()=>c});var n=r(4029),s=r(8442);let i=e=>{let t=e.find(e=>{var t;return(null==e?void 0:null===(t=e.sizes)||void 0===t?void 0:t.includes("any"))||(null==e?void 0:e.type)==="image/svg+xml"});if(t)return t.src;for(let t of e)for(let e of t.sizes.split(" "))if(Number(e.split("x")[0])>=128)return t.src;return e[0].src||""},a=(e,t)=>{let{icons:r=[],iconPath:s=""}=t,a=r.length?i(r):s;return a.startsWith("https://")?a:"".concat(e).concat((0,n.cW)(a)?"":"/").concat(a)},l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,r=(0,n.Kj)(e),s="".concat(r,"/manifest.json"),i=new AbortController,a=setTimeout(()=>i.abort(),t),l=await fetch(s,{signal:i.signal});if(clearTimeout(a),!l.ok)throw Error("Failed to fetch manifest from ".concat(s));return l.json()},o=e=>null!=e&&"object"==typeof e&&"name"in e&&"description"in e&&("icons"in e||"iconPath"in e),c=async(e,t)=>{let r=(0,n.Kj)(e),i=await l(e);if(!o(i))throw Error("Invalid Safe App manifest");let c=a(r,i);return{id:Math.round(1e9*Math.random()+1e6),url:r,name:i.name,description:i.description,accessControl:{type:s.SafeAppAccessPolicyTypes.NoRestrictions},tags:[],features:[],socialProfiles:[],developerWebsite:"",chainIds:[t],iconUrl:c,safeAppsPermissions:i.safe_apps_permissions||[]}}},96256:e=>{e.exports={container:"styles_container__3Fkdw",iconCircle:"styles_iconCircle__GFs_w"}},99600:e=>{e.exports={disclaimerContainer:"styles_disclaimerContainer__upHAg",disclaimerInner:"styles_disclaimerInner__Ehv_1"}},98183:e=>{e.exports={wrapper:"styles_wrapper__L94u3",content:"styles_content__92ibi",linkWrapper:"styles_linkWrapper__QNCap",icon:"styles_icon__FrF80",image:"styles_image__TP08C"}},89652:e=>{e.exports={sliderContainer:"styles_sliderContainer__WzG_F",sliderInner:"styles_sliderInner__0AcG_",sliderItem:"styles_sliderItem__TxmZl",domainIcon:"styles_domainIcon__vvH4t",domainText:"styles_domainText__Q2bPE"}}},e=>{var t=t=>e(e.s=t);e.O(0,[5699,6780,5566,4133,636,6593,8792],()=>t(63220)),_N_E=e.O()}]);
//# sourceMappingURL=open-86d4bbdcb4936ab4.js.map