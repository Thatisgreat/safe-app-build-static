{"version":3,"file":"static/chunks/pages/wc-f79ad2d1fb40786d.js","mappings":"gFACA,4CACA,MACA,WACA,OAAe,EAAQ,KAA2B,CAClD,EACA,SAFsB,0ECDf,IAAMA,EAAsB,KAE5B,SAASC,IACd,IAAMC,EAASC,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,GAqBxB,MAAO,CApBO,CAACD,EAAOE,KAAK,CAACJ,EAAoB,EAAI,GAAC,CAAGK,QAAQ,IAAM,KAErDC,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAC1B,IACE,IAAMC,EAAW,CAAE,GAAGL,EAAOE,KAAK,EAE7BI,EAGHD,CAAQ,CAACP,EAAoB,CAHnB,EACV,OAAOO,CAAQ,CAACP,EAAoB,CAKtCE,EAAOO,OAAO,CAAC,CACbC,SAAUR,EAAOQ,QAAQ,CACzBN,MAAOG,CACT,EACF,EACA,CAACL,EAAO,EAGc,sFCf1B,MARoB,KAClB,IAAMS,EAAYC,CAAAA,EAAAA,EAAAA,EAAAA,CAAeA,GAC3BC,EAAUF,IAMHG,KANGH,KAAAA,CAMQG,CANRH,CAMQ,CANGE,IAAXF,GAAWE,GAAW,GAChCE,EAASJ,OAAAA,EAAAA,KAAAA,EAAAA,EAAWK,SAAAA,EAAXL,CAAwB,GACjCM,EAAkBC,CAAAA,EAAAA,EAAAA,EAAAA,CAAcA,CAAC,GAAWC,CAAAA,EAAAA,EAAAA,EAAAA,CAAqBA,CAACC,EAAOP,IAC/E,OAAOE,GAAUE,EAAkB,GAAaA,MAAAA,CAAVF,EAAO,KAAmB,OAAhBE,QAAoBI,CACtE,oIC6BA,MAhCyB,KACvB,IAAMnB,EAASC,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,EA+BXmB,CA9BPC,EAAWT,CAAAA,EAAAA,EAAAA,CAAAA,CAAWA,GA2B5B,MAzBAU,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KACR,GAAI,CAACtB,EAAOuB,OAAO,EAAIvB,EAAOQ,QAAQ,GAAKgB,EAAAA,CAASA,CAACC,EAAE,CACrD,CADuD,MAIzD,GAAM,KAAEC,CAAG,CAAE,CAAG1B,EAAOE,KAAK,CAE5BF,EAAOO,OAAO,CACZc,EACI,CACEb,SAAUgB,EAAAA,CAASA,CAACG,IAAI,CACxBzB,MAAO,CACL0B,KAAMP,EACN,CAACvB,EAAAA,CAAmBA,CAAC,CAAE4B,CACzB,CACF,EACA,CACElB,SAAUgB,EAAAA,CAASA,CAACK,OAAO,CAACC,KAAK,CACjC5B,MAAO,CACL,CAACJ,EAAAA,CAAmBA,CAAC,CAAE4B,CACzB,CACF,EAER,EAAG,CAAC1B,EAAQqB,EAAS,EAEd,wBACT","sources":["webpack://_N_E/","webpack://_N_E/./src/features/walletconnect/hooks/useWalletConnectSearchParamUri.ts","webpack://_N_E/./src/hooks/useLastSafe.ts","webpack://_N_E/./src/pages/wc.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/wc\",\n      function () {\n        return require(\"private-next-pages/wc.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/wc\"])\n      });\n    }\n  ","import { useRouter } from 'next/router'\nimport { useCallback } from 'react'\n\nexport const WC_URI_SEARCH_PARAM = 'wc'\n\nexport function useWalletConnectSearchParamUri(): [string | null, (wcUri: string | null) => void] {\n  const router = useRouter()\n  const wcUri = (router.query[WC_URI_SEARCH_PARAM] || '').toString() || null\n\n  const setWcUri = useCallback(\n    (wcUri: string | null) => {\n      const newQuery = { ...router.query }\n\n      if (!wcUri) {\n        delete newQuery[WC_URI_SEARCH_PARAM]\n      } else {\n        newQuery[WC_URI_SEARCH_PARAM] = wcUri\n      }\n\n      router.replace({\n        pathname: router.pathname,\n        query: newQuery,\n      })\n    },\n    [router],\n  )\n\n  return [wcUri, setWcUri]\n}\n","import { useAppSelector } from '@/store'\nimport { selectLastSafeAddress } from '@/store/sessionSlice'\nimport { useCurrentChain } from './useChains'\n\nconst useLastSafe = (): string | undefined => {\n  const chainInfo = useCurrentChain()\n  const chainId = chainInfo?.chainId || ''\n  const prefix = chainInfo?.shortName || ''\n  const lastSafeAddress = useAppSelector((state) => selectLastSafeAddress(state, chainId))\n  return prefix && lastSafeAddress ? `${prefix}:${lastSafeAddress}` : undefined\n}\n\nexport default useLastSafe\n","import { useEffect } from 'react'\nimport type { NextPage } from 'next'\nimport { useRouter } from 'next/router'\nimport useLastSafe from '@/hooks/useLastSafe'\nimport { AppRoutes } from '@/config/routes'\nimport { WC_URI_SEARCH_PARAM } from '@/features/walletconnect/hooks/useWalletConnectSearchParamUri'\n\nconst WcPage: NextPage = () => {\n  const router = useRouter()\n  const lastSafe = useLastSafe()\n\n  useEffect(() => {\n    if (!router.isReady || router.pathname !== AppRoutes.wc) {\n      return\n    }\n\n    const { uri } = router.query\n\n    router.replace(\n      lastSafe\n        ? {\n            pathname: AppRoutes.home,\n            query: {\n              safe: lastSafe,\n              [WC_URI_SEARCH_PARAM]: uri,\n            },\n          }\n        : {\n            pathname: AppRoutes.welcome.index,\n            query: {\n              [WC_URI_SEARCH_PARAM]: uri,\n            },\n          },\n    )\n  }, [router, lastSafe])\n\n  return <></>\n}\n\nexport default WcPage\n"],"names":["WC_URI_SEARCH_PARAM","useWalletConnectSearchParamUri","router","useRouter","query","toString","useCallback","newQuery","wcUri","replace","pathname","chainInfo","useCurrentChain","chainId","useLastSafe","prefix","shortName","lastSafeAddress","useAppSelector","selectLastSafeAddress","state","undefined","WcPage","lastSafe","useEffect","isReady","AppRoutes","wc","uri","home","safe","welcome","index"],"sourceRoot":"","ignoreList":[]}