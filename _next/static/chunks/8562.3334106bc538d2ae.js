(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8562],{61759:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var s=n(57657),r=n(74848);let a=(0,s.A)((0,r.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},79488:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var s=n(57657),r=n(74848);let a=(0,s.A)((0,r.jsx)("path",{d:"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47M6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47m1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93"}),"RotateLeft")},31123:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var s=n(74848),r=n(39324),a=n(46467),i=n.n(a);let o=e=>(0,s.jsx)(r.hZv,{className:i().progressBar,variant:"determinate",color:"secondary",...e})},81615:(e,t,n)=>{"use strict";n.d(t,{E:()=>x,c:()=>g});var s=n(74848),r=n(96540),a=n(30300),i=function(e){return e.NOT_ASKED="NOT_ASKED",e.LOADING="LOADING",e.SUCCESS="SUCCESS",e.ERROR="ERROR",e}({}),o=function(e){return e.Address="address",e.Bool="bool",e.Bytes="bytes",e.Slice="slice",e.String="string",e.Uint="uint",e}(o||{}),l=function(e){return e.Calldata="calldata",e.Default="default",e.Memory="memory",e.Storage="storage",e}(l||{}),c=function(e){return e.Address="address",e.Bool="bool",e.Bytes32="bytes32",e.MappingAddressUint256="mapping (address => uint256)",e.MappingUint256Uint256="mapping (uint256 => uint256)",e.String="string",e.Tuple="tuple",e.TypeAddress="address[]",e.TypeTuple="tuple[]",e.Uint16="uint16",e.Uint256="uint256",e.Uint48="uint48",e.Uint56="uint56",e.Uint8="uint8",e}(c||{}),d=function(e){return e.Constructor="constructor",e.Event="event",e.Function="function",e}(d||{}),u=n(65605),h=n(42837),m=n(55155);let p=()=>{let[e,t]=(0,r.useState)(),[n,s]=(0,r.useState)(i.NOT_ASKED),[o,l]=(0,r.useState)(void 0),c=(0,u.GV)(h.eA),d=(0,r.useMemo)(()=>(0,a.wz)((null==e?void 0:e.simulation.id)||""),[e]),p=(0,r.useCallback)(()=>{s(i.NOT_ASKED),l(void 0),t(void 0)},[]);return{simulateTransaction:(0,r.useCallback)(async e=>{s(i.LOADING),l(void 0);try{let n=await (0,a.M4)(e),r=await (0,a.kt)(n,c);t(r),s(i.SUCCESS)}catch(e){console.error(e),l((0,m.z)(e).message),s(i.ERROR)}},[c]),_simulationRequestStatus:n,simulation:e,simulationLink:d,requestError:o,resetSimulation:p}},v=e=>e&&e.simulation.status?e.transaction.call_trace.filter(e=>e.error):[],x=(0,r.createContext)({simulation:{simulateTransaction:()=>{},simulation:void 0,_simulationRequestStatus:i.NOT_ASKED,simulationLink:"",requestError:void 0,resetSimulation:()=>{}},status:{isLoading:!1,isFinished:!1,isSuccess:!1,isCallTraceError:!1,isError:!1}}),g=e=>{var t;let{children:n}=e,r=p(),a=r._simulationRequestStatus===i.LOADING,o=r._simulationRequestStatus===i.SUCCESS||r._simulationRequestStatus===i.ERROR,l=(null===(t=r.simulation)||void 0===t?void 0:t.simulation.status)||!1,c=l&&v(r.simulation).length>0,d=r._simulationRequestStatus===i.ERROR;return(0,s.jsx)(x.Provider,{value:{simulation:r,status:{isLoading:a,isFinished:o,isSuccess:l,isCallTraceError:c,isError:d}},children:n})}},78562:(e,t,n)=>{"use strict";n.d(t,{A:()=>es});var s=n(74848),r=n(6459),a=n(96540),i=n(39324),o=n(61759),l=n(42907),c=n(53373),d=n.n(c),u=n(31123),h=n(68130),m=n(81615),p=n(85511),v=n(49785),x=n(79488),g=n(50423),f=n(10595),y=n(18705),_=n(87243),j=n(50877),b=n(31291),N=n(42819),C=n.n(N);let w=e=>{if(!e)return[];let t=e.results.filter(b.yI).map(e=>e.transaction);return C()(t,e=>(0,b.$0)(e.executionInfo)?e.executionInfo.nonce:"")},A=()=>{let{page:e}=(0,f.Ay)();return(0,a.useMemo)(()=>w(e).map(e=>(0,b.$0)(e.executionInfo)?e.executionInfo.nonce:void 0).filter(e=>void 0!==e),[e])};var S=n(16227),E=n(84638),I=n.n(E);let O=function(e){let{className:t,...n}=e;return(0,s.jsx)(i.NDW,{...n,className:d()(t,I().popper),style:void 0,placement:"bottom-start"})},T=(0,a.memo)(function(e){let{children:t,...n}=e;return(0,s.jsx)(i.a6s,{...n,disableSticky:!0,children:(0,s.jsx)(i.o5u,{variant:"caption",fontWeight:700,color:"text.secondary",children:t})})}),k=(0,a.memo)(function(e){let{nonce:t,menuItemProps:n}=e,r=(0,y.A)(),o=(0,f.zQ)(Number(t)),l=(0,a.useMemo)(()=>{let e=(0,_.rX)(o);if(0===e.length)return;let[{transaction:t}]=e;return t.txInfo.humanDescription||"".concat((0,j.L)(t,r).text," transaction")},[r,o]);return(0,s.jsx)(i.Drp,{...n,children:(0,s.jsxs)(i.o5u,{variant:"body2",children:[(0,s.jsx)("b",{children:t}),"\xa0- ",l||"New transaction"]})})}),R=e=>"clamp(calc(".concat(7,"ch + 6px), calc(").concat(Math.max(7,e.length),"ch + 6px), ").concat("200px",")"),M=(0,p.Z)();var B=function(e){return e.NONCE="nonce",e}(B||{}),L=function(e){return e.NONCE_MUST_BE_NUMBER="Nonce must be a number",e.NONCE_TOO_LOW="Nonce can't be lower than %%nonce%%",e.NONCE_TOO_HIGH="Nonce is too high",e.NONCE_TOO_FAR="Nonce is much higher than the current nonce",e.NONCE_GT_RECOMMENDED="Nonce is higher than the recommended nonce",e.NONCE_MUST_BE_INTEGER="Nonce can't contain decimals",e}(L||{});let z=e=>{let{nonce:t,recommendedNonce:n}=e,{safeTx:o,setNonce:l}=(0,a.useContext)(h.H),c=A().map(e=>e.toString()),{safe:u}=(0,r.A)(),[m,p]=(0,a.useState)(""),f=n!==t,y=!(!o||(null==o?void 0:o.signatures.size)===0)||(0,S.kZ)(o),_=(0,v.mN)({defaultValues:{nonce:t},mode:"all",values:{nonce:t}}),j=()=>{_.setValue("nonce",n)};return(0,a.useEffect)(()=>{let e="";Number(t)>Number(n)&&(e="Nonce is higher than the recommended nonce"),Number(t)>=u.nonce+100&&(e="Nonce is much higher than the current nonce"),p(e)},[t,n,u.nonce]),(0,s.jsx)(v.xI,{name:"nonce",control:_.control,rules:{required:"Nonce is required",validate:async e=>{if(e===t)return;let n=Number(e);return isNaN(n)?"Nonce must be a number":n<u.nonce?"Nonce can't be lower than %%nonce%%".replace("%%nonce%%",u.nonce.toString()):n>=Number.MAX_SAFE_INTEGER?"Nonce is too high":Number.isInteger(n)?void l(n):"Nonce can't contain decimals"}},render:e=>{let{field:r,fieldState:a}=e;return y?(0,s.jsx)(i.o5u,{variant:"body2",fontWeight:700,ml:-1,children:t}):(0,s.jsx)(i.jT8,{value:r.value,freeSolo:!0,onChange:(e,t)=>r.onChange(t),onInputChange:(e,t)=>r.onChange(t),onBlur:()=>{r.onBlur(),a.error&&_.setValue(r.name,n.toString())},options:[n,...c],getOptionLabel:e=>e.toString(),filterOptions:(e,t)=>{let s=M(e,t),r=!n.includes(t.inputValue),a=e.some(e=>t.inputValue===e);return""!==t.inputValue&&!a&&r&&s.push(n),s},renderOption:(e,t)=>{let r=t===n,a=t===c[0],{key:i,...o}=e;return(0,s.jsxs)("div",{children:[r&&(0,s.jsx)(T,{children:"Recommended nonce"}),a&&(0,s.jsx)(T,{sx:{pt:3},children:"Replace existing"}),(0,s.jsx)(k,{menuItemProps:o,nonce:t})]},i)},disableClearable:!0,componentsProps:{paper:{elevation:2}},renderInput:e=>{var t;return(0,s.jsx)(i.m_M,{title:(null===(t=a.error)||void 0===t?void 0:t.message)||m,open:!0,arrow:!0,placement:"top",children:(0,s.jsx)(g.A,{...e,error:!!a.error,InputProps:{...e.InputProps,name:r.name,endAdornment:f?(0,s.jsx)(i.jC1,{position:"end",className:I().adornment,children:(0,s.jsx)(i.m_M,{title:"Reset to recommended nonce",children:(0,s.jsx)(i.K0,{onClick:j,size:"small",color:"primary",children:(0,s.jsx)(x.A,{fontSize:"small"})})})}):null},className:d()([I().input,{[I().withAdornment]:f}]),sx:{minWidth:R(r.value)}})})},PopperComponent:O})}})},P=R(""),D=()=>{let{nonce:e,recommendedNonce:t}=(0,a.useContext)(h.H);return(0,s.jsxs)(i.azJ,{"data-testid":"nonce-fld",display:"flex",alignItems:"center",gap:1,children:["Nonce"," ",(0,s.jsx)(i.o5u,{component:"span",fontWeight:700,children:"#"}),void 0===e||void 0===t?(0,s.jsx)(i.EAD,{width:P,height:"38px"}):(0,s.jsx)(z,{nonce:e.toString(),recommendedNonce:t.toString()})]})};var U=n(67560),V=n(15808),G=n(25443),H=n.n(G),W=n(39641),F=n(20781),q=n(50228),K=n(72040),Z=n(57577);let J=e=>{let{step:t,txSummary:n,handleClose:o,isBatch:l=!1,isMessage:c=!1}=e,u=(0,F.Ay)(),{safe:m}=(0,r.A)(),{nonceNeeded:p}=(0,a.useContext)(h.H),{threshold:v}=m,x=(0,K.A)(),g=(0,Z.t)()&&!x,{executionInfo:f}=n||{},{confirmationsSubmitted:y=0}=(0,b.$0)(f)?f:{},_=n?(0,b.yx)(n,(null==u?void 0:u.address)||""):1===m.threshold&&!g,j=n?(0,b.Bq)(n,(null==u?void 0:u.address)||""):!g;return(0,s.jsxs)(i.tu9,{children:[(0,s.jsxs)("div",{className:H().header,children:[(0,s.jsxs)(i.o5u,{fontWeight:"700",display:"flex",alignItems:"center",gap:1,children:[(0,s.jsx)(q.A,{width:16,height:16,className:H().logo}),c?"Message":"Transaction"," status"]}),(0,s.jsx)(i.K0,{className:H().close,"aria-label":"close",onClick:o,size:"small",children:(0,s.jsx)(W.A,{})})]}),(0,s.jsx)(i.cGx,{}),(0,s.jsx)("div",{className:H().content,children:(0,s.jsxs)(i.B8B,{className:H().status,children:[(0,s.jsxs)(i.ckQ,{children:[(0,s.jsx)(i.LaP,{children:(0,s.jsx)(U.A,{})}),(0,s.jsx)(i.ZqK,{primaryTypographyProps:{fontWeight:700},children:l?"Queue transactions":"Create"})]}),(0,s.jsxs)(i.ckQ,{className:d()({[H().incomplete]:!_&&!l}),children:[(0,s.jsx)(i.LaP,{children:(0,s.jsx)(V.A,{})}),(0,s.jsx)(i.ZqK,{primaryTypographyProps:{fontWeight:700},children:l?"Create batch":p?c?"Collect signatures":(0,s.jsxs)(s.Fragment,{children:["Confirmed (",y," of ",v,")",j&&(0,s.jsx)(i.o5u,{variant:"body2",component:"span",className:H().badge,children:"+1"})]}):"Confirmed"})]}),(0,s.jsxs)(i.ckQ,{className:d()({[H().incomplete]:t<2}),children:[(0,s.jsx)(i.LaP,{children:(0,s.jsx)(V.A,{})}),(0,s.jsx)(i.ZqK,{primaryTypographyProps:{fontWeight:700},children:c?"Done":"Execute"})]})]})})]})};var X=n(73035),Q=n.n(X),Y=n(69577),$=n(186),ee=n(31383);let et=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(ee.F,{})}),en=e=>{let{hideNonce:t,icon:n,subtitle:o}=e,{safe:l}=(0,r.A)(),{nonceNeeded:c}=(0,a.useContext)(h.H);return!t||n||o?(0,s.jsxs)(i.azJ,{className:Q().headerInner,children:[(0,s.jsxs)(i.azJ,{sx:{display:"flex",alignItems:"center"},children:[n&&(0,s.jsx)("div",{className:Q().icon,children:(0,s.jsx)(i.Ahz,{component:n,inheritViewBox:!0})}),(0,s.jsx)(i.o5u,{variant:"h4",component:"div",sx:{fontWeight:"bold"},children:o})]}),!t&&l.deployed&&c&&(0,s.jsx)(D,{})]}):null},es=e=>{let{title:t,subtitle:n,icon:r,children:c,step:p=0,txSummary:v,onBack:x,hideNonce:g=!1,hideProgress:f=!1,isBatch:y=!1,isReplacement:_=!1,isMessage:j=!1}=e,[b,N]=(0,a.useState)(!0),C=(0,l.A)(),w=(0,i.Ubj)(C.breakpoints.down("md")),A=(0,i.Ubj)(C.breakpoints.down("lg")),S=Array.isArray(c)?c:[c],E=Math.round((p+1)/S.length*100);return(0,a.useEffect)(()=>{N(!w)},[w]),(0,s.jsx)(h.A,{children:(0,s.jsx)(m.c,{children:(0,s.jsx)(Y.Q,{children:(0,s.jsxs)(s.Fragment,{children:[!_&&(0,s.jsx)(i.K0,{className:Q().statusButton,"aria-label":"Transaction status",size:"large",onClick:()=>{N(e=>!e)},children:(0,s.jsx)(q.A,{width:16,height:16})}),(0,s.jsx)(i.mcf,{className:Q().container,children:(0,s.jsxs)(i.xA9,{container:!0,sx:{gap:3,justifyContent:"center"},children:[(0,s.jsxs)(i.xA9,{item:!0,xs:12,md:7,children:[(0,s.jsxs)("div",{className:Q().titleWrapper,children:[(0,s.jsx)(i.o5u,{"data-testid":"modal-title",variant:"h3",component:"div",className:Q().title,sx:{fontWeight:"700"},children:t}),(0,s.jsx)($.A,{inline:!0})]}),(0,s.jsxs)(i.tu9,{"data-testid":"modal-header",className:Q().header,children:[!f&&(0,s.jsx)(i.azJ,{className:Q().progressBar,children:(0,s.jsx)(u.z,{value:E})}),(0,s.jsx)(en,{subtitle:n,icon:r,hideNonce:g})]}),(0,s.jsxs)("div",{className:Q().step,children:[S[p],x&&p>0&&(0,s.jsx)(i.$nd,{"data-testid":"modal-back-btn",variant:A?"text":"outlined",onClick:x,className:Q().backButton,startIcon:(0,s.jsx)(o.A,{fontSize:"small"}),children:"Back"})]})]}),!_&&(0,s.jsxs)(i.xA9,{item:!0,xs:12,md:4,className:d()(Q().widget,{[Q().active]:b}),children:[b&&(0,s.jsx)(J,{step:p,txSummary:v,handleClose:()=>N(!1),isBatch:y,isMessage:j}),(0,s.jsx)(i.azJ,{className:Q().sticky,children:(0,s.jsx)(et,{})})]})]})})]})})})})}},69577:(e,t,n)=>{"use strict";n.d(t,{Cr:()=>N,Q:()=>C});var s=n(74848),r=n(4781),a=n(68130),i=n(96540),o=n(56680),l=n(56332),c=n(6459),d=n(20781),u=n(10256),h=n(79296),m=n(63304),p=n(54993),v=n(99745),x=n(11100),g=n(69365);let f={Malicious:r.I.HIGH,Warning:r.I.MEDIUM,Benign:r.I.NONE,Info:r.I.NONE};class y{static prepareMessage(e){let{data:t,safeAddress:n,chainId:s}=e;return(0,m.nW)(t)?JSON.stringify((0,p.mk)(t)):JSON.stringify((0,v.generateTypedData)({safeAddress:n,safeVersion:"1.3.0",chainId:BigInt(s),data:{...t.data,safeTxGas:t.data.safeTxGas,baseGas:t.data.baseGas,gasPrice:t.data.gasPrice}}))}async scanTransaction(e){var t,n,s,a,i,o,l;let c;if(!x.Uy)throw Error("Security check CLIENT_ID not configured");let{chainId:d,safeAddress:u}=e,h=y.prepareMessage(e),m={chain:(0,g.c)(d),account_address:u,data:{method:"eth_signTypedData_v4",params:[u,h]},options:["simulation","validation"],metadata:e.origin?{domain:e.origin}:{non_dapp:!0}},p=await fetch("".concat(x.rS,"/v0/evm/json-rpc/scan"),{method:"POST",headers:{"content-type":"application/json",accept:"application/json","X-CLIENT-ID":x.Uy},body:JSON.stringify(m)});if(!p.ok)throw Error("Blockaid scan failed",await p.json());let v=await p.json(),_=(null!==(o=null===(t=v.validation)||void 0===t?void 0:t.features)&&void 0!==o?o:[]).filter(e=>"Malicious"===e.type||"Warning"===e.type).map(e=>({severity:f[e.type],description:e.description})),j=v.simulation,b=[];return(null==j?void 0:j.status)==="Success"?b=j.assets_diffs[u]:(null==j?void 0:j.status)==="Error"&&(c=Error("Simulation failed")),void 0===v.validation&&(c=Error("Validation result missing")),{severity:(null===(n=v.validation)||void 0===n?void 0:n.result_type)?f[v.validation.result_type]:null!==(l=r.I.NONE)&&void 0!==l?l:r.I.NONE,payload:{description:null===(s=v.validation)||void 0===s?void 0:s.description,classification:null===(a=v.validation)||void 0===a?void 0:a.classification,reason:null===(i=v.validation)||void 0===i?void 0:i.reason,issues:_,balanceChange:b,error:c}}}}let _=new y,j=(e,t)=>{let{safe:n,safeAddress:s}=(0,c.A)(),r=(0,d.ix)(),a=(0,l.eZ)(h.Gv.RISK_MITIGATION),[m,p,v]=(0,o.A)(()=>{if(a&&e&&(null==r?void 0:r.address))return _.scanTransaction({chainId:Number(n.chainId),data:e,safeAddress:s,walletAddress:r.address,threshold:n.threshold,origin:t})},[n.chainId,n.threshold,s,e,null==r?void 0:r.address,a,t],!1);(0,i.useEffect)(()=>{!v&&m&&(0,u.sx)({...u.rF.BLOCKAID_RESULT,label:m.severity})},[v,m]);let x=(0,i.useMemo)(()=>{var e;return p?Error("Unavailable"):null==m?void 0:null===(e=m.payload)||void 0===e?void 0:e.error},[p,m]);return[m,x,v]},b={blockaidResponse:{warnings:[],description:void 0,classification:void 0,reason:void 0,balanceChange:void 0,severity:r.I.NONE,isLoading:!1,error:void 0},needsRiskConfirmation:!1,isRiskConfirmed:!1,setIsRiskConfirmed:()=>{},isRiskIgnored:!1,setIsRiskIgnored:()=>{}},N=(0,i.createContext)(b),C=e=>{let{children:t}=e,{safeTx:n,safeMessage:o,txOrigin:l}=(0,i.useContext)(a.H),[c,d,u]=j(null!=n?n:o,l),[h,m]=(0,i.useState)(!1),[p,v]=(0,i.useState)(!1),x=(0,i.useMemo)(()=>{var e,t,n,s,a;return{blockaidResponse:{description:null==c?void 0:null===(e=c.payload)||void 0===e?void 0:e.description,reason:null==c?void 0:null===(t=c.payload)||void 0===t?void 0:t.reason,classification:null==c?void 0:null===(n=c.payload)||void 0===n?void 0:n.classification,severity:null==c?void 0:c.severity,warnings:(null==c?void 0:null===(s=c.payload)||void 0===s?void 0:s.issues)||[],balanceChange:null==c?void 0:null===(a=c.payload)||void 0===a?void 0:a.balanceChange,error:d,isLoading:u},needsRiskConfirmation:!!c&&c.severity>=r.I.HIGH,isRiskConfirmed:h,setIsRiskConfirmed:m,isRiskIgnored:p&&!h,setIsRiskIgnored:v}},[d,u,c,h,p]);return(0,s.jsx)(N.Provider,{value:x,children:t})}},31383:(e,t,n)=>{"use strict";n.d(t,{C:()=>A,F:()=>S});var s=n(74848),r=n(72040),a=n(39324),i=n(96540),o=n(6459),l=n(20781),c=n(15367),d=n(57147),u=n(6897),h=n(67330),m=n(24203),p=n(56332),v=n(30300),x=n(43678),g=n.n(x),f=n(91730),y=n.n(f),_=n(81615),j=n(68130),b=n(15542),N=n(77635),C=n(10256);let w=e=>{let{transactions:t,disabled:n,gasLimit:m,executionOwner:p}=e,{safe:v}=(0,o.A)(),x=(0,l.ix)(),f=(0,r.A)(),w=(0,u.D)(),{safeTx:A}=(0,i.useContext)(j.H),{simulation:{simulateTransaction:S,resetSimulation:E},status:{isFinished:I,isError:O,isSuccess:T,isCallTraceError:k,isLoading:R}}=(0,i.useContext)(_.E),M=async()=>{x&&S({safe:v,executionOwner:(null!=p?p:f)?x.address:v.owners[0].value,transactions:t,gasLimit:m})};return(0,i.useEffect)(()=>{E()},[A,E]),(0,s.jsxs)(a.tu9,{variant:"outlined",className:y().wrapper,children:[(0,s.jsxs)("div",{className:g().wrapper,children:[(0,s.jsxs)(a.o5u,{variant:"body2",fontWeight:700,children:["Run a simulation",(0,s.jsx)(a.m_M,{title:"This transaction can be simulated before execution to ensure that it will be succeed, generating a detailed report of the transaction execution.",arrow:!0,placement:"top",children:(0,s.jsx)("span",{children:(0,s.jsx)(a.Ahz,{component:b.A,inheritViewBox:!0,color:"border",fontSize:"small",sx:{verticalAlign:"middle",ml:.5}})})})]}),(0,s.jsxs)(a.o5u,{variant:"caption",className:y().poweredBy,children:["Powered by"," ",(0,s.jsx)("img",{src:w?"/images/transactions/tenderly-light.svg":"/images/transactions/tenderly-dark.svg",alt:"Tenderly",width:"65px",height:"15px"})]})]}),(0,s.jsx)("div",{className:y().result,children:R?(0,s.jsx)(h.A,{size:22,sx:{color:e=>{let{palette:t}=e;return t.text.secondary}}}):I?!T||O||k?(0,s.jsxs)(a.o5u,{variant:"body2",className:y().result,sx:{color:"error.main"},children:[(0,s.jsx)(a.Ahz,{component:d.A,inheritViewBox:!0,fontSize:"small",sx:{verticalAlign:"middle",mr:1}}),"Error"]}):(0,s.jsxs)(a.o5u,{"data-testid":"simulation-success-msg",variant:"body2",className:y().result,sx:{color:"success.main"},children:[(0,s.jsx)(a.Ahz,{component:c.A,inheritViewBox:!0,fontSize:"small",sx:{verticalAlign:"middle",mr:1}}),"Success"]}):(0,s.jsx)(N.A,{...C.rF.SIMULATE_TX,children:(0,s.jsx)(a.$nd,{"data-testid":"simulate-btn",variant:"outlined",size:"small",className:g().simulate,onClick:M,disabled:!t||n,children:"Simulate"})})})]})},A=e=>{let t=(0,p._J)();return t&&(0,v.Xc)(t)?(0,s.jsx)(w,{...e}):null},S=()=>{let{simulation:{simulationLink:e,simulation:t,requestError:n},status:{isError:r,isSuccess:o,isCallTraceError:l,isFinished:c}}=(0,i.useContext)(_.E);if(!c)return null;if(!o||r||l){var d;return(0,s.jsxs)(a.FcD,{severity:"error",sx:{border:"unset"},children:[(0,s.jsx)(a.o5u,{variant:"body1",fontWeight:700,children:"Simulation failed"}),n?(0,s.jsxs)(a.o5u,{color:"error",variant:"body2",children:["An unexpected error occurred during simulation: ",(0,s.jsx)("b",{children:n}),"."]}):(0,s.jsxs)(a.o5u,{variant:"body2",children:[l?(0,s.jsx)(s.Fragment,{children:"The transaction failed during the simulation."}):(0,s.jsxs)(s.Fragment,{children:["The transaction failed during the simulation throwing error"," ",(0,s.jsx)("b",{children:null==t?void 0:t.transaction.error_message})," in the contract at"," ",(0,s.jsx)("b",{children:null==t?void 0:null===(d=t.transaction.error_info)||void 0===d?void 0:d.address}),"."]})," ","Full simulation report is available ",(0,s.jsx)(m.A,{href:e,children:"on Tenderly"}),"."]})]})}return(0,s.jsxs)(a.FcD,{severity:"info",sx:{border:"unset"},children:[(0,s.jsx)(a.o5u,{variant:"body2",fontWeight:700,children:"Simulation successful"}),"Full simulation report is available ",(0,s.jsx)(m.A,{href:e,children:"on Tenderly"}),"."]})}},30300:(e,t,n)=>{"use strict";n.d(t,{M4:()=>w,Xc:()=>u,kt:()=>h,wz:()=>m});var s=n(63239),r=n(33218),a=n(14724),i=n(68699),o=n(11100),l=n(79296),c=n(28213),d=n(53266);let u=e=>!!e&&!!o.Vx&&!!o.bV&&!!o.wZ&&(0,l.jI)(e,l.Gv.TX_SIMULATION),h=async(e,t)=>{let n={method:"POST",body:JSON.stringify(e)};return(null==t?void 0:t.accessToken)&&(n.headers={"content-type":"application/JSON","X-Access-Key":t.accessToken}),await fetch((null==t?void 0:t.url)?t.url:o.Vx,n).then(e=>e.ok?e.json():e.json().then(t=>{var n;throw Error("".concat(e.status," - ").concat(e.statusText,": ").concat(null==t?void 0:null===(n=t.error)||void 0===n?void 0:n.message))}))},m=e=>"https://dashboard.tenderly.co/public/".concat(o.bV,"/").concat(o.wZ,"/simulator/").concat(e),p=async e=>{let t=e.transactions;if(!t.signatures.has(e.executionOwner)&&t.signatures.size<e.safe.threshold){let n=new r.default(t.data);t.signatures.forEach(e=>{n.addSignature(e)}),n.addSignature((0,s.generatePreValidatedSignature)(e.executionOwner)),t=n}let n=await (0,i.Gr)(e.safe),a=n.encode("execTransaction",[t.data.to,t.data.value,t.data.data,t.data.operation,t.data.safeTxGas,t.data.baseGas,t.data.gasPrice,t.data.gasToken,t.data.refundReceiver,t.encodedSignatures()]);return{to:await n.getAddress(),input:a}},v=async e=>{let t=(0,a.encodeMultiSendData)(e.transactions),n=await (0,i.YL)(e.safe.version);return{to:await n.getAddress(),input:n.encode("multiSend",[t])}},x=(e,t,n,s)=>({[e]:{balance:t,code:n,storage:s}}),g=e=>!Array.isArray(e.transactions),f=e=>{if(!g(e))return!1;let t=e.transactions,n=t.signatures.has(e.executionOwner),s=t.signatures.size+(n?0:1);return e.safe.threshold>s},y=e=>{if(!g(e))return;let t=e.transactions.data.nonce;if(t>e.safe.nonce)return t},_=(0,d.up)("0x4",32),j=(0,d.up)("0x1",32),b=(0,d.up)("0x5",32),N=e=>{let t=y(e),n=f(e),s={};return n&&(s[_]=j),void 0!==t&&(s[b]=(0,d.up)("0x"+BigInt(t).toString(16),32)),s},C=async()=>{let e=(0,c.iv)(),t=await (null==e?void 0:e.getBlock("latest"));if(!t)throw Error("Could not determine block gas limit");return Number(t.gasLimit)},w=async e=>{var t;let n=null!==(t=e.gasLimit)&&void 0!==t?t:await C(),s=g(e)?await p(e):await v(e),r=N(e),a=Object.keys(r).length;return{...s,network_id:e.safe.chainId,from:e.executionOwner,gas:n,gas_price:"0",state_objects:a>0?x(e.safe.address.value,void 0,void 0,r):void 0,save:!0,save_if_fails:!0}}},4781:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var s=function(e){return e[e.NONE=0]="NONE",e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.HIGH=3]="HIGH",e[e.CRITICAL=4]="CRITICAL",e}({})},46467:e=>{e.exports={progressBar:"styles_progressBar__BJPY4"}},73035:e=>{e.exports={container:"styles_container__pmXub",header:"styles_header__BYVn_",headerInner:"styles_headerInner__cl4mF",step:"styles_step__io0n9",backButton:"styles_backButton__qss5S",icon:"styles_icon___R8Jt",statusButton:"styles_statusButton__Xk7Ke",sticky:"styles_sticky__RmdHx",titleWrapper:"styles_titleWrapper___aHwm",widget:"styles_widget__ArM0G",active:"styles_active___mizo",title:"styles_title__AfqGy",progressBar:"styles_progressBar__4bT_8"}},84638:e=>{e.exports={popper:"styles_popper__iH9fU",input:"styles_input__efeqR",withAdornment:"styles_withAdornment__Lca7N",adornment:"styles_adornment__pGkwZ"}},25443:e=>{e.exports={header:"styles_header__Rx8et",content:"styles_content__P6bCm",status:"styles_status__bYEMV",incomplete:"styles_incomplete__q8e_i",close:"styles_close__UtQ43",badge:"styles_badge__lE1nC",logo:"styles_logo__7varl"}},91730:e=>{e.exports={wrapper:"styles_wrapper__5bV36",poweredBy:"styles_poweredBy__1McoZ",result:"styles_result__89PKm"}},43678:e=>{e.exports={simulate:"styles_simulate__DIuYE",wrapper:"styles_wrapper__S7Jws"}},67560:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var s,r,a=n(96540),i=["title","titleId"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(null,arguments)}let l=function(e){var t=e.title,n=e.titleId,l=function(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,i);return a.createElement("svg",o({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},l),t?a.createElement("title",{id:n},t):null,s||(s=a.createElement("path",{d:"M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15Z",fill:"currentColor"})),r||(r=a.createElement("path",{className:"illustration-background-fill",fillRule:"evenodd",clipRule:"evenodd",d:"M9 7H11C11.5523 7 12 7.44772 12 8C12 8.55228 11.5523 9 11 9H9V11C9 11.5523 8.55228 12 8 12C7.44772 12 7 11.5523 7 11V9H5C4.44772 9 4 8.55228 4 8C4 7.44772 4.44772 7 5 7H7V5C7 4.44772 7.44772 4 8 4C8.55228 4 9 4.44772 9 5V7Z"})))}},15808:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var s,r,a=n(96540),i=["title","titleId"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(null,arguments)}let l=function(e){var t=e.title,n=e.titleId,l=function(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,i);return a.createElement("svg",o({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},l),t?a.createElement("title",{id:n},t):null,s||(s=a.createElement("path",{d:"M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15Z",fill:"currentColor"})),r||(r=a.createElement("path",{className:"illustration-background-fill",d:"M7.68894 8.54156L6.18321 7.13278C5.77992 6.75545 5.14711 6.7765 4.76978 7.17979C4.39245 7.58308 4.4135 8.2159 4.8168 8.59322L7.0378 10.6712C7.4352 11.043 8.05698 11.0288 8.43694 10.6392L11.3049 7.69817C11.6905 7.30277 11.6826 6.66965 11.2872 6.28406C10.8918 5.89848 10.2587 5.90643 9.87307 6.30183L7.68894 8.54156Z"})))}}}]);
//# sourceMappingURL=8562.3334106bc538d2ae.js.map