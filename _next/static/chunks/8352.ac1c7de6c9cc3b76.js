"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8226,8352],{38226:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(74848),a=n(50836),o=n(130),i=n(38885),l=n(50988),c=n(96389),s=n(78562),u=n(36420),d=n(29005),v=n(12929),E=n(81870),x=n(3108),_=n(83936),p=n(56332),h=n(8220),y=n(27566),f=n(6459),A=n(45943),m=n(20781),g=n(10256),w=n(34867),C=n(55155),T=n(65605),I=n(79296),R=n(54505),j=n(39324),N=n(96540),X=n(49276),P=n(23807),b=n(22671),S=n(3960),O=n(79301),D=n(45787);let k=e=>{var t;let n=(0,p._J)(),[r]=(0,h.Ay)(),a=e&&((0,x.Ky)(null==e?void 0:e.props)?null==e?void 0:null===(t=e.props.safeDeploymentConfig)||void 0===t?void 0:t.safeVersion:null==e?void 0:e.props.safeVersion),{gasLimit:o}=(0,P.Z)(null==e?void 0:e.props,a),i=n&&(0,I.jI)(n,I.Gv.EIP1559),l=null==r?void 0:r.maxFeePerGas,c=null==r?void 0:r.maxPriorityFeePerGas;return{options:i?{maxFeePerGas:null==l?void 0:l.toString(),maxPriorityFeePerGas:null==c?void 0:c.toString(),gasLimit:null==o?void 0:o.toString()}:{gasPrice:null==l?void 0:l.toString(),gasLimit:null==o?void 0:o.toString()},totalFee:(0,h.$c)(l,o,n),walletCanPay:(0,A.A)({gasLimit:o,maxFeePerGas:l})}},L=()=>{let[e,t]=(0,N.useState)(!0),[n,h]=(0,N.useState)(),[A,P]=(0,N.useState)(d.S.RELAY),L=(0,p._J)(),B=(0,_.Ay)(),{safeAddress:U}=(0,f.A)(),V=(0,T.GV)(e=>(0,E.Bo)(e,B,U)),{setTxFlow:G}=(0,N.useContext)(l.P),F=(0,m.Ay)(),{options:M,totalFee:z,walletCanPay:H}=k(V),Y=(0,b.A)(),Z=(0,N.useMemo)(()=>(0,x.kp)(V,B),[V,B]),J=V&&(0,x.Ky)(null==V?void 0:V.props)?null==V?void 0:V.props.safeAccountConfig:void 0,K=(null==Z?void 0:Z.owners)||[],[$]=(0,y.x6)(K),W=(0,R.v)($),q=W&&A===d.S.RELAY;if(!V||!Z)return null;let{owners:Q,threshold:ee,safeVersion:et}=Z,en=(0,D.getSafeToL2SetupDeployment)({version:"1.4.1",network:null==L?void 0:L.chainId}),er=null==en?void 0:en.defaultAddress,ea=(0,X.xU)(null==J?void 0:J.to,er),eo=e=>{(0,g.sx)({...w.V.CREATE,label:w.p.activate_without_tx}),(0,g.sx)({...w.V.EXECUTE,label:w.p.activate_without_tx}),(0,g.sx)(g.Cw.ONCHAIN_INTERACTION),e&&(0,v.p5)(v.Zf.PROCESSING,{groupKey:x.Xh,txHash:e,safeAddress:U}),G(void 0)},ei=async()=>{if(F&&L){(0,g.sx)({...g.kg.PROCEED_WITH_TX,label:w.p.activate_without_tx}),t(!1),h(void 0);try{if(q){let e=await (0,a.ST)(L,V.props);(0,v.p5)(v.Zf.RELAYING,{groupKey:x.Xh,taskId:e,safeAddress:U}),eo()}else await (0,a.sZ)(F.provider,V.props,null!=et?et:(0,I.Tw)(L),L,M,eo,!!ea||void 0)}catch(n){let e=(0,C.z)(n);t(!0),h(e);return}}},el=!e||Y;return(0,r.jsx)(s.A,{title:"Activate account",hideNonce:!0,children:(0,r.jsxs)(c.A,{children:[(0,r.jsx)(j.o5u,{children:"You're about to deploy this Safe Account and will have to confirm the transaction with your connected wallet."}),(0,r.jsx)(j.cGx,{sx:{mx:-3,my:2}}),(0,r.jsx)(o.GT,{owners:Q.map(e=>({name:"",address:e})),threshold:ee,networks:L?[L]:[]}),(0,r.jsx)(j.cGx,{sx:{mx:-3,mt:2,mb:1}}),(0,r.jsxs)(j.azJ,{display:"flex",flexDirection:"column",gap:3,children:[W&&(0,r.jsx)(j.xA9,{container:!0,spacing:3,children:(0,r.jsx)(i.A,{name:"Execution method",value:(0,r.jsx)(d.Z,{executionMethod:A,setExecutionMethod:P,relays:$})})}),(0,r.jsx)(j.xA9,{"data-testid":"network-fee-section",container:!0,spacing:3,children:(0,r.jsx)(i.A,{name:"Est. network fee",value:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.dz,{totalFee:z,isWaived:q||Y,chain:L}),!q&&(0,r.jsx)(j.o5u,{variant:"body2",color:"text.secondary",mt:1,children:Y?"Switch your connected wallet to ".concat(null==L?void 0:L.chainName," to see the correct estimated network fee"):"You will have to confirm a transaction with your connected wallet."})]})})}),n&&(0,r.jsx)(j.azJ,{mt:1,children:(0,r.jsx)(u.A,{error:n,children:"Error submitting the transaction. Please try again."})}),Y&&(0,r.jsx)(S.A,{}),!H&&!q&&(0,r.jsx)(u.A,{children:"Your connected wallet doesn't have enough funds to execute this transaction"})]}),(0,r.jsx)(j.cGx,{sx:{mx:-3,mt:2,mb:1}}),(0,r.jsx)(j.azJ,{display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:3,children:(0,r.jsx)(O.A,{checkNetwork:!el,allowNonOwner:!0,allowUndeployedSafe:!0,children:t=>(0,r.jsx)(j.$nd,{"data-testid":"activate-account-flow-btn",onClick:ei,variant:"contained",size:"stretched",disabled:!t||el,children:e?"Activate":(0,r.jsx)(j.PaH,{size:20})})})})]})})}},34867:(e,t,n)=>{n.d(t,{V:()=>i,p:()=>a});var r=n(31529),a=function(e){return e.owner_add="owner_add",e.owner_remove="owner_remove",e.owner_swap="owner_swap",e.owner_threshold_change="owner_threshold_change",e.guard_remove="guard_remove",e.module_remove="module_remove",e.transfer_token="transfer_token",e.transfer_nft="transfer_nft",e.batch="batch",e.rejection="rejection",e.typed_message="typed_message",e.nested_safe="nested_safe",e.walletconnect="walletconnect",e.custom="custom",e.native_bridge="native_bridge",e.native_swap="native_swap",e.bulk_execute="bulk_execute",e.activate_without_tx="activate_without_tx",e.activate_with_tx="activate_with_tx",e}({});let o="transactions",i={CREATE:{event:r.Bx.TX_CREATED,action:"Create transaction",category:o},CREATE_VIA_ROLE:{event:r.Bx.TX_CREATED,action:"Create via role",category:o},CREATE_VIA_SPENDING_LIMTI:{event:r.Bx.TX_CREATED,action:"Create via spending limit",category:o},CREATE_VIA_PROPOSER:{event:r.Bx.TX_CREATED,action:"Create via proposer",category:o},CONFIRM:{event:r.Bx.TX_CONFIRMED,action:"Confirm transaction",category:o},EXECUTE:{event:r.Bx.TX_EXECUTED,action:"Execute transaction",category:o},SPEED_UP:{event:r.Bx.TX_EXECUTED,action:"Speed up transaction",category:o},EXECUTE_VIA_SPENDING_LIMIT:{event:r.Bx.TX_EXECUTED,action:"Execute via spending limit",category:o},EXECUTE_VIA_ROLE:{event:r.Bx.TX_EXECUTED,action:"Execute via role",category:o},CREATE_VIA_PARENT:{event:r.Bx.TX_CREATED,action:"Create via parent",category:o},CONFIRM_VIA_PARENT:{event:r.Bx.TX_CREATED,action:"Confirm via parent",category:o},EXECUTE_VIA_PARENT:{event:r.Bx.TX_CREATED,action:"Execute via parent",category:o},CONFIRM_IN_PARENT:{event:r.Bx.TX_CONFIRMED,action:"Confirm in parent",category:o},EXECUTE_IN_PARENT:{event:r.Bx.TX_EXECUTED,action:"Execute in parent",category:o}}},87243:(e,t,n)=>{n.d(t,{HV:()=>i,Hk:()=>l,g:()=>s,rX:()=>u});var r=n(8442),a=n(31291),o=n(49276);let i=e=>c(l(e)),l=e=>e.reduce((e,t)=>{if((0,a.z7)(t))return e.concat([[]]);let n=e[e.length-1];return Array.isArray(n)&&(0,a.yI)(t)&&!(0,a.$X)(t)?(n.push(t),e):e.concat(t)},[]).map(e=>Array.isArray(e)?e.sort((e,t)=>t.transaction.timestamp-e.transaction.timestamp):e),c=e=>e.reduce((e,t)=>{if(Array.isArray(t)||!(0,a.yI)(t))return e.concat([t]);let n=t.transaction.txHash,r=e[e.length-1];if(!Array.isArray(r))return e.concat([[t]]);let o=r[0].transaction.txHash;return n&&n===o?(r.push(t),e):e.concat([[t]])},[]).map(e=>Array.isArray(e)&&1===e.length?e[0]:e);function s(e,t){let n=e.filter(a.yI);return t.reduce((e,t)=>{var a;let i=(a=t.address,n.filter(e=>{let{transaction:t}=e,{txInfo:n}=t;return n.type===r.TransactionInfoType.CUSTOM&&(0,o.xU)(n.to.value,a)&&"setTxNonce"===n.methodName}));return 0===i.length?e.push(t):e.push([t,...i]),e},[])}let u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(e).map(e=>Array.isArray(e)?e[0]:e).filter(a.yI)}},57147:(e,t,n)=>{n.d(t,{A:()=>l});var r,a=n(96540),o=["title","titleId"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let l=function(e){var t=e.title,n=e.titleId,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,o);return a.createElement("svg",i({width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},l),t?a.createElement("title",{id:n},t):null,r||(r=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.47717 7.69172L13.7585 12.832C14.1467 13.2098 14.1467 13.8275 13.7585 14.2052C13.3694 14.583 12.7358 14.583 12.3476 14.2052L7.06626 9.06494L1.7849 14.2052C1.39575 14.583 0.76214 14.583 0.373991 14.2052C-0.0151556 13.8275 -0.0151556 13.2098 0.373991 12.832L5.65536 7.69172L0.373891 2.55133C-0.0152554 2.17354 -0.0152554 1.55589 0.373891 1.17811C0.76204 0.799355 1.39565 0.799355 1.7848 1.17811L7.06626 6.3185L12.3477 1.17811C12.7359 0.799355 13.3695 0.799355 13.7586 1.17811C14.1468 1.55589 14.1468 2.17354 13.7586 2.55133L8.47717 7.69172Z",fill:"currentColor"})))}}}]);
//# sourceMappingURL=8352.ac1c7de6c9cc3b76.js.map