(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3732],{41351:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>P});var n=t(74848),r=t(78562),a=t(93226),i=t(20781),l=t(96540),o=t(8232),d=t(75617),c=t(39062),h=t(33680),x=t(9322),u=t(5699),p=t(92372),g=t(22434);let j=(0,t(57657).A)((0,n.jsx)("path",{d:"m19 15-1.41-1.41L13 18.17V2h-2v16.17l-4.59-4.59L5 15l7 7z"}),"South");var m=t(27833),A=t.n(m),y=t(5259),f=t(73536);let v=e=>{let{title:s}=e,t=(0,y.A)();return(0,n.jsxs)(g.azJ,{className:A().container,pb:2,mb:2,children:[(0,n.jsx)(g.o5u,{color:"text.secondary",pb:1,children:s||"Sending from"}),(0,n.jsx)(g.o5u,{variant:"body2",component:"div",children:(0,n.jsx)(f.A,{address:t,shortAddress:!1,hasExplorer:!0,showCopyButton:!0})}),(0,n.jsx)(j,{className:A().arrow})]})};var b=t(1436),w=t(68879),_=t(68699),M=t(97295),S=t(18431),E=t(37185),C=t(57117),k=t(99744),z=t(6459),N=t(38105),D=t(68130),U=t(55155),I=t(63304),J=t(19695),B=t(98739),H=t(56680),L=t(22958);let O=e=>{let{message:s,method:t,requestId:r}=e,{safe:a}=(0,z.A)(),g=(0,k.Ay)(),j=(0,i.Ay)(),{safeTx:m,setSafeTx:A,setSafeTxError:y}=(0,l.useContext)(D.H);(0,N.A)();let O=t===u.PJ.signMessage&&"string"==typeof s,P=t===u.PJ.signTypedMessage&&(0,I.nW)(s),[T]=(0,H.A)(async()=>(0,_.op)(a.version),[a.version]),[q,V]=(0,l.useState)("");(0,l.useEffect)(()=>{T&&T.getAddress().then(V)},[T]);let[W,R]=(0,l.useMemo)(()=>{if(O){let e=(0,E.MU)(s);return[e,e]}return P?[s,JSON.stringify(s,null,2)]:[]},[O,P,s]);(0,l.useEffect)(()=>{let e;if(!T)return;if(O)e=T.encode("signMessage",[(0,o.A)((0,E.MU)(s))]);else if(P){let t={...s.types};delete t.EIP712Domain,e=T.encode("signMessage",[d.z.hash(s.domain,t,s.message)])}let t={to:q,value:"0",data:null!=e?e:"0x",operation:p.OperationType.DelegateCall};(0,C.NU)(t).then(A).catch(y)},[O,P,s,T,A,y,q]);let Y=async()=>{if(m&&g&&j)try{await (0,C.cq)(m,r,j.provider)}catch(e){y((0,U.z)(e))}};return(0,n.jsxs)(w.A,{onSubmit:Y,children:[(0,n.jsx)(v,{}),(0,n.jsx)(b.d,{title:"Interact with SignMessageLib",children:(0,n.jsx)(f.A,{address:q,shortAddress:!1,showCopyButton:!0,hasExplorer:!0})}),(0,I.nW)(W)&&(0,n.jsx)(B.tH,{fallback:(0,n.jsx)("div",{children:"Error parsing data"}),children:(0,n.jsx)(J.A,{safeMessage:W})}),m&&(0,n.jsx)(c.A,{pb:1,children:(0,n.jsx)(L.Y,{title:"Data (hex-encoded)",hexData:m.data.data})}),(0,n.jsxs)(h.o5u,{my:1,children:[(0,n.jsx)("b",{children:"Signing method:"})," ",(0,n.jsx)("code",{children:t})]}),(0,n.jsxs)(h.o5u,{my:2,children:[(0,n.jsx)("b",{children:"Signing message:"})," ",R&&(0,n.jsx)(S.A,{text:R})]}),(0,n.jsx)(M.O,{message:W,isInModal:!0}),(0,n.jsxs)(c.A,{display:"flex",alignItems:"center",my:2,children:[(0,n.jsx)(h.Ahz,{component:x.A,inheritViewBox:!0,color:"warning"}),(0,n.jsx)(h.o5u,{ml:1,children:"Signing a message with your Safe Account requires a transaction on the blockchain"})]})]})},P=e=>{var s,t;let{props:i}=e;return(0,n.jsx)(r.A,{title:"Confirm message",subtitle:(0,n.jsx)(a.AppTitle,{name:null===(s=i.app)||void 0===s?void 0:s.name,logoUri:null===(t=i.app)||void 0===t?void 0:t.iconUrl}),step:0,children:(0,n.jsx)(O,{...i})})}},27833:e=>{e.exports={container:"styles_container__upDro",arrow:"styles_arrow__i_HzR"}}}]);
//# sourceMappingURL=3732.4abe3efa13bc39a4.js.map