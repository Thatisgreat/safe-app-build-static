(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6042],{80063:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var r=n(74848),s=n(96540),a=n(49785),i=n(33680),l=n(85511),o=n(47168),d=n(18705),c=n(93639),u=n(73536),x=n(15542),p=n(43106),m=n(83392),h=n.n(m),f=n(98251),b=n.n(f),v=n(74525),j=n(49276);let w=(0,l.Z)({stringify:e=>e.name+" "+e.label}),A=e=>{let{name:t,canAdd:n,...l}=e,m=(0,d.A)(),{setValue:f,control:A}=(0,a.xW)(),g=(0,a.FH)({name:t,control:A}),[y,C]=(0,s.useState)(!1),[k,S]=(0,s.useState)(!1),O=Object.entries(m).map(e=>{let[t,n]=e;return{label:t,name:n}}),N=(0,s.useMemo)(()=>!!O.filter(e=>e.label.includes(g)).length,[O,g]),L=(0,s.useMemo)(()=>O.some(e=>(0,j.xU)(e.label,g)),[O,g]),H=(e,t)=>(0,v.$m)(g)?[]:w(e,t),I=()=>{C(e=>!e)},E=n?()=>{S(!0)}:void 0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.xI,{name:t,control:A,render:e=>{var a;let{field:{ref:d,...x}}=e;return(0,r.jsx)(o.A,{...x,className:b().input,disableClearable:!0,disabled:l.disabled,readOnly:null===(a=l.InputProps)||void 0===a?void 0:a.readOnly,freeSolo:!0,options:O,onChange:(e,t)=>"string"==typeof t?x.onChange(t):x.onChange(t.label),onInputChange:(e,n)=>f(t,n),filterOptions:H,componentsProps:{paper:{elevation:2}},renderOption:(e,t)=>{let{key:n,...a}=e;return(0,s.createElement)(i.o5u,{"data-testid":"address-item",component:"li",variant:"body2",...a,key:n},(0,r.jsx)(u.A,{address:t.label,name:t.name,shortAddress:!1,copyAddress:!1}))},renderInput:e=>(0,r.jsx)(c.A,{"data-testid":"address-item",...e,...l,focused:l.focused||!g,name:t,onOpenListClick:N?I:void 0,isAutocompleteOpen:y,onAddressBookClick:n&&!L?E:void 0})})}}),n&&!L?(0,r.jsxs)(i.o5u,{variant:"body2",className:h().unknownAddress,children:[(0,r.jsx)(i.Ahz,{component:x.A,fontSize:"small"}),(0,r.jsxs)("span",{children:["This is an unknown address. You can"," ",(0,r.jsx)("a",{role:"button",onClick:E,children:"add it to your address book"}),"."]})]}):null,k&&(0,r.jsx)(p.A,{handleClose:()=>S(!1),defaultValues:{name:"",address:g}})]})}},86042:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var r=n(74848),s=n(48743),a=n(78562),i=n(73721),l=n(39324),o=n(49785),d=n(80063),c=n(57647),u=n(96389),x=n(66946),p=n.n(x),m=function(e){return e.recipient="recipient",e}(m||{});let h=e=>{let{image:t,name:n,description:a}=e;return(0,r.jsxs)(l.xA9,{container:!0,wrap:"nowrap",sx:{gap:2,alignItems:"center"},children:[(0,r.jsx)(l.xA9,{item:!0,children:(0,r.jsx)(l.azJ,{sx:{width:40,height:40},children:(0,r.jsx)(c.A,{src:t,fallbackSrc:"",fallbackComponent:(0,r.jsx)(l.Ahz,{component:s.A,inheritViewBox:!0,sx:{width:1,height:1}}),alt:n,height:40})})}),(0,r.jsxs)(l.xA9,{item:!0,sx:{overflow:"hidden"},children:[(0,r.jsx)(l.o5u,{"data-testid":"nft-item-name",variant:"body2",sx:{fontWeight:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:n}),a&&(0,r.jsx)(l.o5u,{variant:"body2",sx:{color:"text.secondary",whiteSpace:"nowrap",display:"block",overflow:"hidden",textOverflow:"ellipsis"},children:a})]})]})},f=e=>{let{tokens:t}=e;return(0,r.jsx)(l.azJ,{"data-testid":"nft-item-list",sx:{display:"flex",flexDirection:"column",gap:2,overflow:"auto",maxHeight:"20vh",minHeight:"40px"},children:t.map(e=>(0,r.jsx)(h,{image:e.imageUri||e.logoUri,name:"".concat(e.tokenName||e.tokenSymbol||""," #").concat(e.id),description:"Token ID: ".concat(e.id).concat(e.name?" - ".concat(e.name):"")},"".concat(e.address,"-").concat(e.id)))})},b=e=>{let{params:t,onSubmit:n}=e,{tokens:s}=t,a=(0,o.mN)({defaultValues:{recipient:t.recipient}}),{handleSubmit:i,watch:c,formState:{errors:x}}=a,m=!!c("recipient")&&!x.recipient;return(0,r.jsx)(u.A,{children:(0,r.jsx)(o.Op,{...a,children:(0,r.jsxs)("form",{onSubmit:i(e=>{n({recipient:e.recipient,tokens:s})}),children:[(0,r.jsx)(l.MJN,{fullWidth:!0,sx:{mb:3,mt:1},children:(0,r.jsx)(d.A,{name:"recipient",canAdd:m})}),(0,r.jsx)(l.o5u,{"data-testid":"selected-nfts",variant:"body2",sx:{color:"text.secondary",mb:2},children:"Selected NFTs"}),(0,r.jsx)(f,{tokens:s}),(0,r.jsx)(l.cGx,{className:p().nestedDivider,sx:{pt:3}}),(0,r.jsx)(l.waF,{children:(0,r.jsx)(l.$nd,{variant:"contained",type:"submit",children:"Next"})})]})})})};var v=n(96540),j=n(85197),w=n(53433),A=n(25644),g=n(5259),y=n(57117),C=n(68879),k=n(68130);let S=e=>{let{params:t,onSubmit:n,txNonce:s}=e,{setSafeTx:a,setSafeTxError:i,setNonce:l}=(0,v.useContext)(k.H),o=(0,g.A)(),{tokens:d}=t;return(0,v.useEffect)(()=>{void 0!==s&&l(s)},[s,l]),(0,v.useEffect)(()=>{if(!o)return;let e=t.tokens.map(e=>(0,A.wY)(o,t.recipient,e.id,e.address));(e.length>1?(0,y.w6)(e):(0,y.NU)(e[0])).then(a).catch(i)},[o,t,a,i]),(0,r.jsxs)(C.A,{onSubmit:n,children:[(0,r.jsxs)(j.xA9,{container:!0,sx:{gap:1,mb:2},children:[(0,r.jsx)(j.xA9,{item:!0,md:!0,children:(0,r.jsx)(j.o5u,{variant:"body2",sx:{color:"text.secondary"},children:"Send"})}),(0,r.jsx)(j.xA9,{item:!0,xs:!0,md:10,children:(0,r.jsx)(f,{tokens:d})})]}),(0,r.jsx)(w.A,{address:t.recipient})]})},O={recipient:"",tokens:[]},N=e=>{let{txNonce:t,...n}=e,{data:l,step:o,nextStep:d,prevStep:c}=(0,i.A)({...O,...n}),u=[(0,r.jsx)(b,{params:l,onSubmit:e=>d({...l,...e})},0),(0,r.jsx)(S,{params:l,txNonce:t,onSubmit:()=>null},1)];return(0,r.jsx)(a.A,{title:0===o?"New transaction":"Confirm transaction",subtitle:"Send NFTs",icon:s.A,step:o,onBack:c,children:u})}},73721:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(10256),s=n(96540);let a=(e,t)=>{let[n,a]=(0,s.useState)(0),[i,l]=(0,s.useState)(e);return{step:n,data:i,nextStep:(0,s.useCallback)(e=>{l(e),a(e=>(t&&(0,r.sx)({action:r.V4.Next,category:t,label:e}),e+1))},[t]),prevStep:(0,s.useCallback)(()=>{a(e=>(t&&(0,r.sx)({action:r.V4.Back,category:t,label:e}),e-1))},[t])}}},25644:(e,t,n)=>{"use strict";n.d(t,{P6:()=>o,wY:()=>d}),n(8442);var r=n(31243),s=n(26393),a=n(49276);let i=(e,t)=>new s.KA(["function transfer(address to, uint256 value)"]).encodeFunctionData("transfer",[e,t]),l=(e,t,n)=>new s.KA(["function safeTransferFrom(address from, address to, uint256 tokenId)"]).encodeFunctionData("safeTransferFrom",[e,t,n]),o=(e,t,n,s)=>{var a;let l=0===parseInt(s,16),o=(null===(a=(0,r.wy)(t,n))||void 0===a?void 0:a.toString())||"0";return l?{to:e,value:o,data:"0x"}:{to:s,value:"0",data:i(e,o)}},d=(e,t,n,r)=>{let s=l(e,t,n);return(0,a.xU)(r,"0x06012c8cf97bead5deae237070f9587f8e7a266d")&&(s=i(t,n)),{to:r,value:"0",data:s}}},83392:e=>{e.exports={unknownAddress:"styles_unknownAddress__BH1i2"}},48743:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r,s,a=n(96540),i=["title","titleId"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let o=function(e){var t=e.title,n=e.titleId,o=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,i);return a.createElement("svg",l({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},o),t?a.createElement("title",{id:n},t):null,r||(r=a.createElement("path",{d:"M54.9688 20.9422H8.87817V25.5644H54.9688V20.9422Z",fill:"currentColor"})),s||(s=a.createElement("path",{d:"M56.4301 23.84L55.8541 23.3991C55.2354 22.9262 55.111 22.0444 55.5768 21.4222L56.0141 20.8356C56.7252 19.9004 56.4123 18.752 55.5946 17.7884L49.6355 9.44356C48.7395 8.18844 47.2923 7.44178 45.7492 7.44178H18.2328C16.6897 7.44178 15.2426 8.18844 14.3466 9.44356L8.40167 17.7884C7.58389 18.752 7.27456 19.8969 7.98212 20.8356L8.41945 21.4222C8.88167 22.048 8.76078 22.9262 8.14212 23.3991L7.56612 23.84C6.63101 24.5511 6.44612 25.8844 7.15723 26.8196L28.0994 55.9787C28.4123 56.3876 28.8959 56.6293 29.4115 56.6293H34.5777C35.0932 56.6293 35.5768 56.3876 35.8897 55.9787L56.8426 26.8196C57.5537 25.8844 57.3688 24.5476 56.4337 23.84H56.4301ZM32.4657 52.3982C32.2274 52.7111 31.7581 52.7111 31.5199 52.3982L10.5706 23.6729C10.3323 23.36 10.4106 22.9049 10.6417 22.5956L17.2657 13.312C17.8239 12.5262 18.727 12.064 19.6906 12.064H44.2915C45.255 12.064 46.1581 12.5298 46.7163 13.312L53.351 22.5956C53.5857 22.9049 53.6603 23.3636 53.4221 23.6729L32.4621 52.3982H32.4657Z",fill:"currentColor"})))}}}]);
//# sourceMappingURL=6042.1a2560bc6edf2855.js.map