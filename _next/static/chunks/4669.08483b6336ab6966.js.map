{"version":3,"file":"static/chunks/4669.08483b6336ab6966.js","mappings":"yLCmCA,MA5B8B,OAAC,SAC7BA,CAAO,MA2BMC,QA1BbC,CAAY,KA0BeD,EAAA,EAzB3BE,CAAO,CAKR,GACOC,EAAQC,CAAAA,EAAAA,EAAAA,GAAAA,CAAQA,GAChBC,EAAWC,CAAAA,EAAAA,EAAAA,GAAAA,CAAaA,CAACH,EAAMI,WAAW,CAACC,IAAI,CAAC,OAChDC,EAAiBV,GAAWM,EAAWK,CAAAA,EAAAA,EAAAA,EAAAA,CAAcA,CAACX,GAAWA,EACjEY,EAASC,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,GAMxB,MACE,UAACC,EAAAA,CAAUA,CAAAA,CACTC,MAAM,kBACNC,SAAUN,EACVO,QAAS,0DAAuE,OAAbf,EAAa,6CAChFgB,eAAUf,EAAAA,EATO,KACnBS,EAAOO,CAQgBC,GARZ,CAAC,CAAEC,GAQFlB,MARYmB,EAAAA,CAASA,CAACC,IAAI,CAAEC,MAAOZ,EAAOY,KAAM,EAC9D,GAUF,EAAC,wGCwCD,MApE0B,OAAC,OACzBT,CAAK,IAmEQD,MAlEbE,CAAQ,GAkEeF,EAAA,OAjEvBW,CAAU,SACVR,CAAO,UACPC,CAAQ,CAOT,GACC,MACE,UAACQ,MAAAA,CAAIC,UAAWC,IAAAA,SAAa,UAC3B,WAACC,EAAAA,GAAKA,CAAAA,CAACC,GAAI,CAAEC,SAAU,OAAQ,YAC7B,WAACC,EAAAA,GAAKA,CAAAA,CACJF,GAAI,CACF,CACEG,QAAS,iBACTC,IAAK,EACLC,QAAS,OACTC,WAAY,QACd,EACA,OAAC,SAAEC,CAAO,CAAE,SAAM,CAAEC,aAAc,aAAkC,OAArBD,EAAQE,MAAM,CAACC,KAAK,CAAG,GACvE,WAEAxB,GACC,UAACyB,EAAAA,GAAUA,CAAAA,CACTX,GAAI,CACFY,MAAO,6BACT,WAEC1B,IAIL,UAAC2B,EAAAA,GAAGA,CAAAA,CAAChB,UAAWC,IAAAA,UAAc,UAC5B,UAACgB,EAAAA,GAAOA,CAAAA,CAACC,UAAWC,EAAAA,CAAQA,CAAEC,cAAc,IAACC,SAAS,aAExD,UAACP,EAAAA,GAAUA,CAAAA,CACTQ,QAAQ,KACRnB,GAAI,CACFoB,WAAY,GACd,WAECnC,IAEH,UAAC0B,EAAAA,GAAUA,CAAAA,CAACQ,QAAQ,iBAAShC,IAC7B,UAACkC,EAAAA,GAAOA,CAAAA,CAAAA,MAEV,UAACR,EAAAA,GAAGA,CAAAA,CACFb,GAAI,CACFK,QAAS,OACTiB,eAAgB,SAChBC,GAAI,EACJC,GAAI,CACN,WAEA,UAACC,EAAAA,GAAMA,CAAAA,CAACN,QAAQ,YAAYO,KAAK,QAAQ1B,GAAI,CAAE2B,GAAI,MAAO,EAAGC,QAASxC,WACnEO,GAAc,iBAM3B,EAAC,0ICvCD,IAAMkC,EAA2BC,CAAAA,EAAAA,EAAAA,EAAAA,CAAEA,CAAC,oBAAoBC,KAAK,CAAC,EAAG,IAC3DC,EAAkBC,EAAAA,EAAcA,CAACC,eAAe,EAE/C,OAAMC,EACX,OAAeC,qBAAqBC,CAAuC,CAAEC,CAAe,CAAc,CACxG,GAAID,EAAUE,IAAI,CAACC,UAAU,CAACC,EAAAA,EAAuBA,EAAG,CACtD,GAAM,CAACC,EAASC,EAAO,CAAGX,EAAgBY,kBAAkB,CAAC,UAAWP,EAAUE,IAAI,EACtF,MAAO,CACL,CACEI,SACAD,UACAG,aAAcR,EAAUS,EAAE,CAC1BC,OAAQ,UACRC,iBAAkBV,CACpB,EACD,CAGH,GAAID,EAAUE,IAAI,CAACC,UAAU,CAACS,EAAAA,EAAiCA,EAAG,CAChE,GAAM,CAACP,EAASC,EAAO,CAAGX,EAAgBY,kBAAkB,CAAC,oBAAqBP,EAAUE,IAAI,EAChG,MAAO,CACL,QACEI,UACAD,EACAG,aAAcR,EAAUS,EAAE,CAC1BC,OAAQ,oBACRC,iBAAkBV,CACpB,EACD,CAEH,MAAO,EACT,CAEA,OAAeY,iBAAiBC,CAAsB,CAA6C,CACjG,MAAO,CACLR,OAAQS,OAAOD,EAAQR,MAAM,EAC7BE,aAAcM,EAAQE,KAAK,CAE/B,CAEAC,YAAYC,CAAqC,CAA4C,CAC3F,IAAMC,EAAcD,EAAQC,WAAW,CACjCC,EAA4B,EAAE,CAC9BC,EAAoBC,CAAAA,EAAAA,EAAAA,EAAAA,CAAkBA,CAACH,GAE7C,GAAsC,WAAW,CAA7CE,EAAkBE,MAAM,CAACC,IAAI,EAC/B,GAAIH,KAA4CI,MAA1BC,KAAK,CAAC,YAAe,CAAgB,CACzD,IAAMrB,EAAUgB,EAAkBM,OAAO,CAAC,OAAU,CAC9Cb,EAAUO,EAAkBM,OAAO,CAAC,OAAU,CAC9CC,EAAa9B,EAAee,gBAAgB,CAACC,GAEnDM,EAAcpE,IAAI,CAAC,CACjB,GAAG4E,CAAU,CACblB,OAAQ,kBACRL,EACAM,iBAAkB,CACpB,EACF,MAAO,QAA+Cc,IAA3CJ,EAAkBK,KAAK,CAAC,WAAc,CAAgB,CAC/D,IAAMrB,EAAUgB,EAAkBM,OAAO,CAAC,OAAU,CACpCN,EAAkBM,OAAO,CAAC,OAAU,CAC5CE,OAAO,CAAC,CAACf,EAASgB,KACxB,IAAMF,EAAa9B,EAAee,gBAAgB,CAACC,GAEnDM,EAAcpE,IAAI,CAAC,CACjB,GAAG4E,CAAU,CACblB,OAAQ,UACRL,UACAM,iBAAkBmB,CACpB,EACF,EACF,SAEF,EAAkBC,MAAM,CAAG,EAClB,CADqB,SAEhBC,EAAAA,CAAgBA,CAACC,IAAI,CAC/BC,QAASd,CACX,EAGK,CACLe,SAAUH,EAAAA,CAAgBA,CAACC,IAAI,CAEnC,CAEAG,gBAAgBlB,CAA8B,CAA4C,CACxF,IAAMmB,EAAkBnB,EAAQmB,eAAe,CAEzCjB,EAA4B,EAAE,CAC9BkB,EAAaD,EAAgBnC,IAAI,CAACA,IAAI,CAC5C,GAAIoC,EAAWnC,UAAU,CAACX,GAA2B,CACnD,IAAM+C,EAAWC,CAAAA,EAAAA,EAAAA,mBAAAA,CAAmBA,CAACF,GACrClB,EAAcpE,IAAI,IAAIuF,EAASE,OAAO,CAAC,CAACC,EAAIC,IAAU7C,EAAeC,oBAAoB,CAAC2C,EAAIC,IAChG,MACEvB,CADK,CACSpE,IAAI,IAAI8C,EAAeC,oBAAoB,CAAC,CAAEU,GAAI4B,EAAgBnC,IAAI,CAACO,EAAE,CAAEP,KAAMoC,CAAW,EAAG,WAG/G,EAAkBP,MAAM,CAAG,EAClB,CADqB,SAEhBC,EAAAA,CAAgBA,CAACC,IAAI,CAC/BC,QAASd,CACX,EAGK,CACLe,SAAUH,EAAAA,CAAgBA,CAACC,IAAI,CAEnC,CACF,2DC7GA,IAAMW,EAAyB,IAAI9C,EAEtB+C,EAAmB,IAI9B,GAAM,GANyC/C,cAMvCuC,CAAe,CAAElB,aAAW,CAAE,CAAGe,EACnC,UAAEY,CAAQ,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,CAAWA,GAC1BC,EAAYC,CAAAA,EAAAA,EAAAA,OAAAA,CAAOA,CAAC,IACxB,EACSL,EAAuBR,aADX,EAC0B,CAAC,iBAAEC,CAAgB,GAE9DlB,EACKyB,EAAuB3B,SADf,EAC0B,CAAC,aAAEE,CAAY,UAEzD,CAACA,EAAakB,EAAgB,EAE3Ba,EAAwB,CAAC,CAACF,GAAa,CAAC,CAACA,EAAUd,OAAO,EAAIc,EAAUd,OAAO,CAACH,MAAM,CAAG,EAEzF,CAACX,EAAe+B,EAAOC,EAAQ,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,CAAQA,CAC9C,UACE,GAAKH,CAAD,CAEJ,OAAOI,QAAQC,GAAG,CAChBP,EAH0B,OAGT,CAACQ,GAAG,CAAC,MAAOC,QACsCX,EAuB1BY,EAvBvC,IAAIA,EAAAA,QAA6DZ,EAAAA,EAASa,KAAK,CAACC,IAAI,CAAC,GACnFC,CAAAA,EAAAA,EAAAA,EAAAA,CAAWA,CAACC,EAAKJ,SAAS,CAAC7H,OAAO,CAAE4H,EAASjD,YAAY,KADMsC,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAE9DY,SAAS,CAEZ,GAAI,CAACA,EACH,GAAI,CACFA,EAAY,GAFA,GAEMK,CAAAA,EAAAA,EAAAA,EAAAA,CAAwBA,CAACN,EAASjD,YAAY,CAClE,CAAE,MAAOwD,EAAG,CACV,IAAMC,EAAW,MAAMC,CAAAA,EAAAA,EAAAA,EAAAA,CAAaA,CAACT,EAASjD,YAAY,EACpD2D,EAAS,MAAMC,CAAAA,EAAAA,EAAAA,EAAAA,CAAeA,CAACX,EAASjD,YAAY,EAE1DkD,EAAY,CACV7H,QAAS4H,EAASjD,YAAY,QAC9B2D,EACAE,SAAU,EACVC,KAAML,EAAWM,EAAAA,SAASA,CAACC,MAAM,CAAGD,EAAAA,SAASA,CAACE,KAAK,CAEvD,CAGF,IAAMC,EACJC,EAAAA,EAAyBA,EAAIlB,EAASnD,MAAM,EAAIsE,EAAAA,EAAwBA,EAAInB,EAASnD,MAAM,CACvFuE,EAAAA,EAAsBA,CAACC,SAAS,CAChCC,CAAAA,EAAAA,EAAAA,EAAAA,CAAeA,CAACtB,EAASnD,MAAM,CAAqB,QAAnBoD,QAAAA,EAAAA,KAAAA,EAAAA,EAAWW,QAAAA,GAAXX,KAAAA,IAAAA,EAAAA,EAlDxB,IAoDf,MAAO,CAAE,GAAGD,CAAQ,KAF0CuB,MAExCtB,EAAWgB,iBAAgB,CACnD,GAEJ,EAEA,CADA,EACwB5B,EAASa,KAAK,CAAC5B,MAAM,CAAC,EAC9C,GAGF,MAAO,CAACmB,EAAwB9B,EAAgB,EAAE,CAAE+B,EAAOC,EAAQ,EACpE,aAN0D,kJC1EpD,IAAM6B,EAA0G,CACrHC,QAAS,CAACf,EAAgBG,IACxBA,IAASC,EAAAA,SAASA,CAACC,MAAM,CAAG,qBAA4B,OAAPL,GAAW,OAAc,OAAPA,EAAO,iBAC5EgB,kBAAmB,GAAoB,YAAmB,OAAPhB,EAAO,iBAC1DiB,QAAS,GAAoB,4BAAmC,OAAPjB,EAC3D,EA+CA,EA7CqB,QA6BwBT,EAODA,KApCtB,QACpBhD,CAAM,KA4CO2E,GA3Cb/E,CAAM,QA2CmB+E,EAAA,CA1CzBC,CAAS,WACT5B,CAAS,CAOV,GACC,MACE,WAAC7F,EAAAA,GAAKA,CAAAA,CACJ0H,UAAU,MACV/H,UAAWC,IAAAA,aAAiB,CAC5BE,GAAI,CACFM,WAAY,SACZF,IAAK,CACP,YAEA,UAACyH,EAAAA,CAASA,CAAAA,CAACnG,KAAM,GAAIoG,OAAO,OAAE/B,EAAAA,KAAAA,EAAAA,EAAW+B,OAAO,CAAEC,GAApBhC,QAA+B,OAAEA,EAAAA,KAAAA,EAAAA,EAAWS,MAAM,GAChF,EAD+DT,CAC/D,QAAClF,EAAAA,GAAGA,CAAAA,CAACb,GAAI,CAAEgI,UAAW,MAAO,YAC3B,UAACrH,EAAAA,GAAUA,CAAAA,CACTQ,QAAQ,QACRnB,GAAI,CACFY,MAAO,gBACT,WAEC0G,CAAyB,CAACvE,EAAO,CAACgD,QAAAA,EAAAA,EAAUS,MAAAA,GAAVT,KAAAA,IAAAA,EAAAA,EAAoB,GAAIA,EAAUY,IAAI,IAE1EhE,IAAWuE,EAAAA,EAAsBA,CAACC,SAAS,CAC1C,UAACxG,EAAAA,GAAUA,CAAAA,UAAEuG,EAAAA,EAAsBA,CAACC,SAAS,GAE7C,UAACxG,EAAAA,GAAUA,CAAAA,CAACsH,cAAY,wBACrBlC,EAAUY,IAAI,GAAKC,EAAAA,SAASA,CAACE,KAAK,CAC/BoB,CAAAA,EAAAA,EAAAA,EAAAA,CAAmBA,CAACvF,EAAQoD,QAAAA,EAAAA,EAAUW,QAAAA,GAAVX,KAAAA,IAAAA,EAAAA,EAAsB,GAClD,IAAyB,OAArB4B,EAAUQ,QAAQ,WAMtC,gFCpDO,IAAMC,EAAe,OAAC,SAAElK,CAAO,CAAuB,GACrDmK,EAAUC,CAAAA,EAAAA,EAAAA,EAAAA,CAAUA,GACpB,CAACC,EAAiB,CAAG7C,CAAAA,EAAAA,EAAAA,CAAAA,CAAQA,CAAC,IAAM8C,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAACH,EAASnK,GAAU,CAACmK,EAASnK,EAAQ,EACrF,aAAEQ,CAAW,CAAE,CAAGH,CAAAA,EAAAA,EAAAA,GAAAA,CAAQA,GAC1BkK,EAAgBhK,CAAAA,EAAAA,EAAAA,GAAAA,CAAaA,CAACC,EAAYC,IAAI,CAAC,OAErD,MACE,WAACuB,EAAAA,GAAKA,CAAAA,CACJ0H,UAAU,MACV/H,UAAWC,IAAAA,aAAiB,CAC5BE,GAAI,CACFsB,eAAgB,gBAChBhB,WAAY,SACZF,IAAK,CACP,YAEA,UAACO,EAAAA,GAAUA,CAAAA,CACTQ,QAAQ,QACRnB,GAAI,CACFY,MAAO,gBACT,WACD,YAGD,UAAChB,MAAAA,UACC,UAAC8I,EAAAA,CAAWA,CAAAA,CACVC,WAAY,GACZzK,QAASA,EACT2F,KAAM0E,OAAAA,EAAAA,KAAAA,EAAAA,EAAkBK,WAAAA,OAAlBL,GAAiCA,EAAAA,KAAAA,EAAAA,EAAkB1E,IAAI,EAC7DgF,YAAY,CAAEN,QAAAA,KAAAA,EAAAA,EAAkBT,OAAO,CACvCgB,IADcP,SACAE,EACdM,WAAW,UAKrB,EAAC,ECnCiB,OAAC,eAAEtF,CAAa,CAAqC,EAuCxDuF,CAtCPC,EAAmB3D,CAAAA,EAAAA,EAAAA,CAsCH0D,EAAA,IAtCG1D,CAAOA,CAAC,IAAM4D,IAAQzF,EAAgBqC,GAAaA,EAASpD,MAAvCwG,CAA8C,EAAG,CAACzF,EAAc,EAE9G,MACE,UAAC0F,EAAAA,GAAIA,CAAAA,CAACtJ,UAAWC,IAAAA,aAAiB,UAC/BsJ,OAAOC,OAAO,CAACJ,GAAkBpD,GAAG,CAAC,OAAC,CAACnD,EAAS2C,EAAU,SACzD,WAACnF,EAAAA,GAAKA,CAAAA,CAEJF,GAAI,CACFI,IAAK,CACP,YAEA,UAACgI,EAAYA,CAAClK,QAASwE,CAAV0F,GACZ/C,EAAUQ,GAAG,CAAC,GACb,EAAQE,EAAJ,OAAa,CAGf,CAHiB,EAGjB,OAACuD,EAAAA,GAAQA,CAAAA,CAEPzJ,UAAWuD,OAAO,KAAOA,OAAO2B,EAAGpC,MAAM,EAAI7C,IAAAA,iBAAqB,MAAGgE,EACrEyF,cAAc,IACdtB,cAAY,yBAEZ,UAACP,EAAYA,CACXhF,QAASqC,EAAGrC,OAAO,CACnBK,MAFW2E,CAEH3C,EAAGhC,MAAM,CACjBJ,OAAQoC,EAAGgC,eAAe,CAC1BY,UAAW5C,EAAGpC,MAAM,CACpBoD,UAAWhB,EAAGgB,SAAS,IAVpBhB,EAAGlC,YAAY,CAAGkC,EAAGrC,OAAO,EAJX,4BAPvBA,MA8Bf,6DCrCA,IAAM8G,EAAiB,OAAC,eAAEC,CAAa,OAAEC,CAAK,CAAmD,GAC/F,MACE,UAACC,EAAAA,GAAQA,CAAAA,CAAc,GAAGF,CAAa,UACpCC,GADYA,EAInB,EAEaE,EAAqB,QAqBbC,EAEmC9E,EAFnC8E,EAEmC9E,KAvBrB,MAAElB,CAAI,IAAEkB,CAAE,UAAE+E,CAAQ,CAAyD,GACxG,CAAEC,SAAO,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,CAAcA,GAC5BC,EAAeb,OAAOc,MAAM,CAAChD,EAAAA,EAAsBA,EACnD,CACJiD,MAAO,KAAEC,CAAG,QAAEC,CAAM,CAAEC,UAAQ,CAAEZ,OAAK,CAAE,YACvCG,CAAU,CACX,CAAGU,CAAAA,EAAAA,EAAAA,EAAAA,CAAaA,CAAC,MAChB1G,UACAkG,EACAS,MAAO,CACLC,SAAU,GACVC,SAAU,QAIS3F,EAHjB,GAAIkF,EAAaU,QAAQ,CAACC,GACxB,GAD8B,IACvB9G,IAEH4C,EAAuB,QAAZ3B,EAAAA,EAAGgB,SAAAA,GAAHhB,KAAAA,MAAAA,KAAAA,EAAAA,EAAc2B,QAAQ,CACvC,MAAOmE,CAAAA,EAAAA,EAAAA,EAAAA,CAAcA,CAACD,GAAK,IAASE,CAAAA,EAAAA,EAAAA,EAAAA,CAAqBA,CAACF,EAAKlE,EACjE,CACF,CACF,GAEMqE,EAAalB,QAAAA,EAAAA,OAAAA,GAAAA,EAAWrE,KAAAA,GAAXqE,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAkB7F,OAAAA,GAAlB6F,KAAAA,IAAAA,EAAAA,EAA8BA,EAAWmB,OAAO,CAAG,wBAA0B,GAE1FC,EAAQ,GAAoE,OAAjE3D,CAAyB,CAACvC,EAAGhC,MAAM,CAAC,CAACgC,QAAAA,EAAAA,QAAAA,EAAAA,EAAGgB,SAAAA,GAAHhB,KAAAA,MAAAA,KAAAA,EAAAA,EAAcyB,MAAAA,GAAdzB,KAAAA,IAAAA,EAAAA,EAAwB,KAG9E,MACE,UAACmG,EAAAA,GAAYA,CAAAA,CACXC,QAAQ,IACRC,SAAS,IACTC,QANYpB,CAMHoB,CACTC,aAAc,CAACC,EAAO7B,IAAkB,UAACF,EAAAA,CAA2BC,cAAe8B,EAAO7B,MAAOA,GAApCA,GAC7DA,MAAOA,EAEP8B,cAAe,CAACC,EAAG/B,KACjBY,EAASZ,EACX,EACAgC,gBAAgB,IAChBC,cAAe,CAAC7B,EAChBA,SAAUA,EACV8B,gBAAiB,CACfC,MAAO,CACLC,UAAW,CACb,CACF,EACAC,YAAa,GAET,UAACC,EAAAA,CAAWA,CAAAA,CACT,GAAGC,CAAM,CACVhB,MAAOA,EACPpH,KAAMA,EACNuH,SAAS,IACTL,WAAYA,EACZmB,QAAU/B,IACHL,GACHK,EAAMgC,KADO,CACD,CAACC,MAAM,EAEvB,EACAC,OAAO,QACPlL,QAAQ,WACRqE,MAAO,CAAC,CAACqE,EAAWrE,KAAK,CACzB9D,KAAK,QACL2I,OAAQA,EACRiC,SAAUlC,EACVmC,WAAY,CACV,GAAGN,EAAOM,UAAU,CACpBvM,GAAI,CACFwM,SAAU,oBACV,YAAa,CACX/L,OAAQ,iBACV,EACA,WAAY,CACVJ,QAASyJ,EAAW,YAAShG,CAC/B,EACArD,OAAQ,iBACV,CACF,EACAgM,WAAY,CACV,GAAGR,EAAOQ,UAAU,CACpB5M,UAAWC,IAAAA,cAAkB,EAE/B4M,gBAAiB,CACf,GAAGT,EAAOS,eAAe,CACzBC,QAAQ,EACR3M,GAAI,CACFY,MAAQtC,GAAWwL,EAAW,GAAgC,OAA7BxL,EAAMiC,OAAO,CAACqM,IAAI,CAACC,SAAS,CAAC,oBAAe/I,CAC/E,CACF,KAMZ,EAAC,8CC1GD,MAAegJ,CAAAA,EAAAA,SAAAA,CAAAA,CAAaA,CAAC,CAAaC,EAAAA,EAAAA,GAAAA,CAAIA,CAAC,CAAP,MAAe,CACrDC,EAAG,4LACL,GAAI,eAAe,CCiEnB,CDjEoB,CCOS,QAsCSlH,EAA0CA,KAtClD,UAC5BA,CAAQ,MACRjC,CAAI,CACJoJ,GAuDaC,KAvDP,CAKP,GACO,WAAEC,CAAS,CAiDgB,SAjDdC,CAAQ,CAAE,CAAGpD,CAAAA,EAAAA,EAAAA,EAAAA,CAAcA,GAExC,QAAEqD,CAAM,aAAEC,CAAW,CAAE,CAAGH,EAE1BI,EAAcC,IAAIH,EAAQxJ,GAC1BmH,EAAUwC,EADOA,EACHF,EAAazJ,GAE3B,CAACiG,EAAU2D,CAFED,CAEU,CAAGE,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,EAAC,GAOnCC,EAAiB,KACrBF,GAAY,GAEZG,WAAW,IAAMR,EAASvJ,GAAO,EACnC,EAEA,MACE,WAAC3D,EAAAA,GAAKA,CAAAA,CACJ0H,UAAU,MACVtH,WAAW,SACXF,IAAK,EACLP,UAAWC,IAAAA,aAAiB,CAC5B8B,QAASkI,EAAW6D,OAAiB7J,YAErC,UAACjD,EAAAA,GAAGA,CAAAA,CAACR,QAAQ,OAAOwN,cAAc,MAAMvN,WAAW,SAASF,IAAI,eAC9D,UAACyH,EAAAA,CAASA,CAAAA,CAACnG,KAAM,GAAIoG,OAAO,SAAEhC,EAAAA,EAASC,SAAAA,GAATD,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAoBgC,OAAO,CAAEC,WAAW,SAAEjC,EAAAA,EAASC,SAAAA,GAATD,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAoBU,MAAM,KAGpG,UAACoD,EAAkBA,CAAC/F,KAAMA,EAAMkB,GAAIe,EAAUgE,GAA3BF,MAAqCE,IAExD,UAACgE,EAAAA,CAAKA,CAAAA,CAAE,GAAGC,EAAAA,EAAaA,CAACC,cAAc,CAAE/C,MAAOnB,EAAW,OAAS,gBACjEA,EACC,UAACmE,EAAAA,EAAUA,CAAAA,CAACrN,MAAM,SAASgB,QAAS+L,EAAgB1O,MAAM,gBACxD,UAAC6B,EAAAA,GAAOA,CAAAA,CAACI,SAAS,QAAQH,UAAWmN,EAAcjN,UAAFiN,IAAgB,QAGnE,UAACzM,EAAAA,GAAMA,CAAAA,CAACxC,MAAM,OAAOkC,QAAQ,OAAOO,KAAK,QAAQE,QA/BtC,CA+B+CuM,IA9BhElB,IACAQ,GAAY,EACd,EA4B8EW,SAAU,CAAC,CAACb,GAAe,CAACvC,WAAS,aAOrH,ECvDaqD,EAAqB,OAAC,eACjC5K,CAAa,iBACb6K,CAAe,CAIhB,GACOrF,EAAmB3D,CAAAA,EAAAA,EAAAA,OAAAA,CAAOA,CAAC,IAAM4D,IAAQzF,EAAe,GAAcqC,EAASpD,MAAvCwG,CAA8C,EAAG,CAACzF,EAAc,EAExG8K,EAAmBjJ,CAAAA,EAAAA,EAAAA,OAAAA,CAAOA,CAAC,IAAM7B,EAAcoC,GAAG,CAAC,GAAU2I,EAAKzH,eAAe,EAAG,CAACtD,EAAc,EAEnGgL,EAAcC,CAAAA,EAAAA,EAAAA,EAAAA,CAAOA,CAAyB,CAClDC,cAAe,CACbtJ,UAAWkJ,CACb,EACAK,KAAM,UACR,GAEM,WAAEC,CAAS,OAAEC,CAAK,CAAE,CAAGL,EAEvBxB,EAAS,KACb,IAAM8B,EAAWF,EAAU,aAC3BP,EAAgBS,GAChBD,EAAM,CAAEzJ,UAAW0J,CAAS,EAC9B,EAEIC,EAAa,EAEjB,MACE,UAACC,EAAAA,EAAYA,CAAAA,CAAE,GAAGR,CAAW,UAC3B,UAACtF,EAAAA,GAAIA,CAAAA,CAACtJ,UAAWC,IAAAA,aAAiB,UAC/BsJ,OAAOC,OAAO,CAACJ,GAAkBpD,GAAG,CAAC,GAAuBqJ,QAAtB,CAACxM,EAAS2C,EAAU,SACzD,UAACxE,EAAAA,GAAGA,CAAAA,UACF,WAACX,EAAAA,GAAKA,CAAAA,CACJF,GAAI,CACFI,IAAK,CACP,YAECiF,EAAUQ,GAAG,CAAC,GACb,UAACyD,EAAAA,GAAQA,CAAAA,CAEPzJ,WAAW,CAAE,GAAKkF,EAAGpC,MAAM,CAAG7C,IAAAA,iBAAqB,MAAGgE,EACtDyF,cAAc,IACdtB,cAAY,yBAEZ,UAACiF,EAAoBA,CAACpH,SAAUf,EAAIlB,KAAM,aAA0B,GAA/CqJ,GAA+C,CAAb8B,KAAgB/B,OAAQA,KAL1ElI,EAAGlC,YAAY,CAAGkC,EAAGrC,OAAO,GAQrC,UAAC0F,EAAYA,CAAClK,QAASwE,CAAV0F,GAEZ8G,IAAe9F,OAAO+F,IAAI,CAAClG,GAAkB7E,MAAM,CAAG,GAAK,UAAC/C,EAAAA,GAAOA,CAAAA,CAAAA,OAlB9DqB,QAyBpB,EAAC,eC1DD,IAAM0M,EAAQ,OAAC,UAAE9I,CAAQ,CAAyB,GAMhD,MACE,WAAC1G,MAAAA,WACC,UAACe,EAAAA,GAAUA,CAAAA,CACTX,GAAI,CACFoB,WAAY,GACd,WAVQ,CAYPnC,2BAEH,UAAC0B,EAAAA,GAAUA,CAAAA,CAACQ,QAAQ,iBAbPmF,CAagBpH,CAZ7B,2DACA,4EAcN,EA8DA,EA5D8B,OAAC,YA4DhBmQ,KA3Db3K,CAAe,QA2DY2K,EAAA,GA1D3B7L,CAAW,CAIZ,GACO,WAAE8L,CAAS,gBAAEC,CAAc,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,UAAAA,CAAUA,CAACC,EAAAA,CAAaA,EACxD,CAACC,EAAmBlK,EAAOC,EAAQ,CAAGP,CAAAA,EAAAA,EAAAA,CAAAA,CAAgBA,CAAC,iBAAER,cAAiBlB,CAAY,GAEtFmM,QAAmBD,EAAAA,KAAAA,EAAAA,EAAmBE,MAAM,CAAC,GAAc,CAAE,CAAE,GAAK9J,EAASnD,EAA1D+M,IAAgE,EAEzF,GAAIC,OAAAA,EAAAA,KAAAA,EAAAA,EAAkBvL,MAAAA,IAAW,GAAM,CAACM,GAAmB,CAAvDiL,EACF,OAAO,IADiE,CAmB1E,IAAME,EAAmB,CAAC,QAACH,EAAAA,KAAAA,EAAAA,EAAmBI,IAAI,CAAC,QAAchK,MAAtC4J,EAAsC5J,CAAAA,QAAAA,EAAAA,EAASC,SAAAA,GAATD,KAAAA,MAAAA,KAAAA,EAAAA,EAAoBa,IAAAA,IAASC,EAAAA,SAASA,CAACC,MAAM,IAExGkJ,EACJ,GAAoBrL,EAAgBsL,UAAU,CAACtO,IAAI,CAAG,QAAsBoC,IAAhBN,GAA6BqM,EAE3F,MACE,WAAChP,EAAAA,GAAGA,CAAAA,CACFhB,UAAWC,IAAAA,SAAa,CACxBE,GAAI,CACFK,QAAS,OACTwN,cAAe,SACfzN,IAAK,EACL6P,GAAI,CACN,YAEA,UAACb,EAAAA,CAAM9I,SAAUuJ,IAChBrK,EACC,UAAC0K,EAAAA,GAAKA,CAAAA,CAAC1L,SAAS,iBAAQ,gDACtBiB,GAAW,CAACiK,EACd,UAACS,EAAAA,GAAQA,CAAAA,CAAChP,QAAQ,UAAUiP,OAAQ,IAAKnI,cAAY,4BACnD8H,EACF,UAAC/G,EAASA,CAACvF,cAAeiM,IAE1B,GAFU1G,EAEV,KAACqF,EAAkBA,CAAC5K,cAAeiM,CAAhBrB,CAAmCC,gBAtCnCjJ,CAsCoDiJ,GArC3E,GAAI,CAAC5J,EACH,OAEF,IAAM2L,EAAeC,CAAAA,CAHC,CAGDA,EAAAA,EAAAA,CAA8BA,CAAC5L,GAC9C6L,EAAaC,CAAAA,EAAAA,EAAAA,EAAAA,CAAiBA,CAACnL,EAAWqK,EAAmBW,GAOnEI,CALqB,SACCF,EAAWnM,MAAM,CAAG,EACnBsM,CAAAA,EAAAA,EAAAA,EAAAA,CAAyBA,CAACH,GAAcI,CAAAA,EAAAA,EAAAA,EAAAA,CAAQA,CAACJ,CAAU,CAAC,EAAE,CACrF,IAEeK,IAAI,CAACtB,GAAWuB,KAAK,CAACtB,EACvC,MA6BF,EAAC,oICnFM,IAAM9M,EAA0BX,CAAAA,EAAAA,EAAAA,EAAAA,CAAEA,CAAC,4BAA4BC,KAAK,CAAC,EAAG,IAAG,EACjCD,CAAAA,EAAAA,EAAAA,EAAAA,CAAEA,CAAC,sCAAsCC,KAAK,CAAC,EAAG,IAAG,EAW9EE,EAAAA,EAAcA,CAACC,eAAe,GAE/C,eAAKgF,CAAAA,wCAAAA,OAIZ,IAAM4J,EAAsB,CAACnO,EAAgB+D,IAC3C,oBAAiD,CAA7C/D,EACKqE,EAAAA,EAAyBA,CAG3B+J,CAAAA,EAAAA,EAAAA,EAAAA,CAAUA,CAACpO,EAAQ+D,GAmDf8J,EAAoB,CAC/BQ,EACAvN,EACAwN,IAEmBA,EAAIpL,GAAG,CAAC,CAACd,EAAIzC,KAC9B,IAAM4O,QAAgBzN,EAAAA,KAAAA,EAAAA,EAAe0N,SAAS,CAAC,GAAcrL,EAAvCrC,gBAAgE,GAAKnB,GAC3F,GAAI4O,WACF,OAAOnM,EAET,GAAIA,EAAGxC,IAAI,CAACC,UAAU,CAACC,IAA4BsC,EAAGxC,IAAI,CAACC,UAAU,CAACS,GAAoC,CACxG,IAAMmO,EAAcJ,CAAkB,CAACE,EAAc,CAC/CG,QAAe5N,EAAAA,KAAAA,EAAAA,CAAe,CAACyN,EAAc,CACnD,GAAI,CAACG,GAAgB,CAACA,EAAatL,EADdtC,OACuB,CAE1C,CAF4C,MAErCsB,EAET,IAAM2B,EAAW2K,EAAatL,SAAS,CAACW,QAAQ,CAC1C4K,EAAeR,EAAoBM,QAAa1K,EAAAA,EAAY,UAClE,EAAOnE,IAAI,CAACC,UAAU,CAACC,GACd,CACLK,GAAIuO,EAAaxO,YAAY,CAC7B6G,IAH6C,EAGtC,IACPnH,KAAMP,EAAgBuP,kBAAkB,CAAC,UAAW,CAACF,EAAa3O,OAAO,CAAE4O,EAAa,CAC1F,EAEO,CACLxO,GAAIuO,EAAaxO,YAAY,CAC7B6G,MAAO,IACPnH,KAAMP,EAAgBuP,kBAAkB,CAAC,oBAAqB,CAACF,EAAa3O,OAAO,CAAE4O,EAAa,CACpG,CAEJ,CACA,OAAOvM,CACT,uDCpHF,6IACA,sBACA,aAAsB,wDAAwE,YAAgB,mBAAsB,KAAO,mBAAsB,mBAAoB,uCAAgD,UAAW,uBA6ChP,MAzCA,YACA,GAwCe,CAxCf,UACA,YACA,EANA,cAA0C,oBAA0B,mBACpE,KAA+C,oBAA0B,SAAY,sBAAuB,2BAA8B,yBAA6B,WAAe,UADlH,KAAmD,iCAAoC,sCAAyC,QAAY,WAAc,8BAAkC,6CAAqD,UAMrT,KACA,OAAsB,eAAmB,UACzC,SACA,UACA,oBACA,YACA,mCACA,mBACA,CAAG,MAA+B,eAAmB,UACrD,IACA,CAAG,eAA0C,eAAmB,UAAyB,eAAmB,SAC5G,uDACA,mBACA,CAAG,EAAgB,eAAmB,SACtC,2ZACA,mBACA,CAAG,EAAgB,eAAmB,SACtC,kaACA,mBACA,CAAG,EAAgB,eAAmB,SACtC,8JACA,mBACA,CAAG,EAAgB,eAAmB,SACtC,wuBACA,mBACA,CAAG,EAAgB,eAAmB,SACtC,wGACA,mBACA,CAAG,EAAgB,eAAmB,SACtC,4dACA,mBACA,CAAG,EAAgB,eAAmB,SACtC,mBACA,mBACA,ypBACA,mBACA,CAAG,IACH,iDCxCA,IAAMyM,EAAgB,0BAChBC,EAAgB,2BASTC,EAAsE,CACjF,CAACrN,EAAAA,CAAgBA,CAACsN,QAAQ,CAAC,CAAE,CAC3BC,OAAQJ,EACR5Q,MAAO,QACPiR,KAAMC,EAAAA,CAASA,CACf7G,MAAO,eACT,EACA,CAAC5G,EAAAA,CAAgBA,CAAC0N,IAAI,CAAC,CAAE,CACvBH,OAAQJ,EACR5Q,MAAO,QACPiR,KAAMC,EAAAA,CAASA,CACf7G,MAAO,WACT,EACA,CAAC5G,EAAAA,CAAgBA,CAAC2N,MAAM,CAAC,CAAE,CACzBJ,OAAQH,EACR7Q,MAAO,UACPiR,KAAM7Q,EAAAA,CAAQA,CACdiK,MAAO,SACT,EACA,CAAC5G,EAAAA,CAAgBA,CAAC4N,GAAG,CAAC,CAAE,CACtBL,OAAQH,EACR7Q,MAAO,UACPiR,KAAM7Q,EAAAA,CAAQA,CACdiK,MAAO,SACT,EACA,CAAC5G,EAAAA,CAAgBA,CAACC,IAAI,CAAC,CAAE,CACvB1D,MAAO,OACPiR,KAAM7Q,EAAAA,CAAQA,CACdiK,MAAO,MACT,CACF,EAAC,EC5C2B,OAAC,UAAEiH,CAAQ,CAA0B,GAC/D,MACE,UAAC/I,EAAAA,GAAIA,CAAAA,CAACnJ,GAAI,CAAEmS,UAAW,OAAQC,GAAI,EAAGC,GAAI,EAAG,kBAAmB,CAAEC,EAAG,CAAE,CAAE,WACtEJ,EAASrM,GAAG,CAAC,GACZ,UAACyD,EAAAA,GAAQA,CAAAA,CAAeC,cAAc,IAACvJ,GAAI,CAAEK,QAAS,YAAa4P,GAAI,CAAE,WACvE,UAACtP,EAAAA,GAAUA,CAAAA,CAACQ,QAAQ,iBAASoR,KADhBA,KAMvB,EAAC,ECMqD,CACpDC,mBAAoB,4BACpBC,kBAAmB,8BACnBC,iBAAkB,mBAClBC,iBAAkB,wBAClBC,qBAAsB,qCACtBC,eAAgB,mCAChBC,gBAAiB,yDACjBC,aAAc,qDACdC,uBAAwB,0BAC1B,EAAC,EAE6D,CAC5DC,gBAAiB,+BACjBC,oBAAqB,4BACrBC,YAAa,mBACbC,kBAAmB,0BACnBC,kBAAmB,wBACnBC,YAAa,6FACbC,cAAe,yDACfC,aAAc,8BACdC,iBAAkB,8BAClBC,aAAc,2DACdC,mBAAoB,oFACpBC,MAAO,kCACT,EAEMC,EAAwB,OAAC,kBAC7BC,CAAgB,eAChBC,CAAa,uBACbC,CAAqB,iBACrBC,CAAe,eACfC,CAAa,oBACbC,CAAkB,CAQnB,GACC,MACE,UAACtT,EAAAA,GAAGA,CAAAA,UACDiT,GAAoBA,EAAiBtP,QAAQ,GAAKH,EAAAA,CAAgBA,CAACC,IAAI,EACtE,iCACE,WAAC4L,EAAAA,GAAKA,CAAAA,CACJ1L,QAAQ,OAAEuP,EAAAA,KAAAA,EAAAA,EAAenT,KAAK,CAC9Bf,SADUkU,CACCjU,IAAAA,WAAe,CAC1BE,GACEgU,EACI,CACEI,uBAAwB,MACxBC,wBAAyB,KAC3B,OACAvQ,YAGN,UAACwQ,EAAAA,GAAUA,CAAAA,CAAClT,WAAW,iBAAiB6O,GAAI,WAC1C,UAACsE,EAAAA,CACCC,eAAgBV,EAAiBU,cAAc,CAC/CC,OAAQX,EAAiBW,MAAM,CAC/BC,YAAaZ,EAAiBY,WAAW,KAG7C,UAACC,EAAAA,CAAAA,MAEFX,GACC,UAACnT,EAAAA,GAAGA,CAAAA,CACFhB,UAAWC,IAAAA,qBAAyB,CACpCE,GAAI,CACFoS,GAAI,CACN,WAEA,UAACtE,EAAAA,CAAKA,CAAAA,CAAE,GAAGC,EAAAA,EAAaA,CAAC6G,WAAW,UAClC,UAACC,EAAAA,GAAgBA,CAAAA,CACf5J,MACE,WAACtK,EAAAA,GAAUA,CAAAA,CAACQ,QAAQ,QAAQP,MAAM,wBAAc,sDACMsT,EAAgB,cAAgB,aAGxFnK,QAAS,UAAC+K,EAAAA,GAAQA,CAAAA,CAACC,QAASd,EAAiB3J,SAAU6J,EAAoBvT,MAAM,kBAKzF,WAACV,EAAAA,GAAKA,CAAAA,CACJ0H,UAAU,MACVoN,QAAS,GACThV,GAAI,CACFM,WAAY,SACZ2U,GAAI,CACN,YAEA,UAACtU,EAAAA,GAAUA,CAAAA,CACTQ,QAAQ,UACRnB,GAAI,CACFY,MAAO,gBACT,WACD,eAGD,UAACsU,EAAYA,CAAAA,UAAAA,EAQnBX,EAAoB,OAAC,aACzBG,CAAW,QACXD,CAAM,gBACND,CAAc,CAKf,GACK5H,EAA2B,GAO/B,OALEA,EADE6H,GAAUD,GAAkBW,CAAc,CAACV,EAAO,EAAIW,CAAsB,CAACZ,EAAe,CACvF,CADyF,kBAC5CY,MAAAA,CAA1BD,CAAc,CAACV,EAAO,CAAC,KAA0C,OAAvCW,CAAsB,CAACZ,EAAe,CAAC,KAEpFE,EAIP,UAAC/T,EAAAA,GAAUA,CAAAA,CACTQ,QAAQ,YACRnB,GAAI,CACFoB,WAAY,IACZiU,WAAY,MACd,iBAECzI,EAAAA,EAAQ,aAARA,oBAGP,EAEM0I,EAAgB,IAElB,WAACpF,EAAAA,GAAKA,CAAAA,CAAC1L,SAAS,UAAU3E,UAAWC,IAAAA,WAAe,WAClD,UAACwU,EAAAA,GAAUA,CAAAA,UACT,UAAC3T,EAAAA,GAAUA,CAAAA,CACTQ,QAAQ,YACRnB,GAAI,CACFoB,WAAY,GACd,WACD,2BAIH,UAACT,EAAAA,GAAUA,CAAAA,CAACQ,QAAQ,iBAAQ,kHAG5B,UAACwT,EAAAA,CAAAA,MAKMY,EAAW,IACGC,CAAAA,EAAAA,CAErB,CAACC,EAFoBD,CAAaA,CAACE,EAAAA,EAAQA,CAACC,SAEzB,MAFwC,EAO7D,UAACC,EAAAA,EAAaA,CAAAA,CAACC,SAAU,UAACjW,MAAAA,UAAI,uCAC5B,UAACkW,EAAAA,CAAAA,KALI,KAULA,EAAkB,KACtB,GAAM,CAAEhC,kBAAgB,oBAAEiC,CAAkB,uBAAE/B,CAAqB,iBAAEC,CAAe,CAAE,CAAGzE,CAAAA,EAAAA,EAAAA,UAAAA,CAAUA,CAACwG,EAAAA,EAAiBA,EAC/G,UAAExR,CAAQ,WAAEyR,CAAS,OAAEzQ,CAAK,CAAE,OAAGsO,EAAAA,EAAoB,CAAC,EAEtD,QAAEoC,CAAM,CAAE,CAAG1G,CAAAA,EAAAA,EAAAA,MAFoBsE,IAEpBtE,CAAUA,CAACC,EAAAA,CAAaA,EAKrCsE,EAAgBvP,KAAaV,MAAY4N,CAAmB,CAAClN,EAAS,MAAGV,SAM/E,EACS,KADE,GACF,EAACwR,EAAAA,CAAAA,IAGNW,GAAcnC,GAAqBA,EAAiBtP,KAAvC,GAA+C,CAK9D,CALgE,EAKhE,GALoC,EAKpC,EAACqP,EAAAA,CACCI,gBAAiBA,EACjBC,cAnBkB,CAAC,CAACgC,EAoBpBlC,sBAAuBA,EACvBG,mBAjBuB,CAiBHA,IAhBtB4B,EAAmB,GAAU,CAACI,EAChC,EAgBIrC,iBAAkBA,EAClBC,cAAeA,IAVV,IAaX,EAEaY,EAAkB,KAC7B,GAAM,kBAAEb,CAAgB,CAAE,CAAGtE,CAAAA,EAAAA,EAAAA,UAAAA,CAAUA,CAACwG,EAAAA,EAAiBA,EACzD,GAAI,CAAClC,EACH,OAAO,KAGT,GAAM,CAJiB,SAIf5B,CAAQ,CAAE,CAAG4B,EAGfsC,EAAuBlN,IAAQgJ,EAAU,GAAaK,EAAQ/N,MAAhC0E,EAAwC,EACtEmN,EAAmBjN,OAAO+F,IAAI,CAACiH,GAAsBE,IAAI,CAAC,CAACC,EAAGC,IAAOC,OAAOF,GAAKE,OAAOD,GAAK,EAAI,CAAC,UAExG,GAAmC,CAA/BH,EAAiBjS,MAAM,CAAe,KAGxC,UAACvD,EAAAA,GAAGA,CAAAA,CACFb,GAAI,CACFK,QAAS,OACTwN,cAAe,SACfzN,IAAK,CACP,WAECiW,EAAiBxQ,GAAG,CAAC,GACpB,UAAC6Q,EAAYA,CAAWxE,SAAXwE,CAAyC,CAACC,EAAI,CAAC9Q,GAAG,CAAC,GAAa0M,EAAQmC,WAAW,GAA7EiC,KAI3B,EAAC,WC7PD,WAAkB,sFCAlB,WAAkB,kXCAlB,WAAkB,wkBCDlB,aACA,sBACA,aAAsB,wDAAwE,YAAgB,mBAAsB,KAAO,mBAAsB,mBAAoB,uCAAgD,UAAW,uBAwBhP,MApBA,YACA,cACA,UAkBuB,CAlBvB,CACA,EANA,cAA0C,oBAA0B,mBACpE,KAA+C,oBAA0B,SAAY,sBAAuB,2BAA8B,0BAA6B,UAAe,UADlH,KAAmD,iCAAoC,sCAAyC,QAAY,WAAc,8BAAkC,6CAAqD,UAMrT,KACA,OAAsB,eAAmB,UACzC,SACA,UACA,oBACA,YACA,mCACA,mBACA,CAAG,MAA+B,eAAmB,UACrD,IACA,CAAG,eAAgD,eAAmB,SACtE,mBACA,mBACA,iiBACA,mBACA,EAAG,EACH","sources":["webpack://_N_E/./src/components/common/Mui/index.tsx","webpack://_N_E/./src/components/common/BlockedAddress/index.tsx","webpack://_N_E/./src/components/common/Disclaimer/index.tsx","webpack://_N_E/./src/services/security/modules/ApprovalModule/index.ts","webpack://_N_E/./src/components/tx/ApprovalEditor/hooks/useApprovalInfos.ts","webpack://_N_E/./src/components/tx/ApprovalEditor/ApprovalItem.tsx","webpack://_N_E/./src/components/tx/ApprovalEditor/SpenderField.tsx","webpack://_N_E/./src/components/tx/ApprovalEditor/Approvals.tsx","webpack://_N_E/./src/components/tx/ApprovalEditor/ApprovalValueField.tsx","webpack://_N_E/./node_modules/@mui/icons-material/esm/EditOutlined.js","webpack://_N_E/./src/components/tx/ApprovalEditor/EditableApprovalItem.tsx","webpack://_N_E/./src/components/tx/ApprovalEditor/ApprovalEditorForm.tsx","webpack://_N_E/./src/components/tx/ApprovalEditor/index.tsx","webpack://_N_E/./src/components/tx/ApprovalEditor/utils/approvals.ts","webpack://_N_E/./public/images/transactions/blockaid-icon.svg","webpack://_N_E/./src/components/tx/security/utils.ts","webpack://_N_E/./src/components/tx/security/blockaid/BlockaidHint.tsx","webpack://_N_E/./src/components/tx/security/blockaid/index.tsx","webpack://_N_E/./src/components/common/Disclaimer/styles.module.css","webpack://_N_E/./src/components/tx/ApprovalEditor/styles.module.css","webpack://_N_E/./src/components/tx/security/blockaid/styles.module.css","webpack://_N_E/./public/images/common/close.svg"],"sourcesContent":["export * from \"/Users/liuxiaolin/Documents/other/safe-wallet-monorepo/apps/web/src/components/common/Mui/index.tsx\"","import type { ReactElement } from 'react'\nimport { useMediaQuery, useTheme } from '@mui/material'\nimport { shortenAddress } from '@/utils/formatters'\nimport { useRouter } from 'next/router'\nimport Disclaimer from '@/components/common/Disclaimer'\nimport { AppRoutes } from '@/config/routes'\n\nexport const BlockedAddress = ({\n  address,\n  featureTitle,\n  onClose,\n}: {\n  address: string\n  featureTitle: string\n  onClose?: () => void\n}): ReactElement => {\n  const theme = useTheme()\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'))\n  const displayAddress = address && isMobile ? shortenAddress(address) : address\n  const router = useRouter()\n\n  const handleAccept = () => {\n    router.push({ pathname: AppRoutes.home, query: router.query })\n  }\n\n  return (\n    <Disclaimer\n      title=\"Blocked address\"\n      subtitle={displayAddress}\n      content={`The above address is part of the OFAC SDN list and the ${featureTitle} is unavailable for sanctioned addresses.`}\n      onAccept={onClose ?? handleAccept}\n    />\n  )\n}\n\nexport default BlockedAddress\n","import type { ReactElement, ReactNode } from 'react'\nimport { Box, Button, Divider, Paper, Stack, SvgIcon, Typography } from '@mui/material'\nimport InfoIcon from '@/public/images/notifications/info.svg'\nimport css from './styles.module.css'\n\nexport const Disclaimer = ({\n  title,\n  subtitle,\n  buttonText,\n  content,\n  onAccept,\n}: {\n  title: string\n  subtitle?: string\n  buttonText?: string\n  content: ReactNode\n  onAccept: () => void\n}): ReactElement => {\n  return (\n    <div className={css.container}>\n      <Paper sx={{ maxWidth: '500px' }}>\n        <Stack\n          sx={[\n            {\n              padding: 'var(--space-3)',\n              gap: 2,\n              display: 'flex',\n              alignItems: 'center',\n            },\n            ({ palette }) => ({ borderBottom: `1px solid ${palette.border.light}` }),\n          ]}\n        >\n          {subtitle && (\n            <Typography\n              sx={{\n                color: 'var(--color-text-secondary)',\n              }}\n            >\n              {subtitle}\n            </Typography>\n          )}\n\n          <Box className={css.iconCircle}>\n            <SvgIcon component={InfoIcon} inheritViewBox fontSize=\"medium\" />\n          </Box>\n          <Typography\n            variant=\"h3\"\n            sx={{\n              fontWeight: 700,\n            }}\n          >\n            {title}\n          </Typography>\n          <Typography variant=\"body2\">{content}</Typography>\n          <Divider />\n        </Stack>\n        <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'center',\n            pt: 3,\n            pb: 2,\n          }}\n        >\n          <Button variant=\"contained\" size=\"small\" sx={{ px: '16px' }} onClick={onAccept}>\n            {buttonText || 'Got it'}\n          </Button>\n        </Box>\n      </Paper>\n    </div>\n  )\n}\n\nexport default Disclaimer\n","import {\n  APPROVAL_SIGNATURE_HASH,\n  INCREASE_ALLOWANCE_SIGNATURE_HASH,\n} from '@/components/tx/ApprovalEditor/utils/approvals'\nimport { ERC20__factory } from '@/types/contracts'\nimport { normalizeTypedData } from '@/utils/web3'\nimport { type SafeTransaction } from '@safe-global/safe-core-sdk-types'\nimport { type EIP712TypedData } from '@safe-global/safe-gateway-typescript-sdk'\nimport { id } from 'ethers'\nimport { type SecurityResponse, type SecurityModule, SecuritySeverity } from '../types'\nimport { decodeMultiSendData } from '@safe-global/protocol-kit/dist/src/utils'\n\nexport type ApprovalModuleResponse = Approval[]\n\nexport type ApprovalModuleRequest = {\n  safeTransaction: SafeTransaction\n}\n\nexport type ApprovalModuleMessageRequest = {\n  safeMessage: EIP712TypedData\n}\n\nexport type Approval = {\n  spender: any\n  amount: any\n  tokenAddress: string\n  method: 'approve' | 'increaseAllowance' | 'Permit2'\n  transactionIndex: number\n}\n\ntype PermitDetails = { token: string; amount: string }\n\nconst MULTISEND_SIGNATURE_HASH = id('multiSend(bytes)').slice(0, 10)\nconst ERC20_INTERFACE = ERC20__factory.createInterface()\n\nexport class ApprovalModule implements SecurityModule<ApprovalModuleRequest, ApprovalModuleResponse> {\n  private static scanInnerTransaction(txPartial: { to: string; data: string }, txIndex: number): Approval[] {\n    if (txPartial.data.startsWith(APPROVAL_SIGNATURE_HASH)) {\n      const [spender, amount] = ERC20_INTERFACE.decodeFunctionData('approve', txPartial.data)\n      return [\n        {\n          amount,\n          spender,\n          tokenAddress: txPartial.to,\n          method: 'approve',\n          transactionIndex: txIndex,\n        },\n      ]\n    }\n\n    if (txPartial.data.startsWith(INCREASE_ALLOWANCE_SIGNATURE_HASH)) {\n      const [spender, amount] = ERC20_INTERFACE.decodeFunctionData('increaseAllowance', txPartial.data)\n      return [\n        {\n          amount,\n          spender,\n          tokenAddress: txPartial.to,\n          method: 'increaseAllowance',\n          transactionIndex: txIndex,\n        },\n      ]\n    }\n    return []\n  }\n\n  private static getPermitDetails(details: PermitDetails): Pick<Approval, 'amount' | 'tokenAddress'> {\n    return {\n      amount: BigInt(details.amount),\n      tokenAddress: details.token,\n    }\n  }\n\n  scanMessage(request: ApprovalModuleMessageRequest): SecurityResponse<ApprovalModuleResponse> {\n    const safeMessage = request.safeMessage\n    const approvalInfos: Approval[] = []\n    const normalizedMessage = normalizeTypedData(safeMessage)\n\n    if (normalizedMessage.domain.name === 'Permit2') {\n      if (normalizedMessage.types['PermitSingle'] !== undefined) {\n        const spender = normalizedMessage.message['spender'] as string\n        const details = normalizedMessage.message['details'] as PermitDetails\n        const permitInfo = ApprovalModule.getPermitDetails(details)\n\n        approvalInfos.push({\n          ...permitInfo,\n          method: 'Permit2',\n          spender,\n          transactionIndex: 0,\n        })\n      } else if (normalizedMessage.types['PermitBatch'] !== undefined) {\n        const spender = normalizedMessage.message['spender'] as string\n        const details = normalizedMessage.message['details'] as PermitDetails[]\n        details.forEach((details, idx) => {\n          const permitInfo = ApprovalModule.getPermitDetails(details)\n\n          approvalInfos.push({\n            ...permitInfo,\n            method: 'Permit2',\n            spender,\n            transactionIndex: idx,\n          })\n        })\n      }\n    }\n    if (approvalInfos.length > 0) {\n      return {\n        severity: SecuritySeverity.NONE,\n        payload: approvalInfos,\n      }\n    }\n\n    return {\n      severity: SecuritySeverity.NONE,\n    }\n  }\n\n  scanTransaction(request: ApprovalModuleRequest): SecurityResponse<ApprovalModuleResponse> {\n    const safeTransaction = request.safeTransaction\n\n    const approvalInfos: Approval[] = []\n    const safeTxData = safeTransaction.data.data\n    if (safeTxData.startsWith(MULTISEND_SIGNATURE_HASH)) {\n      const innerTxs = decodeMultiSendData(safeTxData)\n      approvalInfos.push(...innerTxs.flatMap((tx, index) => ApprovalModule.scanInnerTransaction(tx, index)))\n    } else {\n      approvalInfos.push(...ApprovalModule.scanInnerTransaction({ to: safeTransaction.data.to, data: safeTxData }, 0))\n    }\n\n    if (approvalInfos.length > 0) {\n      return {\n        severity: SecuritySeverity.NONE,\n        payload: approvalInfos,\n      }\n    }\n\n    return {\n      severity: SecuritySeverity.NONE,\n    }\n  }\n}\n","import useAsync from '@/hooks/useAsync'\nimport useBalances from '@/hooks/useBalances'\nimport { type Approval, ApprovalModule } from '@/services/security/modules/ApprovalModule'\nimport { sameAddress } from '@/utils/addresses'\nimport {\n  getERC20TokenInfoOnChain,\n  getErc721Symbol,\n  isErc721Token,\n  UNLIMITED_APPROVAL_AMOUNT,\n  UNLIMITED_PERMIT2_AMOUNT,\n} from '@/utils/tokens'\nimport { type SafeTransaction } from '@safe-global/safe-core-sdk-types'\nimport { type EIP712TypedData, type TokenInfo, TokenType } from '@safe-global/safe-gateway-typescript-sdk'\nimport { useMemo } from 'react'\nimport { PSEUDO_APPROVAL_VALUES } from '../utils/approvals'\nimport { safeFormatUnits } from '@/utils/formatters'\n\nexport type ApprovalInfo = {\n  tokenInfo: (Omit<TokenInfo, 'logoUri' | 'name'> & { logoUri?: string }) | undefined\n  tokenAddress: string\n  spender: any\n  amount: any\n  amountFormatted: string\n  method: Approval['method']\n  /** Index of approval transaction within (batch) transaction */\n  transactionIndex: number\n}\n\nconst DEFAULT_DECIMALS = 18\n\nconst ApprovalModuleInstance = new ApprovalModule()\n\nexport const useApprovalInfos = (payload: {\n  safeTransaction?: SafeTransaction\n  safeMessage?: EIP712TypedData\n}): [ApprovalInfo[] | undefined, Error | undefined, boolean] => {\n  const { safeTransaction, safeMessage } = payload\n  const { balances } = useBalances()\n  const approvals = useMemo(() => {\n    if (safeTransaction) {\n      return ApprovalModuleInstance.scanTransaction({ safeTransaction })\n    }\n    if (safeMessage) {\n      return ApprovalModuleInstance.scanMessage({ safeMessage })\n    }\n  }, [safeMessage, safeTransaction])\n\n  const hasApprovalSignatures = !!approvals && !!approvals.payload && approvals.payload.length > 0\n\n  const [approvalInfos, error, loading] = useAsync<ApprovalInfo[] | undefined>(\n    async () => {\n      if (!hasApprovalSignatures) return\n\n      return Promise.all(\n        approvals.payload.map(async (approval) => {\n          let tokenInfo: Omit<TokenInfo, 'name' | 'logoUri'> | undefined = balances.items.find((item) =>\n            sameAddress(item.tokenInfo.address, approval.tokenAddress),\n          )?.tokenInfo\n\n          if (!tokenInfo) {\n            try {\n              tokenInfo = await getERC20TokenInfoOnChain(approval.tokenAddress)\n            } catch (e) {\n              const isErc721 = await isErc721Token(approval.tokenAddress)\n              const symbol = await getErc721Symbol(approval.tokenAddress)\n\n              tokenInfo = {\n                address: approval.tokenAddress,\n                symbol,\n                decimals: 1, // Doesn't exist for ERC-721 tokens\n                type: isErc721 ? TokenType.ERC721 : TokenType.ERC20,\n              }\n            }\n          }\n\n          const amountFormatted =\n            UNLIMITED_APPROVAL_AMOUNT == approval.amount || UNLIMITED_PERMIT2_AMOUNT == approval.amount\n              ? PSEUDO_APPROVAL_VALUES.UNLIMITED\n              : safeFormatUnits(approval.amount, tokenInfo?.decimals ?? DEFAULT_DECIMALS)\n\n          return { ...approval, tokenInfo, amountFormatted }\n        }),\n      )\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [hasApprovalSignatures, balances.items.length],\n    false, // Do not clear data on balance updates\n  )\n\n  return [hasApprovalSignatures ? approvalInfos : [], error, loading]\n}\n","import TokenIcon from '@/components/common/TokenIcon'\nimport css from '@/components/tx/ApprovalEditor/styles.module.css'\nimport type { Approval } from '@/services/security/modules/ApprovalModule'\nimport { Box, Stack, Typography } from '@mui/material'\nimport { TokenType } from '@safe-global/safe-gateway-typescript-sdk/dist/types/common'\nimport type { ApprovalInfo } from './hooks/useApprovalInfos'\nimport { PSEUDO_APPROVAL_VALUES } from './utils/approvals'\nimport { formatAmountPrecise } from '@/utils/formatNumber'\nimport type { Token } from '@safe-global/store/gateway/AUTO_GENERATED/balances'\n\nexport const approvalMethodDescription: Record<Approval['method'], (symbol: string, type?: Token['type']) => string> = {\n  approve: (symbol: string, type?: Token['type']) =>\n    type === TokenType.ERC721 ? `Allow to transfer ${symbol}` : `Set ${symbol} allowance to`,\n  increaseAllowance: (symbol: string) => `Increase ${symbol} allowance by`,\n  Permit2: (symbol: string) => `Give permission to spend ${symbol}`,\n}\n\nconst ApprovalItem = ({\n  method,\n  amount,\n  rawAmount,\n  tokenInfo,\n}: {\n  spender: string\n  amount: string\n  rawAmount: any\n  tokenInfo: NonNullable<ApprovalInfo['tokenInfo']>\n  method: Approval['method']\n}) => {\n  return (\n    <Stack\n      direction=\"row\"\n      className={css.approvalField}\n      sx={{\n        alignItems: 'center',\n        gap: 2,\n      }}\n    >\n      <TokenIcon size={32} logoUri={tokenInfo?.logoUri} tokenSymbol={tokenInfo?.symbol} />\n      <Box sx={{ overflowX: 'auto' }}>\n        <Typography\n          variant=\"body2\"\n          sx={{\n            color: 'text.secondary',\n          }}\n        >\n          {approvalMethodDescription[method](tokenInfo.symbol ?? '', tokenInfo.type)}\n        </Typography>\n        {amount === PSEUDO_APPROVAL_VALUES.UNLIMITED ? (\n          <Typography>{PSEUDO_APPROVAL_VALUES.UNLIMITED}</Typography>\n        ) : (\n          <Typography data-testid=\"token-amount\">\n            {tokenInfo.type === TokenType.ERC20\n              ? formatAmountPrecise(amount, tokenInfo.decimals ?? 0)\n              : `#${rawAmount.toString()}`}\n          </Typography>\n        )}\n      </Box>\n    </Stack>\n  )\n}\n\nexport default ApprovalItem\n","import EthHashInfo from '@/components/common/EthHashInfo'\nimport { Stack, Typography, useMediaQuery, useTheme } from '@mui/material'\n\nimport css from './styles.module.css'\nimport useAsync from '@/hooks/useAsync'\nimport useChainId from '@/hooks/useChainId'\nimport { getContract } from '@safe-global/safe-gateway-typescript-sdk'\n\nexport const SpenderField = ({ address }: { address: string }) => {\n  const chainId = useChainId()\n  const [spendingContract] = useAsync(() => getContract(chainId, address), [chainId, address])\n  const { breakpoints } = useTheme()\n  const isSmallScreen = useMediaQuery(breakpoints.down('md'))\n\n  return (\n    <Stack\n      direction=\"row\"\n      className={css.approvalField}\n      sx={{\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        gap: 2,\n      }}\n    >\n      <Typography\n        variant=\"body2\"\n        sx={{\n          color: 'text.secondary',\n        }}\n      >\n        Spender\n      </Typography>\n      <div>\n        <EthHashInfo\n          avatarSize={24}\n          address={address}\n          name={spendingContract?.displayName || spendingContract?.name}\n          customAvatar={spendingContract?.logoUri}\n          shortAddress={isSmallScreen}\n          hasExplorer\n        />\n      </div>\n    </Stack>\n  )\n}\n","import { List, ListItem, Stack } from '@mui/material'\n\nimport { type ApprovalInfo } from '@/components/tx/ApprovalEditor/hooks/useApprovalInfos'\nimport css from './styles.module.css'\nimport ApprovalItem from '@/components/tx/ApprovalEditor/ApprovalItem'\nimport groupBy from 'lodash/groupBy'\nimport { useMemo } from 'react'\nimport { SpenderField } from './SpenderField'\n\nconst Approvals = ({ approvalInfos }: { approvalInfos: ApprovalInfo[] }) => {\n  const groupedApprovals = useMemo(() => groupBy(approvalInfos, (approval) => approval.spender), [approvalInfos])\n\n  return (\n    <List className={css.approvalsList}>\n      {Object.entries(groupedApprovals).map(([spender, approvals]) => (\n        <Stack\n          key={spender}\n          sx={{\n            gap: 2,\n          }}\n        >\n          <SpenderField address={spender} />\n          {approvals.map((tx) => {\n            if (!tx.tokenInfo) return <></>\n\n            return (\n              <ListItem\n                key={tx.tokenAddress + tx.spender}\n                className={BigInt(0) === BigInt(tx.amount) ? css.zeroValueApproval : undefined}\n                disablePadding\n                data-testid=\"approval-item\"\n              >\n                <ApprovalItem\n                  spender={tx.spender}\n                  method={tx.method}\n                  amount={tx.amountFormatted}\n                  rawAmount={tx.amount}\n                  tokenInfo={tx.tokenInfo}\n                />\n              </ListItem>\n            )\n          })}\n        </Stack>\n      ))}\n    </List>\n  )\n}\n\nexport default Approvals\n","import NumberField from '@/components/common/NumberField'\nimport { validateAmount, validateDecimalLength } from '@/utils/validation'\nimport { Autocomplete, type MenuItemProps, MenuItem } from '@mui/material'\nimport { useController, useFormContext } from 'react-hook-form'\nimport type { ApprovalInfo } from './hooks/useApprovalInfos'\nimport css from './styles.module.css'\nimport { PSEUDO_APPROVAL_VALUES } from './utils/approvals'\nimport { approvalMethodDescription } from './ApprovalItem'\n\nconst ApprovalOption = ({ menuItemProps, value }: { menuItemProps: MenuItemProps; value: string }) => {\n  return (\n    <MenuItem key={value} {...menuItemProps}>\n      {value}\n    </MenuItem>\n  )\n}\n\nexport const ApprovalValueField = ({ name, tx, readOnly }: { name: string; tx: ApprovalInfo; readOnly: boolean }) => {\n  const { control } = useFormContext()\n  const selectValues = Object.values(PSEUDO_APPROVAL_VALUES)\n  const {\n    field: { ref, onBlur, onChange, value },\n    fieldState,\n  } = useController({\n    name,\n    control,\n    rules: {\n      required: true,\n      validate: (val) => {\n        if (selectValues.includes(val)) {\n          return undefined\n        }\n        const decimals = tx.tokenInfo?.decimals\n        return validateAmount(val, true) || validateDecimalLength(val, decimals)\n      },\n    },\n  })\n\n  const helperText = fieldState.error?.message ?? (fieldState.isDirty ? 'Save to apply changes' : '')\n\n  const label = `${approvalMethodDescription[tx.method](tx.tokenInfo?.symbol ?? '')}`\n  const options = selectValues\n\n  return (\n    <Autocomplete\n      freeSolo\n      fullWidth\n      options={options}\n      renderOption={(props, value: string) => <ApprovalOption key={value} menuItemProps={props} value={value} />}\n      value={value}\n      // On option select or free text entry\n      onInputChange={(_, value) => {\n        onChange(value)\n      }}\n      disableClearable\n      selectOnFocus={!readOnly}\n      readOnly={readOnly}\n      componentsProps={{\n        paper: {\n          elevation: 2,\n        },\n      }}\n      renderInput={(params) => {\n        return (\n          <NumberField\n            {...params}\n            label={label}\n            name={name}\n            fullWidth\n            helperText={helperText}\n            onFocus={(field) => {\n              if (!readOnly) {\n                field.target.select()\n              }\n            }}\n            margin=\"dense\"\n            variant=\"standard\"\n            error={!!fieldState.error}\n            size=\"small\"\n            onBlur={onBlur}\n            inputRef={ref}\n            InputProps={{\n              ...params.InputProps,\n              sx: {\n                flexWrap: 'nowrap !important',\n                '&::before': {\n                  border: 'none !important',\n                },\n                '&::after': {\n                  display: readOnly ? 'none' : undefined,\n                },\n                border: 'none !important',\n              },\n            }}\n            inputProps={{\n              ...params.inputProps,\n              className: css.approvalAmount,\n            }}\n            InputLabelProps={{\n              ...params.InputLabelProps,\n              shrink: true,\n              sx: {\n                color: (theme) => (readOnly ? `${theme.palette.text.secondary} !important` : undefined),\n              },\n            }}\n          />\n        )\n      }}\n    />\n  )\n}\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z\"\n}), 'EditOutlined');","import { Box, Button, IconButton, Stack, SvgIcon } from '@mui/material'\nimport css from '@/components/tx/ApprovalEditor/styles.module.css'\nimport type { ApprovalInfo } from './hooks/useApprovalInfos'\n\nimport { ApprovalValueField } from './ApprovalValueField'\nimport Track from '@/components/common/Track'\nimport { MODALS_EVENTS } from '@/services/analytics'\nimport { useFormContext } from 'react-hook-form'\nimport get from 'lodash/get'\nimport { EditOutlined } from '@mui/icons-material'\nimport TokenIcon from '@/components/common/TokenIcon'\nimport { useState } from 'react'\n\nconst EditableApprovalItem = ({\n  approval,\n  name,\n  onSave,\n}: {\n  approval: ApprovalInfo\n  onSave: () => void\n  name: string\n}) => {\n  const { formState, setFocus } = useFormContext()\n\n  const { errors, dirtyFields } = formState\n\n  const fieldErrors = get(errors, name)\n  const isDirty = get(dirtyFields, name)\n\n  const [readOnly, setReadOnly] = useState(true)\n\n  const handleSave = () => {\n    onSave()\n    setReadOnly(true)\n  }\n\n  const handleEditMode = () => {\n    setReadOnly(false)\n    // We need to rerender such that select on focus triggers\n    setTimeout(() => setFocus(name), 0)\n  }\n\n  return (\n    <Stack\n      direction=\"row\"\n      alignItems=\"center\"\n      gap={2}\n      className={css.approvalField}\n      onClick={readOnly ? handleEditMode : undefined}\n    >\n      <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" gap=\"4px\">\n        <TokenIcon size={32} logoUri={approval.tokenInfo?.logoUri} tokenSymbol={approval.tokenInfo?.symbol} />\n      </Box>\n\n      <ApprovalValueField name={name} tx={approval} readOnly={readOnly} />\n\n      <Track {...MODALS_EVENTS.EDIT_APPROVALS} label={readOnly ? 'edit' : 'save'}>\n        {readOnly ? (\n          <IconButton color=\"border\" onClick={handleEditMode} title=\"Edit\">\n            <SvgIcon fontSize=\"small\" component={EditOutlined} inheritViewBox />\n          </IconButton>\n        ) : (\n          <Button title=\"Save\" variant=\"text\" size=\"small\" onClick={handleSave} disabled={!!fieldErrors || !isDirty}>\n            Save\n          </Button>\n        )}\n      </Track>\n    </Stack>\n  )\n}\n\nexport default EditableApprovalItem\n","import { Box, Divider, List, ListItem, Stack } from '@mui/material'\nimport { FormProvider, useForm } from 'react-hook-form'\nimport css from './styles.module.css'\nimport type { ApprovalInfo } from './hooks/useApprovalInfos'\n\nimport { useMemo } from 'react'\nimport EditableApprovalItem from './EditableApprovalItem'\nimport groupBy from 'lodash/groupBy'\nimport { SpenderField } from './SpenderField'\n\nexport type ApprovalEditorFormData = {\n  approvals: string[]\n}\n\nexport const ApprovalEditorForm = ({\n  approvalInfos,\n  updateApprovals,\n}: {\n  approvalInfos: ApprovalInfo[]\n  updateApprovals: (newApprovals: string[]) => void\n}) => {\n  const groupedApprovals = useMemo(() => groupBy(approvalInfos, (approval) => approval.spender), [approvalInfos])\n\n  const initialApprovals = useMemo(() => approvalInfos.map((info) => info.amountFormatted), [approvalInfos])\n\n  const formMethods = useForm<ApprovalEditorFormData>({\n    defaultValues: {\n      approvals: initialApprovals,\n    },\n    mode: 'onChange',\n  })\n\n  const { getValues, reset } = formMethods\n\n  const onSave = () => {\n    const formData = getValues('approvals')\n    updateApprovals(formData)\n    reset({ approvals: formData })\n  }\n\n  let fieldIndex = 0\n\n  return (\n    <FormProvider {...formMethods}>\n      <List className={css.approvalsList}>\n        {Object.entries(groupedApprovals).map(([spender, approvals], spenderIdx) => (\n          <Box key={spender}>\n            <Stack\n              sx={{\n                gap: 2,\n              }}\n            >\n              {approvals.map((tx) => (\n                <ListItem\n                  key={tx.tokenAddress + tx.spender}\n                  className={0n === tx.amount ? css.zeroValueApproval : undefined}\n                  disablePadding\n                  data-testid=\"approval-item\"\n                >\n                  <EditableApprovalItem approval={tx} name={`approvals.${fieldIndex++}`} onSave={onSave} />\n                </ListItem>\n              ))}\n              <SpenderField address={spender} />\n\n              {spenderIdx !== Object.keys(groupedApprovals).length - 1 && <Divider />}\n            </Stack>\n          </Box>\n        ))}\n      </List>\n    </FormProvider>\n  )\n}\n","import { SafeTxContext } from '@/components/tx-flow/SafeTxProvider'\nimport Approvals from '@/components/tx/ApprovalEditor/Approvals'\nimport { createMultiSendCallOnlyTx, createTx } from '@/services/tx/tx-sender'\nimport { decodeSafeTxToBaseTransactions } from '@/utils/transactions'\nimport { Alert, Box, Skeleton, Typography } from '@mui/material'\nimport { type SafeTransaction } from '@safe-global/safe-core-sdk-types'\nimport { type EIP712TypedData, TokenType } from '@safe-global/safe-gateway-typescript-sdk'\nimport { useContext } from 'react'\nimport { ApprovalEditorForm } from './ApprovalEditorForm'\nimport { useApprovalInfos } from './hooks/useApprovalInfos'\nimport css from './styles.module.css'\nimport { updateApprovalTxs } from './utils/approvals'\n\nconst Title = ({ isErc721 }: { isErc721: boolean }) => {\n  const title = 'Allow access to tokens?'\n  const subtitle = isErc721\n    ? 'This allows the spender to transfer the specified token.'\n    : 'This allows the spender to spend the specified amount of your tokens.'\n\n  return (\n    <div>\n      <Typography\n        sx={{\n          fontWeight: 700,\n        }}\n      >\n        {title}\n      </Typography>\n      <Typography variant=\"body2\">{subtitle}</Typography>\n    </div>\n  )\n}\n\nexport const ApprovalEditor = ({\n  safeTransaction,\n  safeMessage,\n}: {\n  safeTransaction?: SafeTransaction\n  safeMessage?: EIP712TypedData\n}) => {\n  const { setSafeTx, setSafeTxError } = useContext(SafeTxContext)\n  const [readableApprovals, error, loading] = useApprovalInfos({ safeTransaction, safeMessage })\n\n  const nonZeroApprovals = readableApprovals?.filter((approval) => !(0n === approval.amount))\n\n  if (nonZeroApprovals?.length === 0 || (!safeTransaction && !safeMessage)) {\n    return null\n  }\n\n  const updateApprovals = (approvals: string[]) => {\n    if (!safeTransaction) {\n      return\n    }\n    const extractedTxs = decodeSafeTxToBaseTransactions(safeTransaction)\n    const updatedTxs = updateApprovalTxs(approvals, readableApprovals, extractedTxs)\n\n    const createSafeTx = async (): Promise<SafeTransaction> => {\n      const isMultiSend = updatedTxs.length > 1\n      return isMultiSend ? createMultiSendCallOnlyTx(updatedTxs) : createTx(updatedTxs[0])\n    }\n\n    createSafeTx().then(setSafeTx).catch(setSafeTxError)\n  }\n\n  const isErc721Approval = !!readableApprovals?.some((approval) => approval.tokenInfo?.type === TokenType.ERC721)\n\n  const isReadOnly =\n    (safeTransaction && safeTransaction.signatures.size > 0) || safeMessage !== undefined || isErc721Approval\n\n  return (\n    <Box\n      className={css.container}\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 2,\n        mb: 1,\n      }}\n    >\n      <Title isErc721={isErc721Approval} />\n      {error ? (\n        <Alert severity=\"error\">Error while decoding approval transactions.</Alert>\n      ) : loading || !readableApprovals ? (\n        <Skeleton variant=\"rounded\" height={100} data-testid=\"approval-editor-loading\" />\n      ) : isReadOnly ? (\n        <Approvals approvalInfos={readableApprovals} />\n      ) : (\n        <ApprovalEditorForm approvalInfos={readableApprovals} updateApprovals={updateApprovals} />\n      )}\n    </Box>\n  )\n}\n\nexport default ApprovalEditor\n","import { ERC20__factory } from '@/types/contracts'\nimport { UNLIMITED_APPROVAL_AMOUNT } from '@/utils/tokens'\nimport type { BaseTransaction } from '@safe-global/safe-apps-sdk'\nimport type { DecodedDataResponse } from '@safe-global/safe-gateway-typescript-sdk'\nimport { parseUnits, id } from 'ethers'\nimport { EMPTY_DATA } from '@safe-global/protocol-kit/dist/src/utils/constants'\nimport { type ApprovalInfo } from '../hooks/useApprovalInfos'\n\nexport const APPROVAL_SIGNATURE_HASH = id('approve(address,uint256)').slice(0, 10)\nexport const INCREASE_ALLOWANCE_SIGNATURE_HASH = id('increaseAllowance(address,uint256)').slice(0, 10)\n\nconst MULTISEND_METHOD = 'multiSend'\n\nconst APPROVE_METHOD = 'approve'\n\nconst TRANSACTIONS_PARAM = 'transactions'\n\nconst ADDRESS_TYPE = 'address'\nconst UINT256_TYPE = 'uint256'\n\nconst ERC20_INTERFACE = ERC20__factory.createInterface()\n\nexport enum PSEUDO_APPROVAL_VALUES {\n  UNLIMITED = 'Unlimited amount',\n}\n\nconst parseApprovalAmount = (amount: string, decimals: number) => {\n  if (amount === PSEUDO_APPROVAL_VALUES.UNLIMITED) {\n    return UNLIMITED_APPROVAL_AMOUNT\n  }\n\n  return parseUnits(amount, decimals)\n}\n\nexport const extractTxs: (txs: BaseTransaction[] | (DecodedDataResponse & { to: string })) => BaseTransaction[] = (\n  txs,\n) => {\n  if (Array.isArray(txs)) {\n    return txs\n  }\n\n  const isMultiSendCall = txs.method === MULTISEND_METHOD && txs.parameters.length === 1\n\n  // Our multisend contract takes 1 param called transactions\n  if (isMultiSendCall) {\n    const txParam = txs.parameters[0]\n    if (txParam.name === TRANSACTIONS_PARAM) {\n      return txParam.valueDecoded\n        ? txParam.valueDecoded.map((innerTx) => ({\n            to: innerTx.to,\n            data: innerTx.data || EMPTY_DATA,\n            value: innerTx.value,\n          }))\n        : []\n    }\n  }\n\n  const isApproveCall = txs.method === APPROVE_METHOD && txs.parameters.length === 2\n\n  if (isApproveCall) {\n    const spenderParam = txs.parameters[0]\n    const amountParam = txs.parameters[1]\n\n    // We only check the types here instead of the names may vary in ERC20 implementations\n    if (\n      spenderParam.type == ADDRESS_TYPE &&\n      typeof spenderParam.value === 'string' &&\n      amountParam.type === UINT256_TYPE &&\n      typeof amountParam.value === 'string'\n    ) {\n      return [\n        {\n          to: txs.to,\n          value: '0x',\n          data: ERC20_INTERFACE.encodeFunctionData(APPROVE_METHOD, [spenderParam.value, amountParam.value]),\n        },\n      ]\n    }\n  }\n  return []\n}\n\nexport const updateApprovalTxs = (\n  approvalFormValues: string[],\n  approvalInfos: ApprovalInfo[] | undefined,\n  txs: BaseTransaction[],\n) => {\n  const updatedTxs = txs.map((tx, txIndex) => {\n    const approvalIndex = approvalInfos?.findIndex((approval) => approval.transactionIndex === txIndex)\n    if (approvalIndex === undefined) {\n      return tx\n    }\n    if (tx.data.startsWith(APPROVAL_SIGNATURE_HASH) || tx.data.startsWith(INCREASE_ALLOWANCE_SIGNATURE_HASH)) {\n      const newApproval = approvalFormValues[approvalIndex]\n      const approvalInfo = approvalInfos?.[approvalIndex]\n      if (!approvalInfo || !approvalInfo.tokenInfo) {\n        // Without decimals and spender we cannot create a new tx\n        return tx\n      }\n      const decimals = approvalInfo.tokenInfo.decimals\n      const newAmountWei = parseApprovalAmount(newApproval, decimals ?? 0)\n      if (tx.data.startsWith(APPROVAL_SIGNATURE_HASH)) {\n        return {\n          to: approvalInfo.tokenAddress,\n          value: '0',\n          data: ERC20_INTERFACE.encodeFunctionData('approve', [approvalInfo.spender, newAmountWei]),\n        }\n      } else {\n        return {\n          to: approvalInfo.tokenAddress,\n          value: '0',\n          data: ERC20_INTERFACE.encodeFunctionData('increaseAllowance', [approvalInfo.spender, newAmountWei]),\n        }\n      }\n    }\n    return tx\n  })\n\n  return updatedTxs\n}\n","var _g;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var s = Object.getOwnPropertySymbols(e); for (r = 0; r < s.length; r++) o = s[r], t.includes(o) || {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (e.includes(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nvar SvgBlockaidIcon = function SvgBlockaidIcon(_ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 46,\n    height: 10,\n    viewBox: \"0 0 46 10\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.86914 9.34756V0.460938H10.5625V9.34756H8.86914Z\",\n    fill: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.455 9.53526C12.4753 9.53526 11.1182 8.06869 11.1182 6.16707C11.1182 4.26543 12.4753 2.79883 14.455 2.79883C16.4347 2.79883 17.7919 4.26543 17.7919 6.16707C17.7919 8.06869 16.4347 9.53526 14.455 9.53526ZM14.455 8.24269C15.4885 8.24269 16.0737 7.40992 16.0737 6.16707C16.0737 4.92416 15.4885 4.079 14.455 4.079C13.4092 4.079 12.8364 4.92416 12.8364 6.16707C12.8364 7.40992 13.4092 8.24269 14.455 8.24269Z\",\n    fill: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.2932 9.53526C19.2761 9.53526 18.0186 8.06869 18.0186 6.16707C18.0186 4.26543 19.2637 2.79883 21.206 2.79883C22.862 2.79883 23.883 3.75585 24.1071 5.13545H22.4511C22.3391 4.57616 21.9033 4.15358 21.2807 4.15358C20.2597 4.15358 19.7368 4.93659 19.7368 6.16707C19.7368 7.37264 20.2224 8.18054 21.2558 8.18054C21.9407 8.18054 22.4262 7.82007 22.5383 7.09921H24.1694C24.0573 8.45397 22.999 9.53526 21.2932 9.53526Z\",\n    fill: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.8677 9.34756L27.0747 6.43923L26.3401 7.19737V9.34756H24.6592V0.460938H26.3401V5.38275L28.6062 2.97157H30.6357L28.2824 5.39518L30.922 9.34756H28.8677Z\",\n    fill: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M35.0468 9.35007C34.9472 9.22579 34.885 8.9275 34.8476 8.64164H34.8227C34.499 9.12636 34.0383 9.49921 32.9426 9.49921C31.6352 9.49921 30.7139 8.81564 30.7139 7.54788C30.7139 6.14345 31.8593 5.69598 33.2788 5.49712C34.3371 5.34798 34.8227 5.26098 34.8227 4.77626C34.8227 4.31639 34.4616 4.0181 33.7519 4.0181C32.955 4.0181 32.5691 4.30396 32.5193 4.91298H31.0127C31.0625 3.79438 31.8967 2.8125 33.7643 2.8125C35.6818 2.8125 36.4538 3.67009 36.4538 5.16155V8.4055C36.4538 8.89021 36.5285 9.17607 36.6779 9.28793V9.35007H35.0468ZM33.3535 8.3185C34.3246 8.3185 34.8601 7.72188 34.8601 7.10045V6.14345C34.5612 6.31745 34.1005 6.41688 33.6772 6.51631C32.7932 6.71517 32.3574 6.91402 32.3574 7.51059C32.3574 8.10721 32.7558 8.3185 33.3535 8.3185Z\",\n    fill: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M37.2803 9.34756V2.97157H38.9736V9.34756H37.2803ZM37.2803 1.97726V0.460938H38.9736V1.97726H37.2803Z\",\n    fill: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M42.2058 9.53399C40.5996 9.53399 39.5039 8.22899 39.5039 6.1658C39.5039 4.17717 40.637 2.79756 42.2307 2.79756C43.1271 2.79756 43.6874 3.20771 44.036 3.74216H44.0734V0.460938H45.7668V9.34756H44.1357V8.51485H44.1108C43.7372 9.12385 43.1022 9.53399 42.2058 9.53399ZM42.5793 8.11713C43.5879 8.11713 44.1108 7.37137 44.1108 6.20309C44.1108 4.98504 43.7123 4.16474 42.6291 4.16474C41.6953 4.16474 41.2221 4.98504 41.2221 6.1658C41.2221 7.39623 41.7077 8.11713 42.5793 8.11713Z\",\n    fill: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M6.22285 1.9113H0.137496V0.462891H6.22285C7.362 0.462891 8.28547 1.38501 8.28547 2.52252C8.28547 3.66002 7.362 4.58214 6.22285 4.58214H1.80974C1.64101 4.58214 1.50423 4.71873 1.50423 4.88719C1.50423 5.05571 1.64101 5.19229 1.80974 5.19229H6.22304C7.36209 5.19229 8.28547 6.11433 8.28547 7.25171C8.28547 8.38914 7.36209 9.31119 6.22304 9.31119H0.137496V7.86276H6.22304C6.561 7.86276 6.835 7.58919 6.835 7.25171C6.835 6.91424 6.561 6.64067 6.22304 6.64067H1.80974C0.839911 6.64067 0.0537109 5.85562 0.0537109 4.88719C0.0537109 3.91879 0.839911 3.13374 1.80974 3.13374H6.22285C6.5609 3.13374 6.835 2.86009 6.835 2.52252C6.835 2.18495 6.5609 1.9113 6.22285 1.9113Z\",\n    fill: \"currentColor\"\n  }))));\n};\nexport default SvgBlockaidIcon;","import { SecuritySeverity } from '@/services/security/modules/types'\nimport CloseIcon from '@/public/images/common/close.svg'\nimport InfoIcon from '@/public/images/notifications/info.svg'\nimport type { ComponentType } from 'react'\nimport type { AlertColor } from '@mui/material'\n\nconst ACTION_REJECT = 'Reject this transaction'\nconst ACTION_REVIEW = 'Review before processing'\n\nexport type SecurityWarningProps = {\n  color: AlertColor\n  icon: ComponentType\n  label: string\n  action?: string\n}\n\nexport const mapSecuritySeverity: Record<SecuritySeverity, SecurityWarningProps> = {\n  [SecuritySeverity.CRITICAL]: {\n    action: ACTION_REJECT,\n    color: 'error',\n    icon: CloseIcon,\n    label: 'critical risk',\n  },\n  [SecuritySeverity.HIGH]: {\n    action: ACTION_REJECT,\n    color: 'error',\n    icon: CloseIcon,\n    label: 'high risk',\n  },\n  [SecuritySeverity.MEDIUM]: {\n    action: ACTION_REVIEW,\n    color: 'warning',\n    icon: InfoIcon,\n    label: 'warning',\n  },\n  [SecuritySeverity.LOW]: {\n    action: ACTION_REVIEW,\n    color: 'warning',\n    icon: InfoIcon,\n    label: 'warning',\n  },\n  [SecuritySeverity.NONE]: {\n    color: 'info',\n    icon: InfoIcon,\n    label: 'info',\n  },\n}\n","import { List, ListItem, Typography } from '@mui/material'\n\nexport const BlockaidHint = ({ warnings }: { warnings: string[] }) => {\n  return (\n    <List sx={{ listStyle: 'disc', pl: 2, py: 0, '& li:last-child': { m: 0 } }}>\n      {warnings.map((warning) => (\n        <ListItem key={warning} disablePadding sx={{ display: 'list-item', mb: 1 }}>\n          <Typography variant=\"body2\">{warning}</Typography>\n        </ListItem>\n      ))}\n    </List>\n  )\n}\n","import { useContext } from 'react'\nimport { TxSecurityContext, type TxSecurityContextProps } from '@/components/tx/security/shared/TxSecurityContext'\nimport groupBy from 'lodash/groupBy'\nimport { Alert, AlertTitle, Box, Checkbox, FormControlLabel, Stack, Typography } from '@mui/material'\nimport { FEATURES } from '@/utils/chains'\nimport { useHasFeature } from '@/hooks/useChains'\nimport { ErrorBoundary } from '@sentry/react'\nimport css from './styles.module.css'\n\nimport Track from '@/components/common/Track'\nimport { MODALS_EVENTS } from '@/services/analytics'\n\nimport BlockaidIcon from '@/public/images/transactions/blockaid-icon.svg'\nimport { SafeTxContext } from '@/components/tx-flow/SafeTxProvider'\nimport { type SecurityWarningProps, mapSecuritySeverity } from '../utils'\nimport { BlockaidHint } from './BlockaidHint'\nimport { SecuritySeverity } from '@/services/security/modules/types'\n\nexport const REASON_MAPPING: Record<string, string> = {\n  raw_ether_transfer: 'transfers native currency',\n  signature_farming: 'is a raw signed transaction',\n  transfer_farming: 'transfers tokens',\n  approval_farming: 'approves erc20 tokens',\n  set_approval_for_all: 'approves all tokens of the account',\n  permit_farming: 'authorizes access or permissions',\n  seaport_farming: 'authorizes transfer of assets via Opeansea marketplace',\n  blur_farming: 'authorizes transfer of assets via Blur marketplace',\n  delegatecall_execution: 'involves a delegate call',\n}\n\nexport const CLASSIFICATION_MAPPING: Record<string, string> = {\n  known_malicious: 'to a known malicious address',\n  unverified_contract: 'to an unverified contract',\n  new_address: 'to a new address',\n  untrusted_address: 'to an untrusted address',\n  address_poisoning: 'to a poisoned address',\n  losing_mint: 'resulting in a mint for a new token with a significantly higher price than the known price',\n  losing_assets: 'resulting in a loss of assets without any compensation',\n  losing_trade: 'resulting in a losing trade',\n  drainer_contract: 'to a known drainer contract',\n  user_mistake: 'resulting in a loss of assets due to an innocent mistake',\n  gas_farming_attack: 'resulting in a waste of the account address’ gas to generate tokens for a scammer',\n  other: 'resulting in a malicious outcome',\n}\n\nconst BlockaidResultWarning = ({\n  blockaidResponse,\n  severityProps,\n  needsRiskConfirmation,\n  isRiskConfirmed,\n  isTransaction,\n  toggleConfirmation,\n}: {\n  blockaidResponse?: TxSecurityContextProps['blockaidResponse']\n  severityProps?: SecurityWarningProps\n  needsRiskConfirmation: boolean\n  isRiskConfirmed: boolean\n  isTransaction: boolean\n  toggleConfirmation: () => void\n}) => {\n  return (\n    <Box>\n      {blockaidResponse && blockaidResponse.severity !== SecuritySeverity.NONE && (\n        <>\n          <Alert\n            severity={severityProps?.color}\n            className={css.customAlert}\n            sx={\n              needsRiskConfirmation\n                ? {\n                    borderBottomLeftRadius: '0px',\n                    borderBottomRightRadius: '0px',\n                  }\n                : undefined\n            }\n          >\n            <AlertTitle fontWeight=\"700 !important\" mb={1}>\n              <ResultDescription\n                classification={blockaidResponse.classification}\n                reason={blockaidResponse.reason}\n                description={blockaidResponse.description}\n              />\n            </AlertTitle>\n            <BlockaidMessage />\n          </Alert>\n          {needsRiskConfirmation && (\n            <Box\n              className={css.riskConfirmationBlock}\n              sx={{\n                pl: 2,\n              }}\n            >\n              <Track {...MODALS_EVENTS.ACCEPT_RISK}>\n                <FormControlLabel\n                  label={\n                    <Typography variant=\"body2\" color=\"static.main\">\n                      I understand the risks and would like to sign this {isTransaction ? 'transaction' : 'message'}\n                    </Typography>\n                  }\n                  control={<Checkbox checked={isRiskConfirmed} onChange={toggleConfirmation} color=\"primary\" />}\n                />\n              </Track>\n            </Box>\n          )}\n          <Stack\n            direction=\"row\"\n            spacing={0.5}\n            sx={{\n              alignItems: 'center',\n              mt: 1,\n            }}\n          >\n            <Typography\n              variant=\"caption\"\n              sx={{\n                color: 'text.secondary',\n              }}\n            >\n              Powered by\n            </Typography>\n            <BlockaidIcon />\n          </Stack>\n        </>\n      )}\n    </Box>\n  )\n}\n\nconst ResultDescription = ({\n  description,\n  reason,\n  classification,\n}: {\n  description: string | undefined\n  reason: string | undefined\n  classification: string | undefined\n}) => {\n  let text: string | undefined = ''\n  if (reason && classification && REASON_MAPPING[reason] && CLASSIFICATION_MAPPING[classification]) {\n    text = `The transaction ${REASON_MAPPING[reason]} ${CLASSIFICATION_MAPPING[classification]}.`\n  } else {\n    text = description\n  }\n\n  return (\n    <Typography\n      variant=\"subtitle1\"\n      sx={{\n        fontWeight: 700,\n        lineHeight: '20px',\n      }}\n    >\n      {text ?? 'The transaction is malicious.'}\n    </Typography>\n  )\n}\n\nconst BlockaidError = () => {\n  return (\n    <Alert severity=\"warning\" className={css.customAlert}>\n      <AlertTitle>\n        <Typography\n          variant=\"subtitle1\"\n          sx={{\n            fontWeight: 700,\n          }}\n        >\n          Proceed with caution\n        </Typography>\n      </AlertTitle>\n      <Typography variant=\"body2\">\n        The transaction could not be checked for security alerts. Verify the details and addresses before proceeding.\n      </Typography>\n      <BlockaidMessage />\n    </Alert>\n  )\n}\n\nexport const Blockaid = () => {\n  const isFeatureEnabled = useHasFeature(FEATURES.RISK_MITIGATION)\n\n  if (!isFeatureEnabled) {\n    return null\n  }\n\n  return (\n    <ErrorBoundary fallback={<div>Error showing scan result</div>}>\n      <BlockaidWarning />\n    </ErrorBoundary>\n  )\n}\n\nconst BlockaidWarning = () => {\n  const { blockaidResponse, setIsRiskConfirmed, needsRiskConfirmation, isRiskConfirmed } = useContext(TxSecurityContext)\n  const { severity, isLoading, error } = blockaidResponse ?? {}\n\n  const { safeTx } = useContext(SafeTxContext)\n\n  // We either scan a tx or a message if tx is undefined\n  const isTransaction = !!safeTx\n\n  const severityProps = severity !== undefined ? mapSecuritySeverity[severity] : undefined\n\n  const toggleConfirmation = () => {\n    setIsRiskConfirmed((prev) => !prev)\n  }\n\n  if (error) {\n    return <BlockaidError />\n  }\n\n  if (isLoading || !blockaidResponse || !blockaidResponse.severity) {\n    return null\n  }\n\n  return (\n    <BlockaidResultWarning\n      isRiskConfirmed={isRiskConfirmed}\n      isTransaction={isTransaction}\n      needsRiskConfirmation={needsRiskConfirmation}\n      toggleConfirmation={toggleConfirmation}\n      blockaidResponse={blockaidResponse}\n      severityProps={severityProps}\n    />\n  )\n}\n\nexport const BlockaidMessage = () => {\n  const { blockaidResponse } = useContext(TxSecurityContext)\n  if (!blockaidResponse) {\n    return null\n  }\n\n  const { warnings } = blockaidResponse\n\n  /* Evaluate security warnings */\n  const groupedShownWarnings = groupBy(warnings, (warning) => warning.severity)\n  const sortedSeverities = Object.keys(groupedShownWarnings).sort((a, b) => (Number(a) < Number(b) ? 1 : -1))\n\n  if (sortedSeverities.length === 0) return null\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 1,\n      }}\n    >\n      {sortedSeverities.map((key) => (\n        <BlockaidHint key={key} warnings={groupedShownWarnings[key].map((warning) => warning.description)} />\n      ))}\n    </Box>\n  )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3Fkdw\",\"iconCircle\":\"styles_iconCircle__GFs_w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__JpPR_\",\"warningAccordion\":\"styles_warningAccordion__VYmjM\",\"alert\":\"styles_alert__AuXcA\",\"approvalField\":\"styles_approvalField__Zmyjg\",\"zeroValueApproval\":\"styles_zeroValueApproval__OIAbl\",\"approvalAmount\":\"styles_approvalAmount__8mRGf\",\"approvalsList\":\"styles_approvalsList__FrnNw\",\"wrapper\":\"styles_wrapper__b6_3U\",\"icon\":\"styles_icon__l2vLm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hint\":\"styles_hint__v_t63\",\"wrapperBox\":\"styles_wrapperBox__ppVp9\",\"loader\":\"styles_loader__bgS9a\",\"balanceChanges\":\"styles_balanceChanges__QlyzE\",\"balanceChange\":\"styles_balanceChange__cDx7u\",\"nftId\":\"styles_nftId__Scv4B\",\"categoryChip\":\"styles_categoryChip__Tnz31\",\"box\":\"styles_box__5vEUs\",\"checkboxError\":\"styles_checkboxError__UNbLi\",\"popup\":\"styles_popup__QJ_CT\",\"redefine\":\"styles_redefine__ZKgPE\",\"resultAccordion\":\"styles_resultAccordion__TqIPG\",\"customAlert\":\"styles_customAlert__GQIZM\",\"riskConfirmationBlock\":\"styles_riskConfirmationBlock__y38Ew\"};","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var s = Object.getOwnPropertySymbols(e); for (r = 0; r < s.length; r++) o = s[r], t.includes(o) || {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (e.includes(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nvar SvgClose = function SvgClose(_ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 15,\n    viewBox: \"0 0 15 15\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M8.47717 7.69172L13.7585 12.832C14.1467 13.2098 14.1467 13.8275 13.7585 14.2052C13.3694 14.583 12.7358 14.583 12.3476 14.2052L7.06626 9.06494L1.7849 14.2052C1.39575 14.583 0.76214 14.583 0.373991 14.2052C-0.0151556 13.8275 -0.0151556 13.2098 0.373991 12.832L5.65536 7.69172L0.373891 2.55133C-0.0152554 2.17354 -0.0152554 1.55589 0.373891 1.17811C0.76204 0.799355 1.39565 0.799355 1.7848 1.17811L7.06626 6.3185L12.3477 1.17811C12.7359 0.799355 13.3695 0.799355 13.7586 1.17811C14.1468 1.55589 14.1468 2.17354 13.7586 2.55133L8.47717 7.69172Z\",\n    fill: \"currentColor\"\n  })));\n};\nexport default SvgClose;"],"names":["address","BlockedAddress","featureTitle","onClose","theme","useTheme","isMobile","useMediaQuery","breakpoints","down","displayAddress","shortenAddress","router","useRouter","Disclaimer","title","subtitle","content","onAccept","push","handleAccept","pathname","AppRoutes","home","query","buttonText","div","className","css","Paper","sx","maxWidth","Stack","padding","gap","display","alignItems","palette","borderBottom","border","light","Typography","color","Box","SvgIcon","component","InfoIcon","inheritViewBox","fontSize","variant","fontWeight","Divider","justifyContent","pt","pb","Button","size","px","onClick","MULTISEND_SIGNATURE_HASH","id","slice","ERC20_INTERFACE","ERC20__factory","createInterface","ApprovalModule","scanInnerTransaction","txPartial","txIndex","data","startsWith","APPROVAL_SIGNATURE_HASH","spender","amount","decodeFunctionData","tokenAddress","to","method","transactionIndex","INCREASE_ALLOWANCE_SIGNATURE_HASH","getPermitDetails","details","BigInt","token","scanMessage","request","safeMessage","approvalInfos","normalizedMessage","normalizeTypedData","domain","name","undefined","types","message","permitInfo","forEach","idx","length","SecuritySeverity","NONE","payload","severity","scanTransaction","safeTransaction","safeTxData","innerTxs","decodeMultiSendData","flatMap","tx","index","ApprovalModuleInstance","useApprovalInfos","balances","useBalances","approvals","useMemo","hasApprovalSignatures","error","loading","useAsync","Promise","all","map","approval","tokenInfo","items","find","sameAddress","item","getERC20TokenInfoOnChain","e","isErc721","isErc721Token","symbol","getErc721Symbol","decimals","type","TokenType","ERC721","ERC20","amountFormatted","UNLIMITED_APPROVAL_AMOUNT","UNLIMITED_PERMIT2_AMOUNT","PSEUDO_APPROVAL_VALUES","UNLIMITED","safeFormatUnits","DEFAULT_DECIMALS","approvalMethodDescription","approve","increaseAllowance","Permit2","ApprovalItem","rawAmount","direction","TokenIcon","logoUri","tokenSymbol","overflowX","data-testid","formatAmountPrecise","toString","SpenderField","chainId","useChainId","spendingContract","getContract","isSmallScreen","EthHashInfo","avatarSize","displayName","customAvatar","shortAddress","hasExplorer","Approvals","groupedApprovals","groupBy","List","Object","entries","ListItem","disablePadding","ApprovalOption","menuItemProps","value","MenuItem","ApprovalValueField","fieldState","readOnly","control","useFormContext","selectValues","values","field","ref","onBlur","onChange","useController","rules","required","validate","includes","val","validateAmount","validateDecimalLength","helperText","isDirty","label","Autocomplete","freeSolo","fullWidth","options","renderOption","props","onInputChange","_","disableClearable","selectOnFocus","componentsProps","paper","elevation","renderInput","NumberField","params","onFocus","target","select","margin","inputRef","InputProps","flexWrap","inputProps","InputLabelProps","shrink","text","secondary","createSvgIcon","_jsx","d","onSave","EditableApprovalItem","formState","setFocus","errors","dirtyFields","fieldErrors","get","setReadOnly","useState","handleEditMode","setTimeout","flexDirection","Track","MODALS_EVENTS","EDIT_APPROVALS","IconButton","EditOutlined","handleSave","disabled","ApprovalEditorForm","updateApprovals","initialApprovals","info","formMethods","useForm","defaultValues","mode","getValues","reset","formData","fieldIndex","FormProvider","spenderIdx","keys","Title","ApprovalEditor","setSafeTx","setSafeTxError","useContext","SafeTxContext","readableApprovals","nonZeroApprovals","filter","isErc721Approval","some","isReadOnly","signatures","mb","Alert","Skeleton","height","extractedTxs","decodeSafeTxToBaseTransactions","updatedTxs","updateApprovalTxs","createSafeTx","createMultiSendCallOnlyTx","createTx","then","catch","parseApprovalAmount","parseUnits","approvalFormValues","txs","approvalIndex","findIndex","newApproval","approvalInfo","newAmountWei","encodeFunctionData","ACTION_REJECT","ACTION_REVIEW","mapSecuritySeverity","CRITICAL","action","icon","CloseIcon","HIGH","MEDIUM","LOW","warnings","listStyle","pl","py","m","warning","raw_ether_transfer","signature_farming","transfer_farming","approval_farming","set_approval_for_all","permit_farming","seaport_farming","blur_farming","delegatecall_execution","known_malicious","unverified_contract","new_address","untrusted_address","address_poisoning","losing_mint","losing_assets","losing_trade","drainer_contract","user_mistake","gas_farming_attack","other","BlockaidResultWarning","blockaidResponse","severityProps","needsRiskConfirmation","isRiskConfirmed","isTransaction","toggleConfirmation","borderBottomLeftRadius","borderBottomRightRadius","AlertTitle","ResultDescription","classification","reason","description","BlockaidMessage","ACCEPT_RISK","FormControlLabel","Checkbox","checked","spacing","mt","BlockaidIcon","REASON_MAPPING","CLASSIFICATION_MAPPING","lineHeight","BlockaidError","Blockaid","useHasFeature","isFeatureEnabled","FEATURES","RISK_MITIGATION","ErrorBoundary","fallback","BlockaidWarning","setIsRiskConfirmed","TxSecurityContext","isLoading","safeTx","prev","groupedShownWarnings","sortedSeverities","sort","a","b","Number","BlockaidHint","key"],"sourceRoot":"","ignoreList":[9]}